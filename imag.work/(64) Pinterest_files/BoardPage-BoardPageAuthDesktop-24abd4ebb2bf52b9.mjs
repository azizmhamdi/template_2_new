(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6187,5501,13562,89150,48035,22653,20128,40432,42298,99246,16117,73878,13254,76624,99961,90123,47018,81165,98462,51046,27316,34906,30323,68729,29060,5142,90949,3472,69959,87947,12185],{746377:(e,t,r)=>{var i={"./":[310314,9],"./CZ":[13122,9,83563],"./CZ.js":[13122,9,83563],"./DA":[626551,9,26551],"./DA.js":[626551,9,26551],"./DE":[415745,9,15745],"./DE.js":[415745,9,15745],"./ENUK":[769954,9,69954],"./ENUK.js":[769954,9,69954],"./ENUS":[282330,9,82330],"./ENUS.js":[282330,9,82330],"./ESAR":[937010,9,37010],"./ESAR.js":[937010,9,37010],"./ESES":[590865,9,90865],"./ESES.js":[590865,9,90865],"./ESMX":[202848,9,2848],"./ESMX.js":[202848,9,2848],"./FI":[27544,9,27544],"./FI.js":[27544,9,27544],"./FR":[471152,9,71152],"./FR.js":[471152,9,71152],"./GR":[626159,9,26159],"./GR.js":[626159,9,26159],"./HI":[59249,9,59249],"./HI.js":[59249,9,59249],"./HU":[531957,9,31957],"./HU.js":[531957,9,31957],"./ID":[18435,9,18435],"./ID.js":[18435,9,18435],"./IT":[622504,9,58473],"./IT.js":[622504,9,58473],"./JP":[705133,9,5133],"./JP.js":[705133,9,5133],"./KR":[5909,9,5909],"./KR.js":[5909,9,5909],"./MS":[267195,9,67195],"./MS.js":[267195,9,67195],"./NL":[599977,9,99977],"./NL.js":[599977,9,99977],"./NO":[302468,9,2468],"./NO.js":[302468,9,2468],"./PL":[99909,9,99909],"./PL.js":[99909,9,99909],"./PTBR":[917526,9,17526],"./PTBR.js":[917526,9,17526],"./PTPT":[946979,9,46979],"./PTPT.js":[946979,9,46979],"./RO":[604801,9,4801],"./RO.js":[604801,9,4801],"./RU":[242655,9,42655],"./RU.js":[242655,9,42655],"./SK":[601524,9,1524],"./SK.js":[601524,9,1524],"./SV":[464365,9,64365],"./SV.js":[464365,9,64365],"./TH":[297992,9,97992],"./TH.js":[297992,9,97992],"./TL":[821941,9,21941],"./TL.js":[821941,9,21941],"./TR":[712598,9,12598],"./TR.js":[712598,9,12598],"./UA":[155449,9,55449],"./UA.js":[155449,9,55449],"./VT":[487227,9,87227],"./VT.js":[487227,9,87227],"./ZHCN":[735697,9,35697],"./ZHCN.js":[735697,9,35697],"./ZHTW":[882261,9,82261],"./ZHTW.js":[882261,9,82261],"./index":[310314,9],"./index.js":[310314,9],"./localeToFilename":[402163,9],"./localeToFilename.js":[402163,9],"./types":[890421,7,90421],"./types.js":[890421,7,90421]};function n(e){if(!r.o(i,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],n=t[0];return Promise.all(t.slice(2).map(r.e)).then(()=>r.t(n,16|t[1]))}n.keys=()=>Object.keys(i),n.id=746377,e.exports=n},497621:(e,t,r)=>{"use strict";function i(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function n(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}r.d(t,{Z:()=>o});let o={p:n,P:function(e,t){var r,o=e.match(/(P+)(p+)?/),a=o[1],s=o[2];if(!s)return i(e,t);switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",i(a,t)).replace("{{time}}",n(s,t))}}},924262:(e,t,r)=>{"use strict";function i(e){return e.getTime()%6e4}function n(e){var t=new Date(e.getTime()),r=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var n=r>0?(6e4+i(t))%6e4:i(t);return 6e4*r+n}r.d(t,{Z:()=>n})},333276:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(619013),n=r(666979),o=r(507032),a=r(13882);function s(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e);return Math.round(((0,n.Z)(t).getTime()-(function(e){(0,a.Z)(1,arguments);var t=(0,o.Z)(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),(0,n.Z)(r)})(t).getTime())/6048e5)+1}},507032:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(619013),n=r(666979),o=r(13882);function a(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e),r=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(r+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,n.Z)(a),l=new Date(0);l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0);var d=(0,n.Z)(l);return t.getTime()>=s.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}},505230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(619013),n=r(159025),o=r(983946),a=r(107651),s=r(13882);function l(e,t){(0,s.Z)(1,arguments);var r=(0,i.Z)(e);return Math.round(((0,n.Z)(r,t).getTime()-(function(e,t){(0,s.Z)(1,arguments);var r=t||{},i=r.locale,l=i&&i.options&&i.options.firstWeekContainsDate,d=null==l?1:(0,o.Z)(l),c=null==r.firstWeekContainsDate?d:(0,o.Z)(r.firstWeekContainsDate),u=(0,a.Z)(e,t),h=new Date(0);return h.setUTCFullYear(u,0,c),h.setUTCHours(0,0,0,0),(0,n.Z)(h,t)})(r,t).getTime())/6048e5)+1}},107651:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(983946),n=r(619013),o=r(159025),a=r(13882);function s(e,t){(0,a.Z)(1,arguments);var r=(0,n.Z)(e,t),s=r.getUTCFullYear(),l=t||{},d=l.locale,c=d&&d.options&&d.options.firstWeekContainsDate,u=null==c?1:(0,i.Z)(c),h=null==l.firstWeekContainsDate?u:(0,i.Z)(l.firstWeekContainsDate);if(!(h>=1&&h<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(s+1,0,h),p.setUTCHours(0,0,0,0);var _=(0,o.Z)(p,t),m=new Date(0);m.setUTCFullYear(s,0,h),m.setUTCHours(0,0,0,0);var g=(0,o.Z)(m,t);return r.getTime()>=_.getTime()?s+1:r.getTime()>=g.getTime()?s:s-1}},5267:(e,t,r)=>{"use strict";r.d(t,{Do:()=>a,Iu:()=>o,qp:()=>s});var i=["D","DD"],n=["YY","YYYY"];function o(e){return -1!==i.indexOf(e)}function a(e){return -1!==n.indexOf(e)}function s(e,t,r){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}},13882:(e,t,r)=>{"use strict";function i(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{Z:()=>i})},666979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(619013),n=r(13882);function o(e){(0,n.Z)(1,arguments);var t=(0,i.Z)(e),r=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-((r<1?7:0)+r-1)),t.setUTCHours(0,0,0,0),t}},159025:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(983946),n=r(619013),o=r(13882);function a(e,t){(0,o.Z)(1,arguments);var r=t||{},a=r.locale,s=a&&a.options&&a.options.weekStartsOn,l=null==s?0:(0,i.Z)(s),d=null==r.weekStartsOn?l:(0,i.Z)(r.weekStartsOn);if(!(d>=0&&d<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,n.Z)(e),u=c.getUTCDay();return c.setUTCDate(c.getUTCDate()-((u<d?7:0)+u-d)),c.setUTCHours(0,0,0,0),c}},983946:(e,t,r)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}r.d(t,{Z:()=>i})},51820:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(983946),n=r(619013),o=r(13882);function a(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e).getTime(),a=(0,i.Z)(t);return new Date(r+a)}},642298:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var i=r(112274),n=r(983975),o=r(491218),a=r(619013);function s(e,t){for(var r=Math.abs(e).toString();r.length<t;)r="0"+r;return(e<0?"-":"")+r}let l={y:function(e,t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return s("yy"===t?i%100:i,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):s(r+1,2)},d:function(e,t){return s(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.toUpperCase();case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return s(e.getUTCHours()%12||12,t.length)},H:function(e,t){return s(e.getUTCHours(),t.length)},m:function(e,t){return s(e.getUTCMinutes(),t.length)},s:function(e,t){return s(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length;return s(Math.floor(e.getUTCMilliseconds()*Math.pow(10,r-3)),t.length)}};var d=r(13882),c=r(333276),u=r(507032),h=r(505230),p=r(107651),_={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function m(e,t){var r=e>0?"-":"+",i=Math.abs(e),n=Math.floor(i/60),o=i%60;return 0===o?r+String(n):r+String(n)+(t||"")+s(o,2)}function g(e,t){return e%60==0?(e>0?"-":"+")+s(Math.abs(e)/60,2):f(e,t)}function f(e,t){var r=e>0?"-":"+",i=Math.abs(e);return r+s(Math.floor(i/60),2)+(t||"")+s(i%60,2)}let b={G:function(e,t,r){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});default:return r.era(i,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var i=e.getUTCFullYear(),n=i>0?i:1-i;return r.ordinalNumber(n,{unit:"year"})}return l.y(e,t)},Y:function(e,t,r,i){var n=(0,p.Z)(e,i),o=n>0?n:1-n;return"YY"===t?s(o%100,2):"Yo"===t?r.ordinalNumber(o,{unit:"year"}):s(o,t.length)},R:function(e,t){return s((0,u.Z)(e),t.length)},u:function(e,t){return s(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return s(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return s(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,r){var i=e.getUTCMonth();switch(t){case"M":case"MM":return l.M(e,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,r){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return s(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){var n=(0,h.Z)(e,i);return"wo"===t?r.ordinalNumber(n,{unit:"week"}):s(n,t.length)},I:function(e,t,r){var i=(0,c.Z)(e);return"Io"===t?r.ordinalNumber(i,{unit:"week"}):s(i,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):l.d(e,t)},D:function(e,t,r){var i=function(e){(0,d.Z)(1,arguments);var t=(0,a.Z)(e),r=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((r-t.getTime())/864e5)+1}(e);return"Do"===t?r.ordinalNumber(i,{unit:"dayOfYear"}):s(i,t.length)},E:function(e,t,r){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,r,i){var n=e.getUTCDay(),o=(n-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return s(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,i){var n=e.getUTCDay(),o=(n-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return s(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){var i=e.getUTCDay(),n=0===i?7:i;switch(t){case"i":return String(n);case"ii":return s(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,r){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var i,n=e.getUTCHours();switch(i=12===n?_.noon:0===n?_.midnight:n/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var i,n=e.getUTCHours();switch(i=n>=17?_.evening:n>=12?_.afternoon:n>=4?_.morning:_.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return l.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):l.H(e,t)},K:function(e,t,r){var i=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(i,{unit:"hour"}):s(i,t.length)},k:function(e,t,r){var i=e.getUTCHours();return(0===i&&(i=24),"ko"===t)?r.ordinalNumber(i,{unit:"hour"}):s(i,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):l.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):l.s(e,t)},S:function(e,t){return l.S(e,t)},X:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return g(n);case"XXXX":case"XX":return f(n);default:return f(n,":")}},x:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return g(n);case"xxxx":case"xx":return f(n);default:return f(n,":")}},O:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+m(n,":");default:return"GMT"+f(n,":")}},z:function(e,t,r,i){var n=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+m(n,":");default:return"GMT"+f(n,":")}},t:function(e,t,r,i){return s(Math.floor((i._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,r,i){return s((i._originalDate||e).getTime(),t.length)}};var y=r(497621),v=r(924262),x=r(5267),w=r(983946),P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C=/^'([^]*?)'?$/,j=/''/g,A=/[a-zA-Z]/;function E(e,t,r){(0,d.Z)(2,arguments);var s=String(t),l=r||{},c=l.locale||n.default,u=c.options&&c.options.firstWeekContainsDate,h=null==u?1:(0,w.Z)(u),p=null==l.firstWeekContainsDate?h:(0,w.Z)(l.firstWeekContainsDate);if(!(p>=1&&p<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=c.options&&c.options.weekStartsOn,m=null==_?0:(0,w.Z)(_),g=null==l.weekStartsOn?m:(0,w.Z)(l.weekStartsOn);if(!(g>=0&&g<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw RangeError("locale must contain localize property");if(!c.formatLong)throw RangeError("locale must contain formatLong property");var f=(0,a.Z)(e);if(!(0,i.Z)(f))throw RangeError("Invalid time value");var E=(0,v.Z)(f),T=(0,o.Z)(f,E),I={firstWeekContainsDate:p,weekStartsOn:g,locale:c,_originalDate:f};return s.match(S).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,y.Z[t])(e,c.formatLong,I):e}).join("").match(P).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return r.match(C)[1].replace(j,"'");var n=b[i];if(n)return!l.useAdditionalWeekYearTokens&&(0,x.Do)(r)&&(0,x.qp)(r,t,e),!l.useAdditionalDayOfYearTokens&&(0,x.Iu)(r)&&(0,x.qp)(r,t,e),n(T,r,c.localize,I);if(i.match(A))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}},112274:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(619013),n=r(13882);function o(e){return(0,n.Z)(1,arguments),!isNaN((0,i.Z)(e))}},849526:(e,t,r)=>{"use strict";function i(e){return function(t){var r=t||{},i=r.width?String(r.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}r.d(t,{Z:()=>i})},688486:(e,t,r)=>{"use strict";function i(e){return function(t,r){var i,n=r||{};if("formatting"===(n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=n.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,l=n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}return i[e.argumentCallback?e.argumentCallback(t):t]}}r.d(t,{Z:()=>i})},276723:(e,t,r)=>{"use strict";function i(e){return function(t,r){var i,n=String(t),o=r||{},a=o.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=n.match(s);if(!l)return null;var d=l[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth];return i="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}(c,function(e){return e.test(d)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}(c,function(e){return e.test(d)}),i=e.valueCallback?e.valueCallback(i):i,{value:i=o.valueCallback?o.valueCallback(i):i,rest:n.slice(d.length)}}}r.d(t,{Z:()=>i})},360974:(e,t,r)=>{"use strict";function i(e){return function(t,r){var i=String(t),n=r||{},o=i.match(e.matchPattern);if(!o)return null;var a=o[0],s=i.match(e.parsePattern);if(!s)return null;var l=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:l=n.valueCallback?n.valueCallback(l):l,rest:i.slice(a.length)}}}r.d(t,{Z:()=>i})},181991:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function n(e,t,r){var n;return(r=r||{},n="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),r.addSuffix)?r.comparison>0?"in "+n:n+" ago":n}},721865:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function n(e,t,r,n){return i[e]}},611950:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(688486),n={ordinalNumber:function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:(0,i.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};let o=n},507219:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(360974),n=r(276723),o={ordinalNumber:(0,i.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,n.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,n.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,n.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,n.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,n.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};let a=o},983975:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var i=r(181991),n=r(849526),o={date:(0,n.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,n.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,n.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},a=r(721865),s=r(611950),l=r(507219),d={code:"en-US",formatDistance:i.Z,formatLong:o,formatRelative:a.Z,localize:s.Z,match:l.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}};let c=d},824002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var i=r(983975),n=r(491218),o=r(619013),a=r(497621),s=r(924262),l=r(5267),d=r(983946),c=r(107651),u=r(13882);function h(e,t,r){(0,u.Z)(2,arguments);var i=r||{},n=i.locale,a=n&&n.options&&n.options.weekStartsOn,s=null==a?0:(0,d.Z)(a),l=null==i.weekStartsOn?s:(0,d.Z)(i.weekStartsOn);if(!(l>=0&&l<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,o.Z)(e),h=(0,d.Z)(t),p=c.getUTCDay();return c.setUTCDate(c.getUTCDate()+(((h%7+7)%7<l?7:0)+h-p)),c}var p=r(333276),_=r(505230),m=r(666979),g=r(159025),f={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},b={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function y(e,t,r){var i=t.match(e);if(!i)return null;var n=parseInt(i[0],10);return{value:r?r(n):n,rest:t.slice(i[0].length)}}function v(e,t){var r=t.match(e);return r?"Z"===r[0]?{value:0,rest:t.slice(1)}:{value:("+"===r[1]?1:-1)*((r[2]?parseInt(r[2],10):0)*36e5+(r[3]?parseInt(r[3],10):0)*6e4+(r[5]?parseInt(r[5],10):0)*1e3),rest:t.slice(r[0].length)}:null}function x(e,t){return y(f.anyDigitsSigned,e,t)}function w(e,t,r){switch(e){case 1:return y(f.singleDigit,t,r);case 2:return y(f.twoDigits,t,r);case 3:return y(f.threeDigits,t,r);case 4:return y(f.fourDigits,t,r);default:return y(RegExp("^\\d{1,"+e+"}"),t,r)}}function P(e,t,r){switch(e){case 1:return y(f.singleDigitSigned,t,r);case 2:return y(f.twoDigitsSigned,t,r);case 3:return y(f.threeDigitsSigned,t,r);case 4:return y(f.fourDigitsSigned,t,r);default:return y(RegExp("^-?\\d{1,"+e+"}"),t,r)}}function S(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function C(e,t){var r,i=t>0,n=i?t:1-t;if(n<=50)r=e||100;else{var o=n+50;r=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return i?r:1-r}var j=[31,28,31,30,31,30,31,31,30,31,30,31],A=[31,29,31,30,31,30,31,31,30,31,30,31];function E(e){return e%400==0||e%4==0&&e%100!=0}let T={G:{priority:140,parse:function(e,t,r,i){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,i){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,i){var n=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return w(4,e,n);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:n});default:return w(t.length,e,n)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,i){var n=e.getUTCFullYear();if(r.isTwoDigitYear){var o=C(r.year,n);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,i){var n=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return w(4,e,n);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:n});default:return w(t.length,e,n)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,i){var n=(0,c.Z)(e,i);if(r.isTwoDigitYear){var o=C(r.year,n);return e.setUTCFullYear(o,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,i)}var a="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(a,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,g.Z)(e,i)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,i){return"R"===t?P(4,e):P(t.length,e)},set:function(e,t,r,i){var n=new Date(0);return n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0),(0,m.Z)(n)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,i){return"u"===t?P(4,e):P(t.length,e)},set:function(e,t,r,i){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,i){switch(t){case"Q":case"QQ":return w(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,i){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,i){switch(t){case"q":case"qq":return w(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,i){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,i){var n=function(e){return e-1};switch(t){case"M":return y(f.month,e,n);case"MM":return w(2,e,n);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:n});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,i){var n=function(e){return e-1};switch(t){case"L":return y(f.month,e,n);case"LL":return w(2,e,n);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:n});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,i){switch(t){case"w":return y(f.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,i){return(0,g.Z)(function(e,t,r){(0,u.Z)(2,arguments);var i=(0,o.Z)(e),n=(0,d.Z)(t),a=(0,_.Z)(i,r)-n;return i.setUTCDate(i.getUTCDate()-7*a),i}(e,r,i),i)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,i){switch(t){case"I":return y(f.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,i){return(0,m.Z)(function(e,t){(0,u.Z)(2,arguments);var r=(0,o.Z)(e),i=(0,d.Z)(t),n=(0,p.Z)(r)-i;return r.setUTCDate(r.getUTCDate()-7*n),r}(e,r,i),i)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,i){switch(t){case"d":return y(f.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return w(t.length,e)}},validate:function(e,t,r){var i=E(e.getUTCFullYear()),n=e.getUTCMonth();return i?t>=1&&t<=A[n]:t>=1&&t<=j[n]},set:function(e,t,r,i){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,i){switch(t){case"D":case"DD":return y(f.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return w(t.length,e)}},validate:function(e,t,r){return E(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,i){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,i){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return(e=h(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,i){var n=function(e){return(e+i.weekStartsOn+6)%7+7*Math.floor((e-1)/7)};switch(t){case"e":case"ee":return w(t.length,e,n);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:n});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return(e=h(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,i){var n=function(e){return(e+i.weekStartsOn+6)%7+7*Math.floor((e-1)/7)};switch(t){case"c":case"cc":return w(t.length,e,n);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:n});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return(e=h(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,i){var n=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return w(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n});default:return r.day(e,{width:"wide",context:"formatting",valueCallback:n})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,i){return(e=function(e,t){(0,u.Z)(2,arguments);var r=(0,d.Z)(t);r%7==0&&(r-=7);var i=(0,o.Z)(e),n=((r%7+7)%7<1?7:0)+r-i.getUTCDay();return i.setUTCDate(i.getUTCDate()+n),i}(e,r,i)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,i){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(S(r),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,r,i){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(S(r),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,r,i){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(S(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,i){switch(t){case"h":return y(f.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,i){var n=e.getUTCHours()>=12;return n&&r<12?e.setUTCHours(r+12,0,0,0):n||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,i){switch(t){case"H":return y(f.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,i){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,i){switch(t){case"K":return y(f.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,i){switch(t){case"k":return y(f.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,i){var n=r<=24?r%24:r;return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,i){switch(t){case"m":return y(f.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,i){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,i){switch(t){case"s":return y(f.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return w(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,i){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,i){return w(t.length,e,function(e){return Math.floor(e*Math.pow(10,-t.length+3))})},set:function(e,t,r,i){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,i){switch(t){case"X":return v(b.basicOptionalMinutes,e);case"XX":return v(b.basic,e);case"XXXX":return v(b.basicOptionalSeconds,e);case"XXXXX":return v(b.extendedOptionalSeconds,e);default:return v(b.extended,e)}},set:function(e,t,r,i){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,i){switch(t){case"x":return v(b.basicOptionalMinutes,e);case"xx":return v(b.basic,e);case"xxxx":return v(b.basicOptionalSeconds,e);case"xxxxx":return v(b.extendedOptionalSeconds,e);default:return v(b.extended,e)}},set:function(e,t,r,i){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,i){return x(e)},set:function(e,t,r,i){return[new Date(1e3*r),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,i){return x(e)},set:function(e,t,r,i){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z=/^'([^]*?)'?$/,D=/''/g,R=/\S/,B=/[a-zA-Z]/;function O(e,t,r,c){(0,u.Z)(3,arguments);var h,p=String(e),_=String(t),m=c||{},g=m.locale||i.default;if(!g.match)throw RangeError("locale must contain match property");var f=g.options&&g.options.firstWeekContainsDate,b=null==f?1:(0,d.Z)(f),y=null==m.firstWeekContainsDate?b:(0,d.Z)(m.firstWeekContainsDate);if(!(y>=1&&y<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=g.options&&g.options.weekStartsOn,x=null==v?0:(0,d.Z)(v),w=null==m.weekStartsOn?x:(0,d.Z)(m.weekStartsOn);if(!(w>=0&&w<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===_)return""===p?(0,o.Z)(r):new Date(NaN);var P={firstWeekContainsDate:y,weekStartsOn:w,locale:g},S=[{priority:10,subPriority:-1,set:Z,index:0}],C=_.match(k).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,a.Z[t])(e,g.formatLong,P):e}).join("").match(I),j=[];for(h=0;h<C.length;h++){var A=C[h];!m.useAdditionalWeekYearTokens&&(0,l.Do)(A)&&(0,l.qp)(A,_,e),!m.useAdditionalDayOfYearTokens&&(0,l.Iu)(A)&&(0,l.qp)(A,_,e);var E=A[0],O=T[E];if(O){var L=O.incompatibleTokens;if(Array.isArray(L)){for(var M=void 0,N=0;N<j.length;N++){var F=j[N].token;if(-1!==L.indexOf(F)||F===E){M=j[N];break}}if(M)throw RangeError("The format string mustn't contain `".concat(M.fullToken,"` and `").concat(A,"` at the same time"))}else if("*"===O.incompatibleTokens&&j.length)throw RangeError("The format string mustn't contain `".concat(A,"` and any other token at the same time"));j.push({token:E,fullToken:A});var U=O.parse(p,A,g.match,P);if(!U)return new Date(NaN);S.push({priority:O.priority,subPriority:O.subPriority||0,set:O.set,validate:O.validate,value:U.value,index:S.length}),p=U.rest}else{if(E.match(B))throw RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if("''"===A?A="'":"'"===E&&(A=A.match(z)[1].replace(D,"'")),0!==p.indexOf(A))return new Date(NaN);p=p.slice(A.length)}}if(p.length>0&&R.test(p))return new Date(NaN);var H=S.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,r){return r.indexOf(e)===t}).map(function(e){return S.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),$=(0,o.Z)(r);if(isNaN($))return new Date(NaN);var V=(0,n.Z)($,(0,s.Z)($)),W={};for(h=0;h<H.length;h++){var G=H[h];if(G.validate&&!G.validate(V,G.value,P))return new Date(NaN);var q=G.set(V,W,G.value,P);q[0]?(V=q[0],function(e,t){if(null==e)throw TypeError("assign requires that input parameter not be null or undefined");for(var r in t=t||{})t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(W,q[1])):V=q}return V}function Z(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}},491218:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(983946),n=r(51820),o=r(13882);function a(e,t){(0,o.Z)(2,arguments);var r=(0,i.Z)(t);return(0,n.Z)(e,-r)}},619013:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(13882);function n(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},40432:(e,t,r)=>{"use strict";r.d(t,{$Vb:()=>T,BOn:()=>I,BfK:()=>E,CTP:()=>l,DMd:()=>J,EEg:()=>S,E_l:()=>d,Euu:()=>o,FVr:()=>N,FjJ:()=>es,H3M:()=>P,JTq:()=>Y,Ky9:()=>c,LUU:()=>M,LyT:()=>ea,N$G:()=>O,NNn:()=>f,OOl:()=>W,O_S:()=>D,PT2:()=>i,Pgj:()=>q,Pv2:()=>k,QzT:()=>V,RfW:()=>w,S6t:()=>H,UdT:()=>m,Uor:()=>b,UrY:()=>G,XxE:()=>u,Zt2:()=>el,_VP:()=>er,_Vp:()=>Z,cMj:()=>C,ckK:()=>x,ePR:()=>g,fpf:()=>U,gxR:()=>ed,h5_:()=>$,h7s:()=>ei,hRj:()=>Q,iJi:()=>ee,ieP:()=>h,jRv:()=>n,k95:()=>K,lWv:()=>B,mJW:()=>A,ni8:()=>j,o7L:()=>R,odg:()=>p,pzk:()=>z,qx5:()=>et,rP7:()=>a,rhk:()=>v,seF:()=>_,u2Z:()=>F,uu9:()=>y,wMN:()=>L,wdt:()=>X,wvI:()=>en,x_d:()=>s,z5V:()=>eo});let i="var(--color-red-pushpin-50)",n="var(--color-red-pushpin-100)",o="var(--color-red-pushpin-200)",a="var(--color-red-pushpin-300)",s="var(--color-red-pushpin-450)",l="var(--color-red-pushpin-500)",d="var(--color-red-pushpin-600)",c="var(--color-red-pushpin-700)",u="var(--color-red-pushpin-800)",h="var(--color-pink-flaminglow-0)",p="var(--color-blue-skycicle-100)",_="var(--color-blue-skycicle-500)",m="var(--color-blue-skycicle-900)",g="var(--color-teal-spabattical-100)",f="var(--color-teal-spabattical-800)",b="var(--color-purple-mysticool-100)",y="var(--color-purple-mysticool-200)",v="var(--color-purple-mysticool-300)",x="var(--color-purple-mysticool-500)",w="var(--color-orange-firetini-50)",P="var(--color-yellow-caramellow-50)",S="var(--color-yellow-caramellow-300)",C="var(--color-white-mochimalist-0)",j="var(--color-gray-roboflow-50)",A="var(--color-gray-roboflow-200)",E="var(--color-gray-roboflow-300)",T="var(--color-gray-roboflow-400)",I="var(--color-gray-roboflow-500)",k="var(--color-gray-roboflow-600)",z="var(--color-gray-roboflow-700)",D="var(--color-black-cosmicore-900)",R="var(--color-transparent)",B="var(--color-data-visualization-10)",O="var(--color-data-visualization-11)",Z="var(--color-data-visualization-12)",L="var(--color-data-visualization-01)",M="var(--color-data-visualization-02)",N="var(--color-data-visualization-03)",F="var(--color-data-visualization-04)",U="var(--color-data-visualization-05)",H="var(--color-data-visualization-06)",$="var(--color-data-visualization-07)",V="var(--color-data-visualization-08)",W="var(--color-data-visualization-09)",G="var(--color-text-subtle)",q="var(--color-text-inverse)",K="var(--color-background-default)",Y="var(--color-background-info-base)",X="var(--color-background-info-weak)",J="var(--color-background-error-base)",Q="var(--color-background-warning-base)",ee="var(--color-background-success-base)",et="var(--color-background-shopping)",er="var(--color-background-secondary-base)",ei="var(--color-background-inverse-base)",en="var(--color-background-formfield-primary)",eo="var(--color-border-container)",ea="var(--color-border-error)",es="var(--elevation-raised-top)",el="var(--font-size-100)",ed="var(--font-family-default-latin)"},17314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i,n,o=r(813653),a=r(861470),s=0,l=0;let d=function(e,t,r){var d=t&&r||0,c=t||Array(16),u=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==h){var p=e.random||(e.rng||o.Z)();null==u&&(u=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=n=(p[6]<<8|p[7])&16383)}var _=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,g=_-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||_>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=_,l=m,n=h;var f=((268435455&(_+=122192928e5))*1e4+m)%4294967296;c[d++]=f>>>24&255,c[d++]=f>>>16&255,c[d++]=f>>>8&255,c[d++]=255&f;var b=_/4294967296*1e4&268435455;c[d++]=b>>>8&255,c[d++]=255&b,c[d++]=b>>>24&15|16,c[d++]=b>>>16&255,c[d++]=h>>>8|128,c[d++]=255&h;for(var y=0;y<6;++y)c[d+y]=u[y];return t||(0,a.Z)(c)}},544599:e=>{"use strict";var t,r,i=(r=[t={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],type:"AdvisoryAction",abstractKey:null});i.hash="6ddea2ecd3dff2e1001c1e4d037cc858",e.exports=i},521502:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};t.hash="5879c4710b107f258f42156bf3e47e37",e.exports=t},84928:e=>{"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d",e.exports=r},341365:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};t.hash="4970946a36017d9ad0c751fd70cc512c",e.exports=t},833866:e=>{"use strict";var t,r,i,n=(r=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i=[t],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[t,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});n.hash="53d7eec34666980eda011429185b5b10",e.exports=n},513818:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MoreIdeasPreviewStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'}],type:"Pin",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};t.hash="075f9b94f00fe917dc6a9207c331b8f7",e.exports=t},704614:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButton_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="1604617e956a047199e44922f5d13dd2",e.exports=t},940875:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};t.hash="d12a0ef89312e2429f28a098a2536c8a",e.exports=t},575809:e=>{"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},t,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};r.hash="92b841173868ce353dd00b5fce287546",e.exports=r},875666:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};t.hash="ef57e3f96ab6a0ba7ea79d9d2bb3c326",e.exports=t},273002:e=>{"use strict";var t,r,i,n,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[n],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="e0cd549ce31635291bd74113393edc53",e.exports=o},624602:e=>{"use strict";var t,r,i,n,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[n],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="7c32abc79b81b52b7c0d6582f9278b22",e.exports=o},572163:e=>{"use strict";var t,r,i,n,o,a,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},r={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,i,t],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};s.hash="a3cb87deead5a06468a3b46652f22daa",e.exports=s},34035:e=>{"use strict";var t,r,i,n,o,a,s,l,d={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[i,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,a,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},l],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};d.hash="f70efc59a3f6a73e0af36081d8552b3a",e.exports=d},925033:e=>{"use strict";var t,r,i,n,o,a,s,l,d,c,u=(t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],r=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],a={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},d={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null},c=[n,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:o,storageKey:null},a,s,l,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[i,d],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:c,storageKey:null},a,s,l,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:c,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[d],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});u.hash="38716861de712c68561883b0d58d8bc6",e.exports=u},320926:e=>{"use strict";var t,r,i,n,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_emails_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[n],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"8900846b1564b60aeba0d82306e017e0f19e812705f67e3814980c045de36fca",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};o.hash="f346c00717b8f4893552fb8053a1ff5b",e.exports=o},29260:e=>{"use strict";var t,r,i,n,o,a,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},i={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t,i],kind:"Operation",name:"collab_users_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};s.hash="f4d87e820bd0fba4aa4c8fdaeed6231e",e.exports=s},491630:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notice",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};t.hash="acce8589f2dfbde368aad5ed8657c566",e.exports=t},887837:e=>{"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCanPerformAction_board",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],type:"Board",abstractKey:null};r.hash="416539a057718ff36ac5d9d06916c2d4",e.exports=r},361259:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>u});var i=r(667294),n=r(425288),o=r(497529),a=r(780280),s=r(829407),l=r(785893);let{Provider:d,useHook:c}=(0,n.Z)("PinRep");function u({children:e}){let{isAuthenticated:t}=(0,a.B)(),[r,n]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),h=(0,o.Z)(1000069);(0,s.Z)(()=>{let e=async()=>{if(!t){n(!1);return}let e=await h.fetchAllExperiences();e&&e.payload&&e.payload.experiences?.[1000069]?.experience_id===500417&&e.payload.experiences?.[1000069]?.display_data.hide_footer?h.viewExperience(1000069,500417):n(!1),u(!0)};e()});let p=(0,i.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:c,hidePinRepFooter:r}),[c,r]);return(0,l.jsx)(d,{value:p,children:e})}},219286:(e,t,r)=>{"use strict";function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}r.d(t,{Z:()=>i})},237056:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(773285),n=r(50286),o=r(19121),a=r(717615),s=r(231947);let l=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function d(e){let t=(0,n.HG)(),{checkExperiment:r}=(0,i.F)(),d=(0,a.Z)(),c=(0,o.Z)(),u=(0,s.lJ)(c,d),h=l[t?"dweb":"mweb"],p=r(h.organic).anyEnabled,_=r(h.monetized).anyEnabled,m=r("uid_sce_lightswitch_advertisers").anyEnabled;return!u&&((e&&(r("sce_lightswitch_organic"),r("sce_lightswitch_monetized")),t)?!!(p||_||m):p||_)}},98196:(e,t,r)=>{"use strict";r.d(t,{wy:()=>v,N$:()=>b,M:()=>g});var i,n=r(667294),o=r(167912),a=r(36022),s=r(733398);let l=(e,t,r)=>r&&(0,s.nZ)(r,t)?a.v.MODIFIED:(0,s.B1)(t,e)?a.v.CLEARED:a.v.APPLIED;function d(e,t){(0,s.ph)(t);let r=e.find(e=>e.id===t.id),i=r?.rules,n=r?.filter_options.find(e=>e.id===t.selectedOptionId)?.rules,o=n||i;if(!o)return[e,[]];let a=[],l=[];return e.forEach(e=>{o.includes(e.product_filter_type)?a.push(e):l.push(e)}),[a,l]}function c(e,t){switch(t.type){case"RESET_FILTERS":let[r,i]=t.payload;return{models:r,availableFilterModels:r,appliedFilters:i,filters:i,isFetching:!1,pendingDeletedSelections:{},status:l(r,i)};case"CLEAR_FILTERS":let n=(0,s.Af)(e.models),o=e.models;return Object.values(n).forEach(e=>{let[t]=d(o,e);o=t}),{...e,filters:n,availableFilterModels:o,pendingDeletedSelections:{},status:l(e.models,e.appliedFilters,n)};case"UPDATE_FILTER":let{payload:c}=t,[u,h]=d(e.models,c),p={...e.filters,[c.id]:c},_={...e.pendingDeletedSelections};return u.forEach(e=>{let t=_[e.id];t&&(p[e.id]=t,delete _[e.id])}),h.forEach(e=>{let t=p[e.id];t&&(_[e.id]=t,delete p[e.id])}),(0,s.ph)(c,e.models.find(e=>e.id===c.id))&&delete p[c.id],{...e,availableFilterModels:u,filters:p,pendingDeletedSelections:_,status:l(e.models,e.appliedFilters,p)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:a.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:a.v.FAILED};case"SUBMIT_COMPLETE":let{filters:m}=e;return{...e,appliedFilters:m,pendingDeletedSelections:{},status:l(e.models,m)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var u=r(425288),h=r(784590),p=r(128983),_=r(785893);let{Provider:m,useMaybeHook:g}=(0,u.Z)("UnifiedFiltersContext"),f=({applyInitFilters:e,children:t,filterModels:r,filters:i,isFetching:o,refreshFiltersData:l})=>{let d=e?.(r)||i||{},[u,h]=(0,n.useReducer)(c,{models:r,availableFilterModels:r,appliedFilters:d,filters:d,pendingDeletedSelections:{},isFetching:o,status:(0,s.B1)(d,r)?a.v.CLEARED:a.v.APPLIED}),[p,g]=(0,n.useState)(r);(0,n.useEffect)(()=>{o&&h({type:"LOADING"})},[o]),(0,n.useEffect)(()=>{if(!o&&(!u.isFetching||0!==r.length)){if(!(0,s.a$)(p,r)){h({type:"LOADING_COMPLETED_OR_FAILED"});return}h({type:"RESET_FILTERS",payload:[r,e?.(r)||{}]}),g(r)}},[e,r,p,o,u.isFetching]);let f=(0,n.useMemo)(()=>({filterState:u,dispatch:h,refreshFiltersData:l}),[u,l]);return(0,_.jsx)(m,{value:f,children:t})},b=({bookmark:e="",children:t,generateInitFilterCb:r})=>{let i=(0,h.Z)(e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{data:n=null,refresh:o,isLoaded:a}=i;return(0,_.jsx)(f,{applyInitFilters:r,filterModels:n||[],isFetching:!a||!e,refreshFiltersData:o,children:t})},y=void 0!==i?i:i=r(575809),v=({children:e,oneBarModulesKey:t})=>{let{data:r,isFetching:i}=(0,p.Z)(),{oneBarModules:s}=r||{},l=(0,o.useFragment)(y,t),d=(0,n.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:i,pendingDeletedSelections:{},status:a.v.CLEARED},refreshFiltersData:()=>{}}),[i]),c=(l?[l]:s?.map(e=>e&&{action:e.action&&{filters:e.action.filters?.map(e=>({isSelected:e.is_selected,id:e.id,display:e.display&&{displayText:e.display.display_text},action:e.action&&{feedUrl:e.action.feed_url}}))},id:e.id,moduleType:e.module_type}))?.find(({moduleType:e})=>0===e),u=c?.action?.filters;if(!c||!u)return(0,_.jsx)(m,{value:d,children:e});let h=c.id||"";return(0,_.jsx)(f,{filterModels:[{filter_component_type:2,filter_options:u.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:h,title:"",product_filter_type:4}],filters:{[h]:{id:h,selectedOptionId:u.find((e,t)=>e?.isSelected&&0!==t)?.id,type:"single"}},isFetching:i,refreshFiltersData:()=>{},children:e})}},36022:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,v:()=>n});let i=50,n={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},733398:(e,t,r)=>{"use strict";r.d(t,{Af:()=>p,Ak:()=>b,Ax:()=>g,B1:()=>h,LG:()=>f,a$:()=>c,i7:()=>_,nZ:()=>d,ph:()=>u,rc:()=>m});var i=r(36022),n=r(594736),o=r(909499);let a=e=>e.map(({filter_component_type:e,filter_options:t,title:r})=>({filter_component_type:e,filter_options:t.map(({label:e,count:t,image_url:r,is_verified:i,numeric_value:n,string_value:o,unit:a})=>({label:e,count:t,image_url:r,is_verified:i,numeric_value:n,string_value:o,unit:a})),title:r})),s=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type)return!(0,n.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type)return!(e.min===t.min&&e.max===t.max);throw Error("Filter type specific return must be specified")},l=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(l(e)&&l(t))return!1;if(l(e)||l(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let r in e){let i=e[r],n=t?.[r];if(s(i,n))return!0}return!1},c=(e,t)=>!(0,n.ZP)(a(e),a(t)),u=(e,t)=>{if("single"===e.type)return t&&e.selectedOptionId?!!t.filter_options.find(({id:t})=>e.selectedOptionId===t)?.is_selected:!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return e.min===t?.filter_options[0].numeric_value&&e.max===t?.filter_options[2].numeric_value;throw Error("Filter type specific return must be specified")},h=(e,t)=>{try{for(let r in e){let i=e[r],n=t.find(e=>e.id===i.id);if(!u(i,n))return!1}return!0}catch(e){return!0}},p=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let r=e.filter_options.filter(e=>e.is_selected).map(({id:e})=>e);return r.length>0?{selectedOptionIds:new Set(r),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),_=({scope:e,priceMin:t,priceMax:r,domains:i,unifiedFilterModels:n})=>{let a={};for(let{filter_options:s,id:l,product_filter_type:d}of n){if(1===d&&("number"==typeof t||"number"==typeof r)){let[e,i,n,o]=s,d=t??n?.numeric_value??e?.numeric_value,c=r??o?.numeric_value??i?.numeric_value;a[l]={min:d,max:c,id:l,type:"range",lastChangedLocation:1}}if(0===d&&i&&i.length>0){let e=i.map(e=>{let t=s.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(a[l]={id:l,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===d&&e){let t=(0,o.gi)(e),r=s.find(({search_type:e})=>e===t);r&&!r.is_selected&&(a[l]={id:l,lastChangedLocation:1,selectedOptionId:r.id,type:"single"})}}return a},m=({filterMap:e,models:t})=>{let r=null,i=null,n=null,a=null;for(let s in e){let l=e[s],d=t.find(e=>e.id===l.id);if(d){if("range"===l.type&&1===d.product_filter_type)r=l.min,i=l.max;else if("multi"===l.type&&0===d.product_filter_type){let e=d.filter_options.filter(e=>l.selectedOptionIds.has(e.id));n=e.map(e=>e.string_value).filter(Boolean)}else if("single"===l.type&&4===d.product_filter_type){let e=d.filter_options.find(e=>l.selectedOptionId===e.id);a=e&&void 0!==e.search_type?(0,o.zh)(e.search_type):o.lw.PINS}}}let s=t.find(e=>4===e.product_filter_type),l=s?.filter_options.find(e=>e.is_selected);return null===a&&"number"==typeof l?.search_type&&(a=(0,o.zh)(l.search_type)),{min:r,max:i,domains:n,scope:a}},g=(e,t)=>{let r=[];return(Object.keys(e).forEach(i=>{let n=e[i],o=t.find(e=>e.id===n.id);if(!o||4===o.product_filter_type)return;let a=[];if("range"===n.type){let[e,t]=o.filter_options;a=[{filter_option_id:e.id,numeric_value:n.min,unit:e.unit},{filter_option_id:t.id,numeric_value:n.max,unit:t.unit}]}if("single"===n.type){let e=o.filter_options.find(e=>e.id===n.selectedOptionId);if(!e)return;a=[{filter_option_id:e.id,string_value:e.string_value}]}if("multi"===n.type){let e=o.filter_options.filter(e=>n.selectedOptionIds.has(e.id));a=e.map(e=>({filter_option_id:e.id,string_value:e.string_value}))}r.push({filter_id:i,filter_options:a,location:n.lastChangedLocation,product_filter_type:o.product_filter_type})}),r&&0!==r.length)?{filters:[...r]}:null};function f(e,t,r){let[n,o,a,s]=r,{numeric_value:l=0}=s??n,{numeric_value:d=l+i.$}=a??o,{unit:c="USD"}=n,u=e.filters[t]||{min:l,max:d,id:t,type:"range"};return{defaultMax:d,defaultMin:l,unit:c,range:u}}function b(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}},573975:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(784590);function n(){let e=(0,i.Z)({name:"ApiResource",options:{url:"/v3/users/me/boards/soft_deleted/",data:{fields:["board.image_cover_url","board.id","board.name","board.pin_count","board.section_count","board.url"]}}}),{data:t,isLoaded:r,refresh:n}=e;return{recentlyDeletedBoards:t,isLoaded:r,refreshRecentlyDeletedBoards:n}}},81482:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(785893);function o({children:e}){return(0,n.jsx)("div",{className:"withoutBoxShadow",children:e})}var a=r(898781);function s({children:e,onClick:t,isSelected:r}){let s=(0,a.ZP)(),l=r?s._('Drag and drop selected item', 'BulkEditPinWrapper.tapArea.selectedAccessibilityLabel', 'Label for selected item that can be dragged and dropped.'):s._('Drag and drop deselected item', 'BulkEditPinWrapper.tapArea.deselectedAccessibilityLabel', 'Label for deselected item that can be dragged and dropped.');return(0,n.jsxs)(i.xu,{position:"relative",children:[(0,n.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,n.jsx)(o,{children:(0,n.jsx)(i.iP,{accessibilityLabel:l,fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2})})}),(0,n.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}},439333:(e,t,r)=>{"use strict";r.d(t,{H$:()=>f,MY:()=>g,ZP:()=>b});var i=r(667294),n=r(883119),o=r(898781),a=r(349700),s=r(785893);function l({shouldBlock:e,updateShouldBlock:t,user:r}){let i=(0,o.ZP)(),{fullName:l,username:d}=r,c=l?`${l} (${d})`:d;return(0,s.jsxs)(n.xu,{paddingY:3,children:[(0,s.jsx)(n.xv,{size:"100",children:(0,a.nk)(i._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:c})}),(0,s.jsxs)(n.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,s.jsx)(n.xu,{marginEnd:2,children:(0,s.jsx)(n.XZ,{checked:e,id:"blockUser",onChange:t})}),(0,s.jsx)(n.xu,{children:(0,s.jsx)(n.xv,{size:"300",children:(0,a.nk)(i._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,s.jsx)(n.xv,{inline:!0,size:"300",weight:"bold",children:(0,s.jsx)(n.rU,{display:"inlineBlock",href:`/${d}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:c},"blockUserLink")})})})})]})]})}let d={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function c({objectToReport:e,selectedReason:t,shouldBlockUser:r,renderVideoReasonDetailPage:i,updateShouldBlockUser:o}){let{detail_page_removal_examples:a,detail_page_removal_example_header:c,detail_page_non_removal_examples:u,detail_page_non_removal_example_header:h,detail_page_additional_text:p}=t;return(0,s.jsxs)(n.xu,{paddingX:8,children:[(0,s.jsxs)(n.xu,{paddingY:3,children:[(0,s.jsx)(n.xv,{size:"100",children:c}),a.length>0&&(0,s.jsx)(n.xu,{paddingY:2,children:(0,s.jsx)("ul",{children:a.map((e,t)=>(0,s.jsx)("li",{style:d,children:(0,s.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),u.length>0&&(0,s.jsxs)(n.xu,{paddingY:3,children:[(0,s.jsx)(n.xv,{size:"100",children:h}),(0,s.jsx)(n.xu,{paddingY:2,children:(0,s.jsx)("ul",{children:u.map((e,t)=>(0,s.jsx)("li",{style:d,children:(0,s.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),p&&(0,s.jsx)(n.xu,{paddingY:3,children:(0,s.jsx)(n.xv,{size:"300",children:p})}),i&&i(),"conversation"===e.type&&o&&e.userToBlock&&(0,s.jsx)(l,{shouldBlock:!!r,updateShouldBlock:o,user:{username:e.userToBlock.username,fullName:e.userToBlock.fullName}})]})}var u=r(407043);function h({isSelectionStep:e,hasTimestampErrors:t,selectedReason:r,handleSubmitReport:i,onDismiss:a,step:l,shouldBlockUser:d,objectToReport:c,setStep:h}){let p=(0,o.ZP)(),{logContextEvent:_}=(0,u.v)(),m=({component:e,element:t,event:r})=>{c&&_({event_type:r,component:e,element:t,object_id_str:c.id,view_parameter:c.viewParameter||void 0,view_type:c.viewType||void 0})},b=e=>{c.type===f.PIN&&m({event:59,element:e.element_type}),window.open(e.open_web_url,"_blank"),a()},y=e=>()=>{e!==g&&m({event:101,component:13179,...r?{element:r.element_type}:{}}),h(e)},v=e&&!r?.key||!e&&t,x=!(!1===l&&r?.secondary_reasons&&r.secondary_reasons.length>0),w=e?p._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):p._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),P=e?y(!1):()=>{if(r){let e={reasonKey:r.key,selectedReason:r,shouldBlockUser:d};i(e)}};r?.open_web_url&&(P=()=>b(r));let S=e?p._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):p._('Back', 'ReportModal.backButton', 'Back button'),C=e?a:y(!0);return(0,s.jsxs)(n.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(n.xu,{paddingX:1,children:(0,s.jsx)(n.xu,{"data-test-id":"report-pin-back-button",children:(0,s.jsx)(n.zx,{onClick:C,size:"lg",text:S})})}),x&&(0,s.jsx)(n.xu,{paddingX:1,children:(0,s.jsx)(n.xu,{"data-test-id":"report-pin-submit-button",children:(0,s.jsx)(n.zx,{color:"red",disabled:v??!1,onClick:P,size:"lg",text:w})})})]})}var p=r(389776);function _({handleSelectedReason:e,reason:t,reportingReasons:r}){let i=(0,o.ZP)();return(0,s.jsx)(n.xu,{paddingX:4,paddingY:2,children:(0,s.jsx)(n.FX,{id:"select-reporting-reason",legend:i._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:r.map(r=>(0,s.jsx)(n.xu,{direction:"row",display:"flex",paddingX:4,children:(0,s.jsx)(n.xu,{"data-test-id":`report-pin-reason-${r.key}`,children:(0,s.jsx)(n.FX.RadioButton,{checked:r.key===t,helperText:r.secondary_text||"",id:r.key,label:r.primary_text||"",name:"reportPinOptions",onChange:()=>e(r),value:r.key})})},`Option-${r.key}`))})})}var m=r(121151);let g=!0,f={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function b({onDismiss:e,handleSubmitReport:t,hasTimestampErrors:r,objectToReport:a,renderVideoReasonDetailPage:l,reportingReasons:d}){let u=(0,o.ZP)(),[b,y]=(0,i.useState)(null),[v,x]=(0,i.useState)(!1),[w,P]=(0,i.useState)(g),S=e=>{y(e)},C=()=>{if(w!==g&&b?.detail_page_header_text)return b.detail_page_header_text;switch(a.type){case f.PIN:return u._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case f.USER:return u._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case f.CONVERSATION:return u._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case f.BOARD:return u._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return d?(0,s.jsx)(m.ZP,{accessibilityModalLabel:C(),footer:d&&(0,s.jsx)(h,{handleSubmitReport:t,hasTimestampErrors:r,isSelectionStep:w===g,objectToReport:a,onDismiss:e,selectedReason:b,setStep:P,shouldBlockUser:v,step:w}),heading:C(),onDismiss:e,children:(0,s.jsxs)(n.xu,{children:[w===g&&(0,s.jsx)(_,{handleSelectedReason:S,reason:b?.key,reportingReasons:d}),w!==g&&b?.secondary_reasons&&b.secondary_reasons.length>0?(0,s.jsx)(p.Z,{onChange:S,secondaryReasons:b.secondary_reasons}):w!==g&&b&&(0,s.jsx)(c,{objectToReport:a,renderVideoReasonDetailPage:l,selectedReason:b,shouldBlockUser:v,updateShouldBlockUser:()=>{a.userToBlock&&x(!v)}})]})}):(0,s.jsx)(n.$j,{accessibilityLabel:u._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},389776:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(898781),o=r(785893);function a({onChange:e,secondaryReasons:t}){let r=(0,n.ZP)();return(0,o.jsx)(i.xu,{children:t.map(t=>(0,o.jsx)(i.iP,{onTap:()=>t.open_web_url?window.open(t.open_web_url,"_blank"):e(t),children:(0,o.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,o.jsx)(i.xu,{paddingX:8,children:(0,o.jsx)(i.xv,{children:t.primary_text})}),(0,o.jsx)(i.xu,{paddingX:8,children:t.open_web_url?(0,o.jsx)(i.JO,{accessibilityLabel:r._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",icon:"arrow-up-right"}):(0,o.jsx)(i.JO,{accessibilityLabel:r._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",icon:"arrow-forward"})})]})},t.key))})}},27255:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},558068:(e,t,r)=>{"use strict";r.d(t,{Hv:()=>l,aX:()=>u,nK:()=>h});var i=r(667294),n=r(616550),o=r(425288),a=r(785893);let{Provider:s,useHook:l}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){let r={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(r.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function u(){let{current:e,previous:t}=l(),r=(0,i.useMemo)(()=>e?t.concat(e):t,[e,t]);return r}function h({children:e}){let t=(0,n.k6)(),r=(0,n.TH)(),o=(0,n.$B)(),l={forward:[],current:{action:t.action,location:r,match:o},previous:[]},[d,u]=(0,i.useReducer)(c,l);return(0,i.useEffect)(()=>{let{action:e}=t;u({type:e,location:r,match:o})},[r]),(0,a.jsx)(s,{value:d,children:e})}},391254:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o}),r(441143);var i=r(785893);class n{static factory(e){return e instanceof n?e:new n(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){let{css:t,unsafeCSS:r,...o}=e,a=String(t||"")||r||"",s=!!a;return s?(0,i.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(n.factory(a))}}):null}},711344:(e,t,r)=>{"use strict";r.d(t,{xR:()=>m,ZP:()=>f,vR:()=>_});var i=r(231486),n=r(226198),o=r(932046),a=r(867820),s=r(644035),l=r(67347);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},c=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],u=/www\.pinterest\.[A-Za-z]{2}/,h=/[A-Za-z]{2}\.pinterest\.com/,p=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},_=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case s.RL:return"iphone";case s.GW:return t.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}};function m(e){let t=c.indexOf(e)>-1||u.test(e)||h.test(e);if(t)return e;for(let t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&e.indexOf(t)>-1)return d[t];return"other"}let g=({moduleName:e,pageType:t,requestContext:r})=>{let s;let d=_(r),c=r.isAuthenticated?"auth":"unauth",u=p(),h=(0,o.Z)(),g=(s=!1,i.U2(n.VL)||(i.t8(n.VL,"1",(0,i.kZ)(n.VL)),s=!0),s),f=document.domain||"unknown";g&&((0,a.My)(`traffic.${d}.${h}.${e}.${c}`),(0,a.My)(`traffic_subdomain.${f}.${h}.${e}.${c}`),(0,a.My)(`traffic_subdomain.${f}.${d}.${h}.${e}.${c}`),(0,a.My)(`traffic_subdomain.${f}.${d}.${c}`),(0,a.My)(`traffic_duplo.${d}.${h}.${e}.${c}`),u&&(0,a.My)(`traffic_bot.${u}.${e}`));let b={domain:m(f),referrer:h??"unknown",platform:d??"unknown",browser:r.userAgent.browserName??"unknown",bot_type:u??"none",page_type:t??"unknown",is_auth:c??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:g??"unknown"};(0,l.nP)("webapp.traffic",{sampleRate:.1,tags:b}),("google"===h||"other"===h)&&(0,l.nP)(`webapp.traffic.${d}.${h}`,{sampleRate:.1,tags:b})};function f({pageType:e,requestContext:t,route:r}){g({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[r]||"other",pageType:e,requestContext:t})}},201616:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(186656);let n=async e=>{let t=await (0,i.Z)({url:`/v3/board/${e}/report_reasons/`});return t.resource_response.data},o=n},113674:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(186656);let n=async e=>{let t=await (0,i.Z)({url:`/v3/users/${e}/report_reasons/`});return t.resource_response.data},o=n},777851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(186656);let n=async(e,t)=>await (0,i.Z)({url:`/v3/board/${e}/flag/`,method:"POST",data:t}),o=n},252929:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(186656);let n=async(e,t)=>await (0,i.Z)({url:`/v3/users/${e}/flag/`,method:"POST",data:t}),o=n},386872:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(499128),n=r(898781),o=r(343341),a=r(785893);function s(){let e=(0,n.ZP)(),{showToast:t}=(0,o.F9)();return{showErrorToast:()=>{t(({hideToast:t})=>(0,a.jsx)(i.ZP,{onHide:t,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')}))},showSuccessToast:()=>{t(({hideToast:t})=>(0,a.jsx)(i.ZP,{onHide:t,text:e._('Thanks! Your feedback helps us improve Pinterest.', 'userReporting.handleSubmitReport.toast', 'toast after reporting a user successfully')}))}}}},619937:(e,t,r)=>{"use strict";r.d(t,{$N:()=>_,Cu:()=>g,GY:()=>d,MZ:()=>a,NR:()=>u,Vn:()=>c,bC:()=>m,fm:()=>i,kM:()=>o,q6:()=>n,qp:()=>l,uV:()=>h,ug:()=>p,xL:()=>s});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},n={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},a={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},s={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},l={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},h="604800",p="86400",_={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},m="click",g="view"},337815:(e,t,r)=>{"use strict";r.d(t,{YS:()=>a,eF:()=>s,m_:()=>o});var i=r(619937),n=r(67347);function o(e,t,r,n,o){let a=new URLSearchParams,s=e??"0",l=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);return a.append(i.NR.SOURCE_EVENT_ID,s),a.append(i.NR.DESTINATION,JSON.stringify([...l])),a.append(i.NR.EXPIRY,r?i.uV:i.ug),a.append(i.NR.PRIORITY,r?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),o&&a.append(i.NR.ADVERTISER_ID,o),n&&a.append(i.NR.CAMPAIGN_ID,n),a.append(i.NR.SOURCE_EVENT_TYPE,r?i.bC:i.Cu),"/attribution_source/?"+a.toString()}async function a(e,t,r,i,a,s,l,d,c){let{appType:u,osType:h}=s||{};if(["Pin","pinImpressions"].includes(e)&&t&&(i||d||c)){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:u,osType:h}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:u,osType:h}});return}let e=o(r,[i,d,c],!1,a,l),t=await window.fetch(e,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}});if(!t.ok)throw Error("server request failed.");(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:u,osType:h}})}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,appType:u,osType:h}})}}else(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:u,osType:h}})}function s(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},77601:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function n({window:e,duration:t,run:r}){let n=i(),o=0,a=null,s=()=>{let l=i()-n,d=l-o;if(t===1/0)r(0,l,d);else{let e=l/t;if(e>=1){r(1,l,d);return}r(e,l,d)}o=l,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},613316:(e,t,r)=>{"use strict";function i(e){return[0,24,21,26].includes(e)}function n({articleType:e,id:t,title:r}){let i=r.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}r.d(t,{x:()=>n,y:()=>i})},469134:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>m,G:()=>x,IA:()=>S,M5:()=>P,ML:()=>c,Oh:()=>y,Pe:()=>d,Tv:()=>p,Uy:()=>u,Xf:()=>b,cO:()=>g,ew:()=>h,nN:()=>f,p9:()=>v,yo:()=>_});var i=r(824002),n=r(112274),o=r(642298),a=r(349700),s=r(109322),l=r(67347);let d=e=>e._('Make sure this age is accurate. Your birthdate is required for personalization, community safety and as part of our terms of service. For business accounts, use your own birthdate.', 'birthdateConfirmation.HelperText', 'Helper text notifying users to input their own birthday'),c=e=>e._('Use your own birthday, even if this a business account', 'birthdateConfirmation.HelperText.ownBirthday', 'Helper text notifying users to input their own birthday'),u=e=>e._('Oops! Please use a valid age to sign up.', 'existingUser.birthdaycollection.error.overage', 'Error message shown when overage (age over 120) user tries to register'),h=(e,t)=>(0,a.nk)(t.ngettext('Are you {{ age }} years old?', 'Are you {{ age }} years old?', e, 'birthdateConfirmation.heading', 'Header for the confirmation model verifying the age for the birthdate that the user inputted, age: age inputted into the fields'),{age:e}),p=(e,t,r,i)=>{let n=(0,a.nk)(e._('Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}} to sign up.', 'signup birthday error message', 'label for sign up birthday error message'),{dayError:t?e._('day', 'dayError keyword placeholder', 'label for dayError keyword place holder'):"",monthError:r?e._('month', 'monthError keyword placeholder', 'label for monthError keyword place holder'):"",yearError:i?e._('year', 'monthError keyword placeholder', 'label for monthError keyword place holder'):""}),o=n.filter(e=>0!==e.length),s=3===o.length?o.join(""):o[0]+o.slice(1,-1).join(", ")+o[o.length-1];return s},_=({country:e,isOnSouthKoreanExperiment:t})=>e&&e in s.T3&&(t||"KR"!==e)?s.T3[e]:s.Ur,m=(e,t)=>{let r=new Date,i=new Date(r.getFullYear()-t,r.getMonth(),r.getDate());return new Date(e)<=i},g=new Date().getFullYear(),f=new Date().getFullYear()-120,b=12,y=1,v=1,x=31,w="yyyy-MM-dd",P=e=>{let t=new Date,r=new Date(f,t.getMonth(),t.getDate()),i=m(e,5),n=new Date(e)>r;return i&&n};function S(e){let t=(0,i.Z)(e,w,new Date);if((0,n.Z)(t))return e;let r=new Date(e);try{return(0,o.Z)(r,w)}catch{return(0,l.nP)("webapp.birthday_validation_error",{sampleRate:1,tags:{birthdate:e}}),e}}},221263:(e,t,r)=>{"use strict";function i(e,t){return e.isAuth&&t===e.id}r.d(t,{Z:()=>i})},830944:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(27255);function n(e){return e===i.Z.BoardPrivacy.SECRET}},937330:(e,t,r)=>{"use strict";function i(e,t){return!!(t.isAuth&&e)}r.d(t,{Z:()=>i})},4294:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(221263),n=r(937330);function o(e,t,r){return(0,i.Z)(r,t)||(0,n.Z)(e,r)}},400669:(e,t,r)=>{"use strict";r.d(t,{P:()=>l,Z:()=>c});var i,n=r(667294);r(167912);var o=r(221263),a=r(937330),s=r(916117);let l=e=>{let{action:t,viewer:r,board:i}=e;return!!i&&((0,o.Z)(r,i.owner?.entityId)||(0,a.Z)(i.collaboratedByMe,r)&&!!i.collaboratorPermissions?.includes(t))},d=void 0!==i?i:i=r(887837);function c({boardKey:e}){let t=(0,s.Z)(d,e),r=t?.owner?.entityId??"",i=(0,n.useMemo)(()=>t?.collaboratorPermissions,[t?.entityId]),o=(0,n.useCallback)(({action:e,viewer:n})=>l({action:e,viewer:n,board:{collaboratedByMe:t?.collaboratedByMe,collaboratorPermissions:i,owner:r?{entityId:r}:null}}),[t?.collaboratedByMe,i,r]);return{canPerformAction:o}}},768559:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(826067);let n=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,o=(e,t)=>t?e.substring(t.length).split("/")[0]:e,a=({boardUrl:e,path:t,pinId:r,pinnerUserName:a,search:s,storyPinDataId:l})=>{if(!t)return"";let d="";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case a&&`/${a}/pins/`:return"UserPinsResource";case a&&`/${a}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return l?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case a&&`/${a}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:d="/pin/";let c=o(t,d);if(r!==c)return`RelatedPinFeedResource_${c}`;break;case/\/search\//.test(t)&&t:if(s){let e=(0,i.mB)(s,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:d="/categories/";let u=o(t,d);return`CategoryFeedResource_${u}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:d="/news_hub/";let h=o(t,d);return`NewsHubDetailsResource_${h}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:d="/topics/";let p=o(t,d);return`TopicFeedResource_${p}`;case/\/source\//.test(t)&&t:d="/source/";let _=o(t,d);return`DomainFeedResource_${_}`;case/\/explore\//.test(t)&&t:d="/explore/";let m=o(t,d);return`SearchResource_${m}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case n.test(t)&&t:let g=t.match(n)?.[2]||"unknown";return`TodayArticleFeedResource_${g}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(s){let{feed_type:e,request_params:t}=(0,i.mB)(s);return`StoryFeedResource_${e}_${t}`}}return""},s=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},l=({boardUrl:e,location:t,pinId:r,pinnerUserName:i,previousHistory:n,storyPinDataId:o,trackingParams:l,trackingParamsMap:d={}})=>{let c,u;if(!r||!l||!t)return;if(!d)return`${l??""}~0`;let{pathname:h,search:p}=t,_=a({boardUrl:e,path:h,pinId:r,pinnerUserName:i,search:p,storyPinDataId:o,trackingParams:l,trackingParamsMap:d}),m=Object.keys(d),g=(h||"").startsWith("/pin/");if(g){let e=m.find(e=>"PinResource"!==e);c=e?d[e]:d.PinResource}else c=d[_];if(!c&&n&&n.length){let t=s(n[n.length-1].location);u=a({boardUrl:e,path:t,pinId:r,pinnerUserName:i,search:p,storyPinDataId:o,trackingParams:l,trackingParamsMap:d}),c=d[u]}return c||(c=`${l||""}~0`),c}},827896:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(616550),n=r(768559),o=r(350118);function a(){let e=(0,o.S6)(),t=(0,i.TH)();return(r,i)=>{let o;let a=e(r);if(i?.shouldTrackForPrevLocation){let e=a?.tracking_params_map||{},t=Object.keys(e),r=t.find(e=>"PinResource"!==e);a&&(o=r?e[r]:e.PinResource)}else a&&(o=(0,n.Z)({boardUrl:a.board?.url,location:t,pinId:a.id,pinnerUserName:a.pinner?.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map}));return o}}},41861:(e,t,r)=>{"use strict";function i(e){return function e(t,r){let i;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let n=r.find(e=>e.value===t);if(n)return n.result;let o=Object.prototype.toString.call(t);switch(o){case"[object Array]":i=Array(t.length);break;case"[object Set]":i=new Set;break;case"[object Object]":case"[object Arguments]":i={};break;case"[object Map]":i=new Map;break;default:return t}let a=[...r,{value:t,result:i}];switch(o){case"[object Array]":t.forEach((t,r)=>{i[r]=e(t,a)});break;case"[object Set]":t.forEach(t=>{i.add(e(t,a))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,r])=>{i[t]=e(r,a)});break;case"[object Map]":t.forEach((t,r)=>{i.set(r,e(t,a))})}return i}(e,[])}r.d(t,{Z:()=>i})},512465:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p,w:()=>_});var i=r(349700);let n=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),o=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),a=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),s=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),l=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),d=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),u=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),h=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)');function p(e,t){let r={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(n(t),r);case 2:return(0,i.nk)(o(t),r);case 3:return(0,i.nk)(a(t),r);case 4:return(0,i.nk)(s(t),r);case 5:return(0,i.nk)(l(t),r);case 6:return(0,i.nk)(d(t),r);default:return(0,i.nk)(u(t),r)}}function _(e,t){let r={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(n(t),r);case 2:return(0,i.nk)(o(t),r);case 3:return(0,i.nk)(a(t),r);case 4:return(0,i.nk)(s(t),r);case 5:return(0,i.nk)(l(t),r);case 6:return(0,i.nk)(d(t),r);case 7:return(0,i.nk)(c(t),r);default:return(0,i.nk)(h(t),r)}}},81636:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l,Z:()=>d});var i=r(667294),n=r(112690),o=r(385740),a=r(767546),s=r(780280);function l(e,t){let{setViewContextData:r}=(0,o.sV)(),{requestIdentifier:l}=(0,s.B)(),d=(0,n.Z)(),{viewData:c}=(0,o.SU)();(0,i.useEffect)(()=>{e&&(r({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:l}))},[t])}function d(e){let{children:t,log:r}=e;return l(r),t||null}},407043:(e,t,r)=>{"use strict";r.d(t,{B:()=>l,v:()=>s});var i=r(385740),n=r(425288),o=r(785893);let{Provider:a,useHook:s}=(0,n.Z)("ContextLogger");function l({children:e,value:t}){let{setViewContextData:r}=(0,i.sV)();return t.injectSetViewContextDataFromHook=r,(0,o.jsx)(a,{value:t,children:e})}},112690:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(407043);let n=()=>(0,i.v)().logContextEvent},755289:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=()=>1e6*Date.now()},643010:(e,t,r)=>{"use strict";r.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>l,vs:()=>d});var i=r(667294),n=r(844974),o=r(867820);let a="theme",s="dark"===(0,n.qn)(a),l=()=>s;function d(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(l())},[t]),e}let c=()=>{(0,n.Nh)(a,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,n.L_)(a),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},594736:(e,t,r)=>{"use strict";function i(e,t,r){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!o(e[i],t[i],r+1))return!1;return!0}function n(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!o(e[i],t[i],r+1))return!1;return!0}function o(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let o=Object.prototype.toString.call(e),a=Object.prototype.toString.call(t);if(o!==a)return!1;switch(o){case"[object Array]":return i(e,t,r);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return n(e,t,r);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function a(e,t){return o(e,t,0)}r.d(t,{ZP:()=>a,qP:()=>i})},722767:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(973935);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends i.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=n.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let s=a},11363:(e,t,r)=>{"use strict";r.d(t,{Bx:()=>n,N4:()=>a,is:()=>s,lt:()=>i,oM:()=>o});let i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),n=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),s=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},780679:(e,t,r)=>{"use strict";r.d(t,{g:()=>a,t:()=>o});var i=r(667294);let n=(0,i.createContext)(null),o=n.Provider,a=()=>(0,i.useContext)(n)},946984:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(11363),n=r(898781),o=r(987318);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:r}=(0,o.H)(),a=(0,n.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),r?.setText(t?.loginModalHeader||i.lt(a))}}},274319:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(667294),n=r(883119),o=r(77601),a=r(223815),s=r(977558),l=r(785893);function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{visible:!1}),d(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),d(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,o.Z)({window,duration:1/0,run:(e,r,i)=>{window.scrollTo(0,window.scrollY+(r<500?.8:1.2000000000000002)*t*i)}}),this.scrollAnimationManager.start()}}),d(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),d(this,"element",null),d(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:r}=this.state;return(0,l.jsx)(n.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:r?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){let t=e?0:s.hu;return(0,l.jsx)(a.Z,{children:(0,l.jsx)(n.mh,{children:(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(c,{height:120+t,placement:"top"}),(0,l.jsx)(c,{height:120,placement:"bottom"})]})})})}},583421:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d,y:()=>s});var i=r(667294),n=r(60598),o=r(14890),a=r(785893);let s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};class l extends i.Component{render(){let{children:e,connectDragSource:t,connectDropTarget:r,isDragging:i,isDraggingInternal:n,isDropTargetOnly:o}=this.props,s=r((0,a.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:i||n?0:1},children:e}));return o?s:t(s)}}let d=(0,o.compose)((0,n.GR)(e=>e.type,{hover:({index:e,onDragHover:t},r,i)=>{t(e,function(e,t){let r=t.targetEl;if(!(r&&r instanceof HTMLElement))return null;let{x:i,y:n}=e.getClientOffset(),{left:o,right:a,top:s,bottom:l,width:d,height:c}=r.getBoundingClientRect();return{positionRelativeToCenter:{x:i-(o+a)/2,y:n-(s+l)/2},boundingBox:{width:d,height:c}}}(r,i))}},e=>({connectDropTarget:e.dropTarget()})),(0,n.Ej)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(l)},278380:(e,t,r)=>{"use strict";function i(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function n({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:r}){return Math.abs(e)<(r?.5*t:0)/2?"center":e<0?"left":"right"}function o({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:r}){if("center"===t||e===r)return e;let i="left"===t;return e<r===i?e:i?e-1:e+1}r.d(t,{Lz:()=>i,TI:()=>n,X3:()=>o})},266898:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(60598),n=r(395141);let o=(0,i.Z5)(n.ZP)},345221:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(60598),n=r(14890);r(583421);var o=r(266898);let a=e=>t=>(0,n.compose)(o.Z,(0,i.GR)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},375571:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(395164),o=r(67347);function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,r=this.props.type||"secondary";(0,n.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),(0,o.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,o.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(375571);let n=i.Z},320415:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(667294),n=r(702664),o=r(112690),a=r(332611),s=r(214494);let l=(e,t,r,i)=>(n,o)=>l=>{if(n&&n.id){let d=s.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{l((0,a.fO)()),r&&i&&r({event_type:i,object_id_str:n.id.toString()})});break;case"completed":d.callUpdate().then(()=>{o||l((0,a.fO)()),r&&i&&r({event_type:i,object_id_str:n.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{r&&i&&r({event_type:i,object_id_str:n.id.toString()})})}}},d=e=>l("UserExperienceCompletedResource","completed",e,6567),c=l("UserExperienceResource","dismissed"),u=e=>l("UserExperienceViewedResource","viewed",e,4503);var h=r(785893);function p(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends i.Component{constructor(...e){super(...e),p(this,"state",{hasCompleted:[],hasDismissed:[]}),p(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:r,viewExperience:i,viewExperienceObject:n}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",n(e)):r?i(e.placement_id,e.experience_id,r):i(e.placement_id,e.experience_id))}),p(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:r,experience:i,isBackendExperience:n,preventRemoval:o,targeting:a}=this.props,s=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:l}=i||{},d=o||2===s;(1===s||d)&&e&&l&&(n?r(i,d):a?t(e,l,d,a):t(e,l,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,l]})))}}),p(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:r,isBackendExperience:i,preventRemoval:n,targeting:o}=this.props,{placement_id:a,experience_id:s}=r||{};r&&!this.state.hasDismissed.includes(s)&&(i?t(r):o?e(a,s,!!n,o):e(a,s,!!n),this.setState(e=>({hasDismissed:[...e.hasDismissed,s]})))}),p(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:r,predicate:i,transitionType:n}=this.props,{experience_id:o,type:a}=e;return t&&t.length?t.includes(o):r&&r.length?r.includes(a):i?i(e):!n||n===a})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,r=this.props.experience;r&&this.isEligibleExperience()&&(t&&t.experience_id===r.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:r}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...r?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function m(e){let t=(0,n.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),r=(0,n.useDispatch)(),i=(0,a.be)(),s=(0,a.Am)(),l=(0,a.Ig)(),p=(0,o.Z)();return(0,h.jsx)(_,{...e,completeExperience:(e,t,n,o)=>r(i(e,t,n,!1,{},o)),completeExperienceObject:(e,t)=>r(d(p)(e,t)),dismissExperience:(e,t,i,n)=>r(s(e,t,i,void 0,n)),dismissExperienceObject:e=>r(c(e)),experience:t,viewExperience:(e,t,i)=>r(l(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>r(u(p)(e))})}p(_,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},123159:(e,t,r)=>{"use strict";r.d(t,{F:()=>h,M:()=>u});var i=r(667294),n=r(702664),o=r(14890),a=r(425288),s=r(332611),l=r(957191),d=r(785893);let{Provider:c,useHook:u}=(0,a.Z)("ExperienceContext");function h({children:e}){let[t,r]=(0,i.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let r={...e};return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:a,registerdAfterActionPlacements:u}=t,h=(0,n.useDispatch)(),p=(0,n.useSelector)(e=>e.experiences),_=(0,s.be)(),m=(0,s.Am)(),g=(0,s.Ig)(),f=(0,i.useMemo)(()=>{let e=(0,o.bindActionCreators)({completeExperience:_,dismissExperience:m,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:l.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:g},h);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),r({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{r({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{r({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[_,m,h,r,g]),b=(0,i.useMemo)(()=>({experiences:p,mountedPlacements:a,registerdAfterActionPlacements:u,...f}),[p,a,u,f]);return(0,d.jsx)(c,{value:b,children:e})}},333312:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(667294),n=r(883119),o=r(320415),a=r(785893);function s(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends i.PureComponent{constructor(...e){super(...e),s(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),s(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:r,idealDirection:i}=this.props,o=r.slice(-3);return(0,a.jsx)(n.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(n.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(n.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(n.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>(0,a.jsx)(n.xu,{height:60,paddingX:1,width:50,children:(0,a.jsx)(n.zd,{height:60,rounding:2,children:(0,a.jsx)(n.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var d=r(570470);function c(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends i.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,i.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",()=>{this.dismissRef.current?.()}),c(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,r){return(t&&e.text.replace("{boardName}",t),r)?r(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:r,boardTextOverride:s,flyoutSize:c,fontSize:u,hasFullWidthButton:h=!0,idealDirection:p,useMasonryFlyout:_,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:b,positionRelativeToAnchor:y,shouldTimeoutDismiss:v,showCaret:x,textAlign:w,textOverflow:P,textOverrideFn:S,textWeight:C,customizedComplete:j,pulsarZIndex:A,advertiserId:E,dismissButtonLocation:T,dismissButtonColor:I,dismissButtonMarginTop:k}=this.props,z=t||(({children:e})=>_?(0,a.jsx)(n.mh,{children:e}):e);return(0,a.jsx)(o.Z,{eligibleIds:r,eligibleTypes:[8],placementId:b,targeting:E?{advertiserId:parseInt(E,10)}:null,children:({complete:t,dismiss:r,experience:o})=>{let{display_data:{scroll_to_dismiss:b,scroll_to_dismiss_delay_in_seconds:E=0,...D}}=o,R=b&&e,B=()=>{O(),setTimeout(r,1e3*E)},O=()=>{R&&(window.removeEventListener("scroll",B),window.removeEventListener("touchmove",B))},Z=()=>{O(),t()};if(R&&(window.addEventListener("scroll",B),window.addEventListener("touchmove",B)),this.setDefaultPulsarTooltip(D),!D.has_pulsar&&!D.has_tooltip)return Z(),null;v&&D.disappearTime&&D.disappearTime>0&&(this.timer=setTimeout(()=>(B(),null),D.disappearTime));let L=501041===o.experience_id||505086===o.experience_id;return D.has_tooltip&&!D.has_pulsar&&(this.dismissRef.current=B,e?.addEventListener("click",this.dismissCb)),(0,a.jsxs)(i.Fragment,{children:[D.has_pulsar&&(0,a.jsx)(d.Z,{anchor:e,leftOverride:L?342:void 0,onTouch:()=>this.handlePulsarClick(D.has_tooltip,Z),paused:this.state.paused,topOverride:L?-5:void 0,zIndex:A&&A.index()}),D.has_tooltip&&(!D.has_pulsar||this.state.paused)&&(D.thumbnail_urls?(0,a.jsx)(l,{anchor:e,dismiss:B,idealDirection:p||"down",text:D.text,thumbnails:D.thumbnail_urls}):(0,a.jsx)(z,{children:(0,a.jsx)(n.J2,{_deprecatedShowCaret:x,anchor:e,color:"deprecatedBlue",idealDirection:p||"down",onDismiss:m?()=>{}:B,positionRelativeToAnchor:!_&&y,shouldFocus:!1,size:c,children:(0,a.jsxs)(n.xu,{column:12,padding:3,children:[(0,a.jsxs)(n.xv,{align:"right"===w?"end":w,color:"inverse",overflow:P,size:u,weight:C||"bold",children:[this.getText(D,s,S),D.secondary_cta_link&&(0,a.jsx)(n.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(n.xv,{color:"inverse",size:u,weight:"bold",children:(0,a.jsx)(n.rU,{display:"inlineBlock",href:D.secondary_cta_link.url,target:"blank",underline:"hover",children:D.secondary_cta_link.text})})})]}),D.sub_text&&(0,a.jsx)(n.xu,{paddingY:2,children:(0,a.jsx)(n.xv,{color:"inverse",size:u,children:D.sub_text})}),(D.dismiss_button_text||D.complete_button_text)&&(0,a.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:T||"start",marginTop:k||2,children:[D.dismiss_button_text&&(0,a.jsx)(n.xu,{column:6,marginEnd:1,children:(0,a.jsx)(n.zx,{color:I||"blue",fullWidth:h,onClick:()=>{f&&f(),B()},size:"md",text:D.dismiss_button_text})}),D.complete_button_text&&(0,a.jsx)(n.xu,{column:D.dismiss_button_text?6:12,children:j?(0,a.jsx)(n.iP,{fullHeight:!0,onTap:()=>{Z(),g&&g()},rounding:2,children:(0,a.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,a.jsx)(n.xv,{color:"shopping",weight:"bold",children:D.complete_button_text})})}):(0,a.jsxs)(n.kC,{justifyContent:"center",children:[D.complete_button_cta_url&&(0,a.jsx)(n.ZP,{color:"white",fullWidth:h,href:D.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),Z(),g&&g()},size:"md",target:D.complete_button_cta_url?"blank":null,text:D.complete_button_text}),!D.complete_button_cta_url&&(0,a.jsx)(n.zx,{color:"white",fullWidth:h,onClick:()=>{Z(),g&&g()},size:"md",text:D.complete_button_text})]})})]})]})})}))]})}})}}c(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},636803:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(320415),n=r(839534),o=r(785893);let a=({anchors:e,idealDirection:t,onCompleteByAnchor:r,placementId:a,positionRelativeToAnchor:s,touchToDismiss:l,useMasonryFlyout:d})=>(0,o.jsx)(i.Z,{placementId:a,predicate:t=>{let{display_data:r}=t;if(r?.component_type===2){let{anchors_by_platform:t}=r;if(t?.web){let{anchor:r,placement:i}=t.web;return i===a&&r in e}}return!1},children:({complete:i,dismiss:a,experience:c})=>(0,o.jsx)(n.Z,{anchors:e,complete:i,dismiss:a,displayData:c.display_data,idealDirection:t,onCompleteByAnchor:r,platform:"web",positionRelativeToAnchor:s,touchToDismiss:l,useMasonryFlyout:d})})},332611:(e,t,r)=>{"use strict";let i;r.d(t,{Am:()=>f,Ig:()=>m,N:()=>x,Sd:()=>b,YX:()=>v,be:()=>g,fO:()=>h,kd:()=>y,pz:()=>p});var n=r(667294),o=r(214494),a=r(112690),s=r(764990),l=r(957191),d=r(186656),c=r(67347);let u=(e,t,r={})=>(0,c.nP)(`${e}.${t}`,{sampleRate:1,tags:r}),h=(e,t)=>r=>{let i=t?{extra_context:e,targeting:t}:{extra_context:e};return o.Z.create("UserExperiencePlatformResource",i).callGet().then(e=>e.resource_response?r((0,l.OD)(e.resource_response.data)):void 0)},p=(e,t,r,n)=>(a,d)=>{if(t)return Promise.resolve();if(n&&(i=n),1===e.length){let t=e[0],i=d().experiences,n=i[t],o=n?.extraContext||null;if(JSON.stringify(o)===JSON.stringify(r)||(0,s.E3)(n)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return o.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:n}).callGet().then(e=>e.resource_response?a((0,l.cL)(e.resource_response.data)):void 0)},_=(e,t,r,n)=>(a,s,d,c=!1,u,p)=>(_,m)=>{let{experiences:g,experiencesMulti:f}=m(),b=null,y=!0;if(c||(b=(y=g[a]&&g[a].experience_id===s)?g[a]:Array.isArray(f[a])&&f[a]?.find(e=>e.experience_id===s)),b&&b.experience_id===s||c&&a&&s){let c=o.Z.create(e,{placed_experience_id:`${a}%3A${s}`,extra_context:u??{},targeting:p}),m=y?l.Yb:l.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{_(m(a,s,t)),_(h(void 0,i)),r&&n&&r({event_type:n,object_id_str:s.toString()})});case"completed":return c.callUpdate().then(()=>{!d&&(_(m(a,s,t)),_(h(void 0,i)),r&&n&&r({event_type:n,object_id_str:s.toString()}))});case"viewed":return _(m(a,s,t)),c.callUpdate().then(()=>{1000162===a&&_(h()),r&&n&&r({event_type:n,object_id_str:s.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{d||_(m(a,s,t)),r&&n&&r({event_type:n,object_id_str:s.toString()})})}}return Promise.resolve()},m=()=>{let e=(0,a.Z)(),t=(0,n.useCallback)(_("UserExperienceViewedResource","viewed",e,4503),[e]);return t},g=()=>{let e=(0,a.Z)(),t=(0,n.useCallback)(_("UserExperienceCompletedResource","completed",e,6567),[e]);return t},f=()=>{let e=(0,a.Z)(),t=(0,n.useCallback)(_("UserExperienceResource","dismissed",e,6568),[e]);return t},b=()=>{let e=(0,a.Z)(),t=(0,n.useCallback)(_("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},y=(e,t)=>(r,i)=>{let{experiences:n}=i(),o=n[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach(r=>{let[,i]=r.split(":"),n=t;o.metadata&&o.metadata[i]&&(n={...t,...o.metadata[i]}),(0,d.Z)({url:`/v3/experiences/${r.replace(":","%3A")}/trigger/`,method:"PUT",data:n?{extra_context:JSON.stringify(n,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},v=e=>(t,r)=>{t(y(e));let{experiences:i}=r();return i[e]},x=(e,t,r)=>n=>{r&&(i=r),n(y(e,t)),t&&Object.keys(t).length>0&&n(p([e],!1,t,r))}},764990:(e,t,r)=>{"use strict";r.d(t,{A0:()=>l,E3:()=>a,MQ:()=>s,fL:()=>d});var i=r(883119),n=r(149230),o=r(785893);function a(e){return!!e&&0!==e.type}let s=(e,t,r)=>{let i=e[r];return t[r]&&a(i)?i:null};function l(e){return e.display_data?.anchor}let d=e=>{let t=new DOMParser,r=t.parseFromString(e,"text/html"),a=[...r.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,o.jsx)(i.xv,{inline:!0,children:e.textContent});{let t=e.href||"",r=(0,n.Z)({url:t});return(0,o.jsx)(i.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,o.jsx)(i.xv,{inline:!0,children:a})}},207737:(e,t,r)=>{"use strict";r.d(t,{$S:()=>i,V$:()=>n,_4:()=>a,iY:()=>s,mR:()=>o});let i="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,r)=>{"use strict";r.d(t,{NW:()=>s,OD:()=>d,Yb:()=>l,cL:()=>c,xW:()=>a});var i=r(214494),n=r(207737);let o=e=>({type:n.$S,payload:{experiencesMulti:e}}),a=(e,t,r)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:r}}),s=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(o(e.resource_response.data)):void 0),l=(e,t,r)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:r}}),d=e=>({type:n._4,payload:{experiences:e}}),c=e=>({type:n.mR,payload:{experiences:e}})},570470:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(883119),n=r(667294),o=r(785893);let a=(e,t,r,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(r/2-e/2)});function s({anchor:e,children:t,zIndex:r,leftOverride:s,topOverride:l}){let d=(0,n.useRef)(null),[c,u]=(0,n.useState)(0),[h,p]=(0,n.useState)(0),{height:_,width:m}=e.getBoundingClientRect();return(0,n.useEffect)(()=>{let{current:t}=d;if(e&&t){let{height:e,width:r}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:n}=a(_,m,e,r);u(i),p(n)}}),(0,o.jsx)(i.xu,{ref:d,dangerouslySetInlineStyle:{__style:{left:s||c,top:l||h}},"data-test-id":"center-box",position:"absolute",zIndex:r?new i.Ry(r):void 0,children:t})}let l=function(e){let{anchor:t,leftOverride:r,onTouch:n,onMouseEnter:a,paused:l,size:d,topOverride:c,zIndex:u}=e;return t?(0,o.jsx)(s,{anchor:t,leftOverride:r,topOverride:c,zIndex:u,children:(0,o.jsx)(i.iP,{fullWidth:!1,onMouseEnter:a,onTap:({event:e})=>n(e),rounding:"circle",children:(0,o.jsx)(i.o3,{paused:l,size:d})})}):null}},839534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(667294),n=r(883119),o=r(570470),a=r(785893);let s=new n.Ry(669),l={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:r,displayData:d,idealDirection:c,onCompleteByAnchor:u={},platform:h,positionRelativeToAnchor:p=!0,touchToDismiss:_=!0,useMasonryFlyout:m=!1})=>{let{anchors_by_platform:g={},button_text:f,button_uri:b,display_type:y,flyout_direction:v,scroll_to_dismiss:x,scroll_to_dismiss_delay_in_seconds:w=0,text:P}=d||{},S=g[h]?.anchor,C=e[S],j=(0,i.useCallback)(()=>{x&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j)),_&&C&&C.removeEventListener("click",j),setTimeout(()=>r(),1e3*w)},[C]);if((0,i.useEffect)(()=>{C&&(x&&(window.addEventListener("scroll",j),window.addEventListener("touchmove",j)),_&&C.addEventListener("click",j))},[C]),!C)return null;let A=({children:e})=>{if(m)return(0,a.jsx)(n.mh,{zIndex:s,children:e});if(2!==y)return(0,a.jsx)(n.xu,{zIndex:s,children:e});{let t={};if(p)t.top=C.offsetTop,t.left=C.offsetLeft,t.width=C.offsetWidth,t.height=C.offsetHeight;else{let e=C.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:t},left:!0,position:"absolute",top:!0,zIndex:s,children:e})}},E=l[v],T=b&&(b.startsWith("https://")||b.startsWith("http://")),I=(u||{})[S],k=()=>{x&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j)),_&&C.removeEventListener("click",j),t()};return(0,a.jsxs)(i.Fragment,{children:[2===y&&(0,a.jsx)(A,{children:(0,a.jsx)(o.Z,{anchor:C,onTouch:()=>{k(),I?I():C instanceof HTMLElement&&C.click()},zIndex:670})}),1===y&&(0,a.jsx)(A,{children:(0,a.jsx)(n.J2,{_deprecatedShowCaret:!0,anchor:C,color:"deprecatedBlue",idealDirection:E||c||"down",onDismiss:j,positionRelativeToAnchor:!m&&p,shouldFocus:!1,size:"md",children:(0,a.jsxs)(n.xu,{padding:4,width:"220px",children:[(0,a.jsx)(n.xv,{align:"center",color:"inverse",weight:"bold",children:P}),f?(0,a.jsx)(n.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,a.jsx)(n.xu,{column:8,children:b?(0,a.jsx)(n.ZP,{color:"white",fullWidth:!0,href:b,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),k()},size:"md",target:T?"blank":null,text:f}):(0,a.jsx)(n.zx,{color:"white",fullWidth:!0,onClick:k,size:"md",text:f})})}):null]})})})]})}},79264:(e,t,r)=>{"use strict";r.d(t,{c:()=>u});var i=r(667294),n=r(616550),o=r(123159),a=r(53987),s=r(826067),l=r(50286);let d=(e,t)=>(0,a.HV)(e)?1000503:(0,a.En)(e)?1000506:(0,a.L6)(e)?t?1000141:1000494:void 0,c=(e,t)=>{if(t){if((0,a.HV)(e))return 1000541;if((0,a.En)(e))return 1000542;if((0,a.L6)(e))return 1000140}else if((0,a.HV)(e))return 1000544;else if((0,a.En)(e))return 1000543;else if((0,a.L6)(e))return 1000540},u=()=>{let{mountPlacement:e,registerdAfterActionPlacements:t}=(0,o.M)(),r=(0,l.HG)(),u=(0,n.TH)(),h=(0,i.useCallback)((i,n,o)=>{let l;switch(i){case"Save":l=d(u,r);break;case"Download":(0,a.L6)(u)&&(l=r?1000499:1000500);break;case"Clickthrough":l=c(u,r)}null!=l&&((0,a.En)(u)&&(n={...n,search_query:(0,s.mB)(u.search)}),null!=l&&t[l]&&e(l,n,o))},[t,e,u,r]);return h}},497529:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294);r(332611);var n=r(123159),o=r(764990);r(957191);var a=r(780280);function s(e){let{mountedPlacements:t,completeExperience:r,dismissExperience:s,experiences:l,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:h,viewExperience:p}=(0,n.M)(),{isBot:_}=(0,a.B)(),m=e&&!_?(0,o.MQ)(l,t,e):null;return(0,i.useMemo)(()=>({completeExperience:r,dismissExperience:s,experienceForPlacement:m,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:h,viewExperience:p}),[r,s,m,d,c,u,h,p])}},784450:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(667294),n=r(702664),o=r(594736),a=r(332611),s=r(123159),l=r(764990),d=r(780280),c=r(785893);function u(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let h={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},p=(e,t={},r)=>p=>{r={...h,...r};let _=function(e,t,r=!0,h=!1,p){class _ extends i.Component{constructor(e){super(e),u(this,"state",{extraContext:void 0}),u(this,"setExtraContextState",e=>{(0,o.ZP)(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(r,i){let{dispatch:n,experience:s,requestContext:l}=this.props,d=i.extraContext,c=this.state.extraContext||t||{};"function"==typeof t&&(d=t(r,i.extraContext||{}),c=t(this.props,this.state.extraContext||{})),c&&Object.keys(c).length>0&&!(0,o.ZP)(d,c)&&n((0,a.pz)([e],l.isBot,c)),s&&(!r.experience||s.id!==r.experience.id)&&n((0,a.kd)(e,c))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){let r="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},i=h&&r?.advertiser_id?{advertiserId:r.advertiser_id}:void 0;this.props.mountPlacement(e,r,i)}render(){let{experience:e,experiencesMulti:t}=this.props,r=h?"advertiserExperience":"experience",i={[r]:(0,l.E3)(e)?e:null};return(0,c.jsx)(p,{...this.props,setPlacementExtraContext:this.setExtraContextState,...i,experiencesMulti:t})}}function m(e){let t=(0,d.B)(),r=(0,n.useDispatch)(),{mountPlacement:i,unmountPlacement:o}=(0,s.M)();return(0,c.jsx)(_,{...e,dispatch:r,mountPlacement:i,requestContext:t,unmountPlacement:o})}return m.displayName=`withPlacement(${p.displayName||p.name||"Component"})`,m}(e,t,r.dispatchMountActionDuringSSR,r.isAdvertiserPlacement,p),m=t=>{let r=(0,n.useSelector)(t=>t.experiences[e]),i=(0,n.useSelector)(t=>t.experiencesMulti?t.experiencesMulti[e]:void 0);return(0,c.jsx)(_,{...t,experience:r,experiencesMulti:i})};return m.displayName=_.displayName,m}},444691:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(785893);let n=(0,i.jsxs)("svg",{"data-test-id":"ill-error-md-2",fill:"none",height:"117",width:"157",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("mask",{fill:"#fff",id:"a",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"M124.215 69.266c-2.211 3.46-4.411 6.34-6.23 8.445A27.778 27.778 0 0 0 129.064 80c15.42 0 27.924-12.526 27.929-27.977.003-12.936-8.755-23.82-20.654-27.023.609 2.69.432 6.497-.152 10.585 6.333 2.755 10.761 9.078 10.759 16.438-.003 9.891-8.008 17.91-17.88 17.91-1.681 0-3.308-.232-4.851-.667z",fillRule:"evenodd"})}),(0,i.jsx)("path",{d:"M148.75 91.5c0 2.984-1.777 6.017-5.427 8.951-3.639 2.925-8.98 5.615-15.692 7.897-13.411 4.56-32.02 7.402-52.63 7.402s-39.22-2.842-52.632-7.402c-6.711-2.282-12.053-4.972-15.692-7.897-3.65-2.934-5.427-5.967-5.427-8.951s1.777-6.017 5.427-8.951c3.639-2.925 8.98-5.615 15.693-7.897C35.78 70.092 54.389 67.25 75 67.25s39.22 2.842 52.631 7.402c6.712 2.282 12.053 4.972 15.692 7.897 3.65 2.934 5.427 5.967 5.427 8.951z",fill:"#fff",stroke:"#111",strokeWidth:"2.5"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M124.215 69.266c-2.211 3.46-4.411 6.34-6.23 8.445A27.778 27.778 0 0 0 129.064 80c15.42 0 27.924-12.526 27.929-27.977.003-12.936-8.755-23.82-20.654-27.023.609 2.69.432 6.497-.152 10.585 6.333 2.755 10.761 9.078 10.759 16.438-.003 9.891-8.008 17.91-17.88 17.91-1.681 0-3.308-.232-4.851-.667z",fill:"#fff",fillRule:"evenodd"}),(0,i.jsx)("path",{d:"m124.215 69.266.679-2.406-1.786-.504-.999 1.564zm-6.23 8.445-1.891-1.634-2.225 2.574 3.121 1.354zM136.339 25l.65-2.414-4.005-1.078.916 4.045zm-.152 10.585-2.475-.353-.27 1.886 1.747.76zM122.109 67.92c-2.148 3.36-4.277 6.146-6.015 8.157l3.783 3.268c1.899-2.197 4.17-5.175 6.444-8.733zm-5.119 12.085a30.278 30.278 0 0 0 12.073 2.495l.001-5c-3.587 0-6.995-.743-10.083-2.083zm12.073 2.495c16.806 0 30.425-13.65 30.43-30.477h-5c-.004 14.075-11.394 25.477-25.429 25.477zm30.43-30.477c.003-14.092-9.538-25.948-22.504-29.437l-1.301 4.828c10.833 2.915 18.808 12.829 18.805 24.608zM133.9 25.553c.503 2.22.389 5.644-.188 9.68l4.95.706c.592-4.142.831-8.331.115-11.492zm15.546 26.47c.002-8.388-5.047-15.592-12.261-18.73l-1.996 4.585a15.41 15.41 0 0 1 9.257 14.145zm-20.381 20.41c11.258 0 20.378-9.143 20.381-20.41h-5c-.002 8.516-6.893 15.41-15.379 15.41zm-5.529-.76a20.35 20.35 0 0 0 5.529.76l.002-5c-1.45 0-2.849-.2-4.173-.573z",fill:"#111",mask:"url(#a)"}),(0,i.jsx)("path",{d:"M141.74 25.979c-.631 38.158-30.158 68.77-66.037 68.77-35.879 0-65.8-30.938-66.442-69.098z",fill:"#fff",stroke:"#111",strokeWidth:"2.5"}),(0,i.jsx)("path",{d:"M141.75 24.732c0 2.917-1.609 5.855-4.873 8.682-3.26 2.824-8.05 5.424-14.077 7.633-12.045 4.413-28.768 7.167-47.3 7.167-18.532 0-35.255-2.754-47.3-7.167-6.027-2.209-10.817-4.809-14.077-7.633-3.263-2.827-4.873-5.765-4.873-8.682 0-2.917 1.61-5.855 4.873-8.682 3.26-2.824 8.05-5.424 14.078-7.632C40.245 4.004 56.968 1.25 75.5 1.25c18.531 0 35.254 2.754 47.299 7.168 6.027 2.208 10.817 4.808 14.077 7.632 3.264 2.827 4.873 5.765 4.873 8.682z",fill:"#fff",stroke:"#111",strokeWidth:"2.5"}),(0,i.jsx)("ellipse",{cx:"57.5",cy:"22",fill:"#111",rx:"3.5",ry:"2"}),(0,i.jsx)("ellipse",{cx:"92.5",cy:"22",fill:"#111",rx:"3.5",ry:"2"}),(0,i.jsxs)("g",{stroke:"#111",strokeWidth:"2.5",children:[(0,i.jsx)("path",{d:"M55 36c6.982-4.528 24.556-10.867 39 0",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M9 28C15.46 16.577 42.755 8 75.448 8c32.015 0 58.387 8.165 65.552 19.233"})]})]}),o=n},724617:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var i=r(739213),n=r(773285),o=r(785893);function a(e){let{cacheKey:t,columnWidth:r,experimentalTwoColItems:a=!1,gutterWidth:s,isGridCentered:l,renderItem:d,items:c,layout:u,loadItems:h,masonryRef:p,minCols:_,scrollContainerRef:m,serverRender:g,virtualize:f}=e,{checkExperiment:b}=(0,n.F)(),y=b("web_masonry_virtual_buffer_factor").group;return(0,o.jsx)(i.Z,{_twoColItems:a,cacheKey:t,columnWidth:r,gutterWidth:s,isGridCentered:l,items:c,layout:u,loadItems:h,masonryRef:p,maxColumns:e.maxColumns,minCols:_,renderItem:d,scrollContainerRef:m,serverRender:g,virtualBufferFactor:{enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[y]??.7,virtualize:f})}},739213:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(667294),n=r(883119),o=r(407043),a=r(375571);function s(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let l={};function d(e){let t=l[e];return t&&t.screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth}),l[e]}let c=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class u{constructor(){s(this,"idMap",new Map),s(this,"objMap",new Map)}get(e){let t=c(e);return t?this.idMap.get(t):this.objMap.get(e)}has(e){let t=c(e);return t?this.idMap.has(t):this.objMap.has(e)}set(e,t){let r=c(e);r?this.idMap.set(r,t):this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new Map}}var h=r(444445),p=r(391254),_=r(780280),m=r(50286),g=r(67347),f=r(785893);function b(e){let{cacheKey:t,id:r,isGridCentered:s=!0,items:l,layout:c,loadItems:b,_logTwoColWhitespace:y,masonryRef:v,renderItem:x,scrollContainerRef:w,_twoColItems:P,virtualize:S=!0,virtualBufferFactor:C}=e,j=(0,m.ZP)(),{isRTL:A}=(0,_.B)(),{logContextEvent:E}=(0,o.v)(),T="desktop"===j,I=e.columnWidth??h.yF,k=e.gutterWidth??(T?h.oX:1),z=e.minCols??h.yc,D=e.serverRender??!!T,R="flexible"===c||"desktop"!==j,B=I+k,O=function(e){if(null==e)return;let t=d(e);return t.positionCache||(t.positionCache=new u),t.positionCache}(t),Z=function(e){if(null==e)return;let t=d(e);return t.measurementCache||(t.measurementCache=new u),t.measurementCache}(t),L=(0,i.useCallback)(()=>w?.current||window,[w]),M=(0,i.useRef)(!0),N=l.find(e=>2===e.columnSpan),F=M&&N&&l.indexOf(N),U=s&&M.current?"gridCentered":"",{className:H,styles:$}=function(e){let t=`m_${Object.keys(e).reduce((t,r)=>{let i=e[r];return null==i?t:"boolean"==typeof i?t+(i?"t":"f"):t+i},"").replace(/\:/g,"\\:")}`,{flexible:r,gutterWidth:i,isRTL:n,itemWidth:o,maxColumns:a,minColumns:s,twoColumnItemIndex:l}=e,d=o+i,c=Array.from({length:a+1-s},(e,t)=>t+s),u=c.map(e=>{let c=e===s?0:e*d,u=e===a?null:(e+1)*d-1,h=null!=l&&l<e-1,p=e;h?p-=1:l===e-1&&(p+=1);let _=r?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*d}px;
      }

      .${t} .static {
        width: ${o}px !important;
      }

      .${t} .static[data-column-span="2"] {
        visibility: ${h?"visible":"hidden"} !important;
        position: ${h?"inherit":"absolute"} !important;
        width: ${2*o+i}px !important;
      }
    `;return`
      @media (min-width: ${c}px) ${u?`and (max-width: ${u}px)`:""} {
        .${t} .static:nth-child(-n+${p}) {
          position: static !important;
          visibility: visible !important;
          float: ${n?"right":"left"};
          display: block;
        }

        .${t} .static {
          padding: 0 ${i/2}px;
        }

        ${_}
      }
    `});return{className:t,styles:`
    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${u.join("")}
  `}}({gutterWidth:k,flexible:R,isRTL:A,itemWidth:I,maxColumns:e.maxColumns??(l.length||h.g5),minColumns:z,twoColumnItemIndex:F}),V=`${U} ${H}`.trim();return(0,i.useEffect)(()=>{M.current&&(M.current=!1)},[]),(0,f.jsxs)("div",{className:V,"data-test-id":"masonry-container",id:r,children:[D&&M.current?(0,f.jsx)(p.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:$}):null,(0,f.jsx)(n.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?B*e.maxColumns:void 0,children:(0,f.jsx)(n.Rk,{ref:e=>{v&&(v.current=e)},_logTwoColWhitespace:e=>{(0,g.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:I,minCols:z}}),E({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_twoColItems:P,columnWidth:I,gutterWidth:k,items:l,layout:R?D?"serverRenderedFlexible":"flexible":c??"basic",loadItems:b,measurementStore:Z,minCols:z,positionStore:O,renderItem:e=>(0,f.jsx)(a.Z,{name:"MasonryGridItem",children:x(e)}),scrollContainer:L,virtualBufferFactor:C,virtualize:S})})]})}},121151:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>d,b7:()=>a.b7,bN:()=>s,p4:()=>l});var i=r(240684),n=r(50286),o=r(785893),a=r(968121);let s=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(51879).then(r.bind(r,373420)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>373420}),l=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(72430).then(r.bind(r,430322)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>430322});function d(e){let t=(0,n.ZP)(),r=void 0===e.isOpen||e.isOpen;if("desktop"===t&&r){let{isOpen:t,mobileAccessibilityCloseIconLabel:r,mobileAllowScroll:i,mobileHideCloseIcon:n,mobileIsFullscreen:a,mobileIsSlideUp:l,type:d,mobileIsFooter:c,zIndex:u,...h}=e;return(0,o.jsx)(s,{...h})}let{allowMediaPlay:i,allowScroll:a,role:d,size:c,_dangerouslyDisableScrollBoundaryContainer:u,...h}=e;return(0,o.jsx)(l,{...h,isOpen:r})}},968121:(e,t,r)=>{"use strict";r.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>s,b7:()=>a,i_:()=>l});var i=r(883119),n=r(643010),o=r(379764);let a=new i.Ry(1e3),s=new i.H3([o.Z]),l=12,d=({variant:e})=>({__style:"fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,n.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,n.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}),c=({isFullscreen:e,isTablet:t,isShowing:r,isRelatedInterestsModal:i})=>{let o={border:(0,n.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},a=r?"translateY(0)":"translateY(100vh)";return o.height=e?"100vh":"",t&&i&&(o={...o,width:425,left:"50%",transform:"translateX(-50%)"},a=r?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...o,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:a}}}},499128:(e,t,r)=>{"use strict";r.d(t,{UZ:()=>d,Vg:()=>l,ZP:()=>c});var i=r(667294),n=r(883119),o=r(50286),a=r(829407),s=r(785893);let l=200,d=({deviceType:e,hiding:t,visible:r})=>{let i="desktop"===e,n=0,o=i?"translateY(200px)":"translateY(-200px)",a="opacity 0.1s ease-in-out",s="hidden";return r&&!t&&(n=1,o="translateY(0)",a="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),r&&t&&(o="scale(1.1)",a="opacity transform 0.2s"),{opacity:n,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:o,transition:a,visibility:s}};function c({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:r,primaryAction:c,dismissButton:u,helperLink:h,thumbnail:p,type:_,dataTestId:m,duration:g=2e3,onHide:f,href:b,onClick:y,openNewPage:v,imageUrl:x}){let w;let P=(0,o.ZP)(),[S,C]=(0,i.useState)(!1),[j,A]=(0,i.useState)(!1),E=(0,i.useRef)(),T=()=>{C(!0),E.current=setTimeout(f,l)},I=()=>{E.current=setTimeout(T,g)},k=()=>{E.current&&clearTimeout(E.current)};(0,a.Z)(()=>(setTimeout(()=>A(!0),100),I(),k)),x&&(w={image:(0,s.jsx)(n.Ee,{alt:"string"==typeof r?r:`${r[0]} ${r[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:x})});let z=(0,s.jsx)(n.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:u,helperLink:h,primaryAction:c,text:r,thumbnail:w??p,type:_}),{marginTop:D,opacity:R,pointerEvents:B,position:O,transform:Z,transition:L,visibility:M}=d({deviceType:P,hiding:S,visible:j});return(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:Z,transition:L,visibility:M,pointerEvents:B}},"data-test-id":m??"toast",display:"flex",marginTop:D,onMouseEnter:k,onMouseLeave:I,opacity:R,position:O,children:b?(0,s.jsx)(n.Tg,{href:b,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{b.startsWith("#")&&(e.preventDefault(),t()),y?.(e)},rounding:"pill",target:v?"blank":null,children:z}):z})}},356997:(e,t,r)=>{"use strict";r.d(t,{qE:()=>s,u_:()=>l.ZP});var i=r(883119),n=r(785893);let o=(e,t)=>{let r=e?.includes("images/user/default");return!!(r&&t)};function a({accessibilityLabel:e,name:t,outline:r,size:a,src:s,verified:l}){return(0,n.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:r,size:a,src:o(s,t)?void 0:s,verified:l})}a.displayName="Avatar";let s=a;var l=r(121151);r(499128)},178467:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>L,Gh:()=>R,x7:()=>D,jV:()=>O});var i=r(441143),n=r.n(i),o=r(244311);let a={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},s=/(\d\d0P)(\d\d0K)/,l=/QVBR(8|10)/,d=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,c=/^v/,u=e=>a[e]??e.replace(d,"_$1").replace(s,"$1_$2").replace(l,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(c,"V"),h=/[A-Z]/g,p=e=>e.replace(h,e=>`_${e.toLowerCase()}`),_=/^_/,m=e=>e.replace(_,""),g=e=>m(p(e)),f=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],b=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],y=(e,t)=>{if(b.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return n()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return g(e)}},v=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,x=(e,t,r)=>{if(v(r)){if("images"===e)return"image";if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===r&&"image"===e)return"images";if("VideoDetail"===t)return u(e);if(f.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoData":return"video";default:return g(e)}},w=(e,t)=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},P=(e,t,r)=>"Video"===t&&"duration"===e?r?.duration!=null?r.duration:Object.values(r?.video_list||{}).find(e=>e?.duration!=null)?.duration:"__typename"===e?t:w(e,r?.[y(e,r)]),S=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(n()("object"==typeof e,"legacy data must be an object"),t){case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":return Object.entries(e).map(([e,t])=>({key:e,data:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},C=({args:e,name:t})=>{let r=e.find(e=>e.name===t);return r&&"string"==typeof r.value?r.value:null},j=(e,t,r)=>{let{args:i,name:o}=r;if("PinTagChipImagesPerSpec"===t&&"image"===o)return e?.images?.["750x"];let a=e?.[x(o,r.concreteType,t)];if(!a)return a;let s=C({args:i??[],name:"spec"});if(s){if(n()("object"==typeof a,"value must be an object"),v(t)){let{dominant_color:e,images:t}=a;if(!t)return t;n()("object"==typeof t,"images must be an object");let r=t["orig"===s?"originals":s];return r&&e?{...r,dominant_color:e}:r}return a[s]}return a},A={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock"},E=(e,t)=>(A[e]??e).toLowerCase()===t,T={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},I=/_/g,k=e=>"string"==typeof e.type?e.type.replace(I,"").toLowerCase():"number"==typeof e.block_type?T[e.block_type].toLowerCase():void 0;var z=r(67347);let D=Symbol("legacyData"),R=Symbol("inlineFragmentSpread"),B=({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:i,selections:o,untypedInput:a})=>{o.forEach(o=>{switch(o.kind){case"ScalarField":{let{alias:e,name:t}=o;n()(!("__typename"===t&&null==i),"We do not support selecting __typename directly on interface fields. Contact @jackhsu or @robertbalicki"),r[e??t]=P(t,i,a);break}case"LinkedField":{let{alias:s,name:l,concreteType:d,plural:c,selections:u}=o,h=s??l,p=j(a,i,o);if(null==p){r[h]=p;return}if(c){let i=S({untypedInput:p,concreteType:d}),o=r[h];n()(!o||Array.isArray(o),"plural data must be an array"),r[h]=i?.map((r,i)=>{let n=o?.[i]??{};return B({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:d,selections:u,untypedInput:r}),n})}else{n()("object"==typeof p,`Value for ${l} must be an object${d?` with type ${d}`:""}, but a ${typeof p} is given`);let i=r[h]??{};r[h]=i,B({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:d,selections:u,untypedInput:p})}break}case"InlineFragment":{let{abstractKey:i,type:s,selections:l}=o;if(n()(null!=s&&null===i,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==a)break;let d=k(a);null!=d&&E(s,d)&&B({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:s,selections:l,untypedInput:a});break}case"Condition":{let{condition:n,selections:s}=o,l=!0;"isAuth"===n?l=e.isAuth===o.passingValue:"isDesktop"===n&&(l=e.isDesktop===o.passingValue),l&&B({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:i,selections:s,untypedInput:a});break}case"FragmentSpread":r[D]=a;break;case"ClientExtension":B({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:i,selections:o.selections,untypedInput:a});break;case"InlineDataFragmentSpread":{let t={},{selections:n,name:s}=o;B({conditionContext:e,fragmentName:s,mutableOutput:t,parentType:i,selections:n,untypedInput:a}),r[R]||(r[R]={}),r[R][s]=t;break}case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"AliasedInlineFragmentSpread":throw Error(`The selection type '${o.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error(`Unexpected selection type '${o.kind}'`)}})};function O(e,t){return e[D]=t,e}let Z=new Set;function L({conditionContext:e,fragment:t,legacyData:r}){let i;let a=(0,o.getFragment)(t);try{i=function({conditionContext:e,fragment:t,legacyData:r}){let i=null==t.abstractKey;if(i){let e=null!=r?k(r):null;null!=e&&n()(E(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let o={};return B({conditionContext:e,fragmentName:t.name,mutableOutput:o,parentType:t.type,selections:t.selections,untypedInput:r}),o}({conditionContext:e,fragment:a,legacyData:r})}catch(t){throw Z.has(a.name)||(Z.add(a.name),(0,z.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:a.name,rootId:r?.id,rootType:r?.type,url:window.location.href,isAuth:e.isAuth}})),t}return i}},273213:(e,t,r)=>{"use strict";r.d(t,{B:()=>n,j:()=>o});var i=r(178467);function n(e){if(Array.isArray(e))return e[0]?.__fragments!=null?{type:"graphqlRef",data:e}:{type:"deprecated",data:e.map(e=>e[i.x7])};let t=e[i.x7];return null!=t?{type:"deprecated",data:t}:e.__fragments?{type:"graphqlRef",data:e}:e}function o(e){let t=e[i.x7];return null!=t?{type:"deprecated",data:t}:e.__fragments?{type:"graphqlRef",data:e}:e}},681669:(e,t,r)=>{"use strict";r.d(t,{qH:()=>C,Zm:()=>g,HF:()=>P,sr:()=>S,O7:()=>f,V4:()=>w});var i=r(702664),n=r(167912),o=r(178467);function a(e){return null==e?"null or undefined":Array.isArray(e)?"Array":typeof e}function s(e,t,r){return"Manual"===t?{path:e,message:`Value found only in legacy adapter, where it had type ${a(r)}. (Or it was null in the auto-legacy adapter.)`,kind:"MissingInLegacy"}:{path:e,message:`Value found only in auto-legacy adapter, where it had type ${a(r)}. (Or it was null in the legacy adapter.)`,kind:"MissingInAutoLegacy"}}function l(e,t,r){let i=a(t),n=a(r);return{path:e,message:`Found item of type ${i} in the legacy adapter result, and an item of type ${n} in the auto-legacy result.`,kind:"Type"}}var d=r(773285),c=r(780280),u=r(50286),h=r(350118),p=r(67347);let _={},m=new Set;function g(e,t,{useGraphQLAdapter:r,useLegacyAdapter:i}){if("deprecated"===t.type)return{data:i(t.data),childDataKey__DEPRECATED:t};let o=(0,n.useFragment)(e,t.data);return{data:r(o),childDataKey__DEPRECATED:{type:"graphqlRef",data:o}}}let f=()=>{let{isAuthenticated:e}=(0,c.B)(),t=(0,u.HG)();return{isAuth:!!e,isDesktop:t}};function b(){return"undefined"!=typeof performance?performance.now():Date.now()}function y(e){let t=b(),r=e(),i=b();return[r,i-t]}let v=new Map;function x(e,t,r,i){let n=v.get(i);if(n){if(!n.has(t)){let[i,o]=y(e);return n.add(t),(0,p.LY)(t,o,{sampleRate:r.isParallel?1:.1,tags:r}),i}}else{let[n,o]=y(e);return v.set(i,new Set([t])),(0,p.LY)(t,o,{sampleRate:r.isParallel?1:.1,tags:r}),n}return e()}function w(e,t){let{checkExperiment:r}=(0,d.F)(),{isAuthenticated:i}=(0,c.B)(),{group:n,anyEnabled:u}=r(i?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),h=f();return n.includes("parallel")?r=>{let i=x(()=>(0,o.jV)(t(r),r),"autoLegacyAdapter.legacyTiming",{isParallel:!0,fragmentName:e.name},e.name);return"object"==typeof window&&function(e,t,r,i){let n;try{n=x(()=>(0,o.ZP)({conditionContext:t,fragment:e,legacyData:r}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!0},e.name)}catch{return}try{var d;let t=(d=n,function e(t,r,i){let n=[],o=Object.keys(r),d=Object.keys(i);for(let d of o){let o=r[d],c=i[d];n.push(...function t(r,i,n){return null!=i&&null==n?[s(r,"Manual",i)]:i===n||null==i&&null==n?[]:Array.isArray(i)?Array.isArray(n)?function(e,r,i){if(r.length!==i.length)return[{path:e,message:`legacyResult is an array of length ${r.length}; autoLegacyResult is an array of length ${i.length}`,kind:"Length"}];let n=[];for(let o=0;o<r.length;o+=1){let a=r[o],s=i[o];n.push(...t(`${e}[]`,a,s))}return n}(r,i,n):[l(r,i,n)]:"object"==typeof i?"object"==typeof n&&null!==n&&null!==i?e(r,i,n):[l(r,i,n)]:[typeof i!=typeof n?l(r,i,n):{path:r,message:`Found items of type ${a(i)}, but their values did not match.`,kind:"Value"}]}(`${t}.${d}`,o,c))}for(let e of d){let o=r[e],a=i[e];null!=a&&null==o&&n.push(s(`${t}.${e}`,"Auto",a))}return n}("",i,d));if(t.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:t,fragment:e.name}),_[e.name]=_[e.name]??new Set;let r=_[e.name];for(let i of t)r.has(i.path)||(r.add(i.path),(0,p.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:i.path,kind:i.kind}}))}}catch(t){m.has(e.name)||(m.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`comparing results threw for fragment ${e.name}`),(0,p.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,h,r,i),i}:u?t=>x(()=>(0,o.ZP)({conditionContext:h,fragment:e,legacyData:t}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!1},e.name):r=>x(()=>(0,o.jV)(t(r),r),"autoLegacyAdapter.legacyTiming",{fragmentName:e.name,isParallel:!1},e.name)}function P(e,t,r){let n;switch(r.type){case"article":n=e=>{let t=(0,i.useSelector)(({articles:t})=>t[e]);return t?r.useLegacyAdapter(t):null};break;case"story":n=e=>{let t=(0,i.useSelector)(({stories:t})=>t[e]);return t?r.useLegacyAdapter(t):null};break;default:n=e=>{let t=(0,h.S6)()(e);return t?r.useLegacyAdapter(t):null}}return g(e,t,{useGraphQLAdapter:r.useGraphQLAdapter,useLegacyAdapter:n})}function S(e,t,r){let i=w(e,r.useLegacyAdapter);return P(e,t,{...r,useGraphQLAdapter:e=>e,useLegacyAdapter:i})}let C=void 0},916117:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(422578),n=r(178467),o=r(273213),a=r(681669);let s=function(e,t){let r=(0,a.O7)();if(null==t)return null;let s=(0,o.B)(t);if("deprecated"===s.type){let{data:t}=s;return null==t?{data:null}:Array.isArray(t)?t.map(t=>(0,n.ZP)({conditionContext:r,fragment:e,legacyData:t})):(0,n.ZP)({conditionContext:r,fragment:e,legacyData:t})}return(0,i.useFragment)(e,s.data)}},357998:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var i=r(422578),n=r(273213),o=r(681669);function a(e,t,{useLegacyAdapter:r}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let a=(0,n.j)(t);if("deprecated"===a.type){let{data:t}=a;return null==t?{data:null,childDataKey__DEPRECATED:a}:{data:(0,o.V4)(e,r)(t),childDataKey__DEPRECATED:a}}let s=(0,i.useFragment)(e,a.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},444445:(e,t,r)=>{"use strict";r.d(t,{$H:()=>a,$q:()=>b,D6:()=>d,KN:()=>v,Lo:()=>n,P2:()=>m,Wv:()=>y,ZZ:()=>u,g5:()=>h,jC:()=>s,lX:()=>_,nW:()=>p,oX:()=>g,qG:()=>f,tG:()=>o,yF:()=>i,yc:()=>c,yt:()=>l});let i=236,n=2*i/3,o=175,a=24,s=4,l=8,d=2,c=2,u=14,h=16,p=12,_=16,m=24,g=16,f=-1,b=(e=!1,t=!1)=>e?t?_:p:m,y=({contentVisibleItemCount:e,gap:t,width:r})=>e||r?(r-(e-1)*t)/e:i,v=(e,t,r,i,n=u)=>{let o=e+n,a=`
@media (min-width: ${t*o}px) and (max-width: ${(r+1)*o-1}px) {
  ${i}
}
`;return a}},694379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(892819),n=r(780280),o=r(785893);let a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:r,shortform:a,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:d,value:c})=>{let u=(0,i.Z)();return(0,o.jsx)(n.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:r,shortform:a,shortform_maximum_fraction_digits:s,style:l,uplimit:d})})}},298361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(202139),n=r(898781),o=r(349700);function a(){let e=(0,n.ZP)();return function(t,r){let n=new Date(t),a=new Date,s=a-n,l=Math.floor(s/i.FS),d=Math.floor(s/i.UK),c=Math.floor(s/i.F4),u=Math.floor(s/i.VL),h=Math.floor(s/i.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),_=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', d, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', h, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),y=e.ngettext('{{ hours }}h', '{{ hours }}h', d, 'hours ago abbreviated', 'hours ago abbreviated'),v=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),w=e.ngettext('{{ years }}y', '{{ years }}y', h, 'years ago abbreviated', 'years ago abbreviated');return h>0?(0,o.nk)(r?w:f,{years:h}).join(""):u>0?(0,o.nk)(r?x:g,{weeks:u}).join(""):c>0?(0,o.nk)(r?v:m,{days:c}).join(""):d>0?(0,o.nk)(r?y:_,{hours:d}).join(""):l>0?(0,o.nk)(r?b:p,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s,oz:()=>o,q6:()=>n});var i=r(425288);let{Provider:n,Consumer:o,useHook:a}=(0,i.Z)("i18n"),s=a},892819:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(898781),n=r(66699);let o=(e,t)=>{let r=t||0,i=10**r,n=+(r?e*i:e).toFixed(8),o=Math.floor(n),a=n-o,s=a>.49999999&&a<.50000001?o%2==0?o:o+1:Math.round(n);return r?s/i:s},a=({maximumFractionDigits:e,minimumFractionDigits:t,style:r,currency:i})=>{let n={maximumFractionDigits:e,minimumFractionDigits:t};return r?{...n,style:r,..."currency"===r?{currency:i,currencyDisplay:"symbol"}:{}}:n},s=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},l=(e,t)=>{if(t){let{minimumFractionDigits:r,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==r&&void 0!==i)return{minimumFractionDigits:r,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,i.ZP)();return(t,r,i)=>{let d=0,c=0,u=i&&i.style||void 0,h=i&&i.shortform||!1,p=i&&i.uplimit||void 0,_=i&&i.currency||void 0,m=!!p&&r>=p,g=p&&m?p:r;if("currency"===u){let{minimumFractionDigits:e,maximumFractionDigits:r}=l(t,_);d=void 0===i||void 0===i.maximum_fraction_digits?r:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else d=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(h&&g>999&&(d=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),d<c)return String(g);let f=g,b="",y=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],v=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],x=/^zh|ja|ko/.test(t);if(h&&g>999){let e=x?y:v;for(let t=0;t<e.length;t+=1){let r=Object.keys(e[t])[0],i=e[t][r].value;if(g>=i){f=o(g/i*Math.pow(10,d))/Math.pow(10,d),b=e[t][r].localeKey;break}}}if(null==f)return"";let w=f.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],a({maximumFractionDigits:d,minimumFractionDigits:c,currency:_,style:u}));return b&&b.length>0?(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:w,numberSuffix:b})+(m?"+":""):w+(m?"+":"")}}},12610:(e,t,r)=>{"use strict";function i(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:()=>u,LU:()=>h,ZP:()=>p});let n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},s={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:s,[o.stopped]:s,[o.paused]:s,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(o.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(n)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case o.flushed:case o.paused:case o.exit:a[this.debugId]=!0}}}function c(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let u=!0,h=!1;class p{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let r=this.mutationObservers.get(t),i=r&&r.offsetHeight<1;i&&r&&this.stop(r,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==h||(this.pausePriority=e))}resume(e=u){(e!==h||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:r}=t.getBoundingClientRect();return r>e?r:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:r}=t.getBoundingClientRect();return r<e?r:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let r={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},564194:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(667294),n=r(973935),o=r(337815),a=r(407043),s=r(124580),l=r(785893);function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),d(this,"trackImpression",()=>{try{let{isPromoted:e}=this.props;this.node=(0,n.findDOMNode)(this),this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),d(this,"logImpression",e=>{let{carouselData:t,closeupImpressionType:r,closeupNavigationType:i,componentType:n,contextLogData:a,elementType:s,impressionAuxFields:l,impressionType:d,loggingId:u,objectIdStr:h,slotIndex:p,storyPinProductEventData:_,trackCarousel:m,viewData:g,viewParameter:f,viewType:b,logContextEvent:y}=this.props,v=c[d],x=v.idType,w=e.forcedExit&&"removed"===e.forcedExit?0:void 0,P={endTime:e.endTime,[x]:u,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:r,...l,forcedExit:w},S={};if("Pin"===d&&(P={...P,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},l?.chromeAraViewExp&&this.props.children?.props?.pin?.is_promoted)){let e=this.props.children.props.pin.attribution_source_id;(0,o.YS)(d,this.props.children.props.pin.is_promoted??null,e??null,this.props.children.props.pin.link??null,this.props.children.props.pin.campaign_id??null,l.araAuxData??null,this.props.children.props.pin.advertiser_id??null,this.props.children.props.pin.domain??null,this.props.children.props.pin.ad_destination_url??null),S={is_arapi:!0,attribution_source_id:e||""}}m||y({event_type:v.eventType,component:n,element:s,event_data:{[v.impressionType]:"Story"===d?P:[P],..._?{storyPinProductEventData:_}:{}},object_id_str:h,view_type:b,view_data:g||{},view_parameter:f,aux_data:{...a,...S,closeup_navigation_type:i}}),t&&m&&y({event_type:7352,component:n,event_data:{pinCarouselSlotImpressions:[{...P,..."canonical"===t.type?{carouselDataId:Number(t.carouselId??0),slotIndex:t.index,carouselSlotId:t.carouselSlots[t.index??0]&&Number(t.carouselSlots[t.index??0].slotId)}:{carouselDataId:Number(t.id??0),carouselSlotId:t.carousel_slots?.[t.index??0]&&Number(t.carousel_slots[t.index??0].id),slotIndex:t.index}}]},object_id_str:h,view_type:b,view_data:g||{},view_parameter:f,aux_data:{...a,...S}})}),this.impressionsFramework=e.impressionsFramework||s.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){let{isPromoted:e}=this.props;this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function h(e){let{logContextEvent:t}=(0,a.v)();return(0,l.jsx)(u,{...e,logContextEvent:t})}},124580:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(12610);let n=new i.ZP},349700:(e,t,r)=>{"use strict";r.d(t,{Wc:()=>l,bF:()=>c,nk:()=>s,r7:()=>u});var i=r(667294),n=r(785893);function o(e,t,r){return e.split(r).map(e=>{if(e.match(r)){let r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e})}let a=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return o(e,t,a)}function l(e,t){return o(e,t,a).join("")}let d=/(\{\s*\w+\s*\})/g;function c(e,t){return o(e,t,d)}let u=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,n.jsx)(i.Fragment,{children:e},t)):e},507712:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(186656),n=r(826067);let o=(e=()=>{})=>{let t=(0,n.mB)(window.location.search),{invite_code:r}=t;if(!r){e(t);return}let o=encodeURIComponent(r),a=encodeURIComponent(o);(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:a}})}},329734:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,Z:()=>n});var i=r(702664);function n(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function o(){let e=(0,i.useSelector)(({experiences:e})=>e);return!!e&&n(e)}},662374:(e,t,r)=>{"use strict";function i({browserName:e,browserType:t,browserVersion:r,enableModernBundlesForBots:i,isBot:n}){if(n&&i)return!0;if("Electron"===e){let e=Number(r?.split(".")[0]);return e>=3}if(t&&r){let e=Number(r.split(".")[0]);if(1===t||4===t)return e>=105;if(2===t)return e>=15;if(7===t)return e>=105}return!1}r.d(t,{Z:()=>i})},755742:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},720247:(e,t,r)=>{"use strict";function i(e){let t=!1,r=new Promise((r,i)=>{e.then(e=>t?i({isCanceled:!0}):r(e),e=>t?i({isCanceled:!0}):i(e))});return{promise:r,cancel(){t=!0}}}r.d(t,{Z:()=>i})},499659:(e,t,r)=>{"use strict";r.d(t,{Q6:()=>u,ZP:()=>l,qe:()=>d,yU:()=>c});var i=r(239745);let n=(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),o=e=>e;function a(e,t=n,r=o){return function(i){let n=[];return function(...o){let a=n.find(e=>t(e.args,r(o)));if(a)return a.result;let s=i(...o);return n.push({args:r(o),result:s}),e&&n.length>e&&n.shift(),s}}}let s=a(),l=s,d=a(1),c=a(void 0,n,e=>[JSON.stringify(e)]),u=a(0,(e,t)=>e.length===t.length&&e.every((e,r)=>(0,i.Z)(e,t[r])))},767546:(e,t,r)=>{"use strict";r.d(t,{Z:()=>function e(t,r,i=()=>void 0){let n=i(t,r);return void 0!==n?n:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,n,o)=>(t[o]=e(t[o],r[o],i),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,n)=>(t[n]=e(t[n],r[n],i),t),{...t}):r}})},567450:(e,t,r)=>{"use strict";function i(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});let n=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){let{reason:t}=e;n.windowInFocus=!1,n.onPauseListeners.forEach(e=>e(t))}else n.windowInFocus=!0,n.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>o({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>o({isHidden:!1})),window.addEventListener("blur",()=>o({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>o({isHidden:!1})),window.addEventListener("pagehide",()=>o({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=n},623568:(e,t,r)=>{"use strict";r.d(t,{NK:()=>g,P6:()=>o,ZE:()=>_,Zt:()=>m,_J:()=>l,_S:()=>f,cL:()=>h,jL:()=>s,oN:()=>n,rM:()=>p,sV:()=>d,sY:()=>c});var i=r(179888);let n=5e3,o=n/i.gJ,a=["Uploaded by user"],s=(e,t)=>!!t&&!e,l=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),c=e=>!!e&&"gif"===e,u=e=>"pinstory"===e,h=({embedSrc:e,embedSubtype:t,embedType:r})=>!!e&&!c(r)&&!u(t),p=({link:e,mobileLink:t,trackedLink:r})=>!t&&!r&&!e,_=e=>/pin.it/gim.test(e||""),m=({link:e,mobileLink:t,origImageUrl:r,trackedLink:i})=>t||i||e||r||"",g=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function f(e){for(let t of a)if(e===t)return!1;return!0}},198462:(e,t,r)=>{"use strict";r.d(t,{cA:()=>G,fM:()=>q,N5:()=>K});var i=r(667294),n=r(616550),o=r(991067),a=r(7789);let s=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}},l=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}};var d=r(969853),c=r(45528),u=r(711344),h=r(31062),p=r(156381),_=r(311560),m=r(435851),g=r(69028);let f=({botType:e,browserName:t,deviceType:r,region:i})=>{let n=`pwtlogger.${e}.${r}`,o=["all",...i?[i.toLowerCase()]:[]],a=[];"desktop"===r?("Chrome"===t||"Edge"===t||"Safari"===t||"Firefox"===t||"Opera"===t)&&(a=[t.toLowerCase().replace(/\s/g,"_")]):"phone"===r?("Chrome"===t||"Mobile Safari"===t||"Samsung Browser"===t||"Chrome WebView"===t||"GSA"===t)&&(a=[t.toLowerCase().replace(/\s/g,"_")]):"tablet"===r&&"Chrome"===t&&(a=[t.toLowerCase().replace(/\s/g,"_")]);let s=["all",...a],l=[];return o.forEach(e=>{s.forEach(t=>{l.push(`${n}.region_${e}.browser_${t}`)})}),l};var b=r(991565),y=r(893641);let v=e=>10*Math.round(e/10);var x=r(361115),w=r(67347);let P={pin_closeup:{LCP:"pin_closeup_lcp",INP:"pin_closeup_inp"},board:{LCP:"board_lcp",INP:"board_inp"},other_profile:{LCP:"other_profile_lcp",INP:"other_profile_inp"},topic:{LCP:"topic_lcp",INP:"topic_inp"}},S=["CA","GB","DE","FR","AU","JP","BR","MX","AU","IN"],C=({surface:e,pwtStaticContext:t})=>{switch(e){case"pin_closeup":return[(0,x.Uw)({isDesktop:"desktop"===t.deviceType,viewerType:t.isBot&&"bot"||t.isAuthenticated&&"auth"||"unauth"}),t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];case"board":return[t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];default:return[]}},j=({pwtStaticContext:e,surface:t})=>{let r=(0,h.Jx)({annotateExperiments:C({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:P[t].LCP,pwtStaticContext:e}),i=(0,h.Jx)({name:P[t].INP,pwtStaticContext:e});return(e,t)=>{"LCP"===e?r.stop(t):"INP"===e&&i.stop(t)}},A=({pwtStaticContext:e,surface:t,getCurrentRoute:r})=>{let i=j({pwtStaticContext:e,surface:t}),{isAuthenticated:n,isBot:o,isSocialBot:a,deviceType:s,country:l,fullPath:d,browserName:h,osName:x}=e,P={},C=({name:c,value:p,metricDetails:v})=>{if(!P[c]){let C;P[c]=!0;let j=(0,m.Z)(e),A=`${j}.${t}.${c}`,E=`${j}.tags.${t}.${c}`;if(C="iOS"===x&&"Chrome"===h?"iOS_Chrome":"CrUX","LCPCount"===c)(0,w.QX)(`${A}.sum`,p,{sampleRate:1}),(0,w.nP)(`${A}.size`,{sampleRate:1});else{let e=(0,_.Z)(l),m=(0,g.Z)(d);if("INP"===c){if(v){let{rating:t,navigationType:i}=v,{eventTime:o,eventType:a,loadState:s}=v.attribution,l=(0,b.Z)(o),{path:d}=r(),c={isAuth:n,path:d,CrUXSegment:C,region:e,CWVBucket:t,eventTimeGroup:l,eventType:a,loadState:s,navigationType:i,domain:(0,u.xR)(document.domain||"unknown")};if((0,w.LY)(`${A}`,p,{sampleRate:1}),(0,w.LY)(`${E}`,p,{sampleRate:1,tags:c}),"Chrome"===h&&v.attribution.eventEntry){let e=(0,y.Z)(v);e&&(0,w.LY)(`${j}.INPBoundary`,p,{sampleRate:1,tags:{...c,INPBoundary:e}})}}}else"LCP"===c?((0,w.LY)(`${A}`,p,{sampleRate:1}),(0,w.LY)(`${E}`,p,{sampleRate:1,tags:{isAuth:n,CrUXSegment:C,region:e,...m&&{pinType:m}}})):"CLS"===c&&((0,w.LY)(`${A}`,100*p,{sampleRate:1}),(0,w.LY)(`${E}`,100*p,{sampleRate:1,tags:{isAuth:n,CrUXSegment:C,region:e}}));!n&&S.includes(l)&&f({botType:a&&"socialBot"||o&&"bot"||"nonbot",browserName:h,deviceType:s,region:e}).forEach(e=>{(0,w.LY)(`${e}.tags.growthSEO.${t}_${c}`,p,{sampleRate:1,tags:{country:l}})}),i(c,p)}}};(0,c.NO)(({value:e})=>{C({name:"LCPCount",value:(0,p.Kj)()}),C({name:"LCP",value:v(e)})}),(0,c.a4)(({value:e})=>C({name:"FCP",value:e})),(0,c.Yn)(e=>{C({name:"INP",value:e.value,metricDetails:e})}),(0,c.mw)(({value:e})=>{C({name:"CLS",value:e})})};var E=r(790348),T=r(543059),I=r(383434);let k=(0,I.XV)("LayoutShiftDebugger"),z=e=>e<=.1?"good":e<=.25?"adequate":"poor",D=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&D(e.parentNode)||null,R=e=>Math.round(1e3*e),B=[],O=e=>{let t=Object.freeze({}),r=0;B.forEach(({value:e,shift:{sources:i},route:n,params:o,hadRecentNavigation:a,hadRecentScroll:s,isAuth:l})=>{if(r+=e,!i||!i.length)return;let d=e/i.length;i.forEach(({node:e})=>{let r=e?D(e)||"ROOT":"NODE_REMOVED",i=o&&o.scope?o.scope:"none",c={route:n,searchScope:i,boundaryId:r,hadRecentNavigation:a,hadRecentScroll:s,isAuth:l,domain:(0,u.xR)(document.domain||"unknown")},h=JSON.stringify(c);t={...t,[h]:{score:((t[h]||{}).score||0)+d,tags:c}}})}),Object.keys(t).forEach(r=>{let{score:i,tags:n}=t[r];(0,w.QX)(`${e}.shifts`,R(i),{sampleRate:1,tags:{...n}}),(0,w.LY)(`${e}.shifts`,R(i),{sampleRate:1,tags:{...n}})}),k("Debug CLS boundaries",r,t,B),B=[]},Z=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:r})=>{let i;let n=(0,h.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e}),o=0,a=e=>{o=e.timeStamp};window.addEventListener("scroll",a),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",a)});let s=`${(0,m.Z)(e)}.CLS`,l=()=>O(s),d=0,u=0,p=0;(0,c.mw)(({entries:n,value:a})=>{if(p=a||0,n.length){let{path:s,params:l}=t();i=r();let c=n[0].startTime,h=d!==c,p=h?n:n.slice(u);h&&(d=c),B=B.concat(p.map(t=>({value:a,shift:t,route:s,params:l,hadRecentNavigation:i>0&&i+500>t.startTime,hadRecentScroll:o>0&&o+500>t.startTime,isAuth:e.isAuthenticated}))),u=n.length}},!0);let _=setInterval(()=>{if(B.length){l();let e=z(p);(0,w.QX)(`${s}.${e}`,1,{sampleRate:1}),(0,w.LY)(`${s}.${e}`,1,{sampleRate:1}),n.stop(R(p))}},1e3);window.addEventListener("beforeunload",()=>{clearInterval(_),0===p&&n.abort("no_shifts_detected")})},L=null,M=(e,t)=>{let r,i=0,n=0,o=null,a=null,s=null,l=null,d=[],c=()=>{n+=1,s=window.requestAnimationFrame(c)},u=()=>{if(l){let r=d.some(e=>null!==o&&o-e>0&&o-e<=500),n=t(),{isAuthenticated:s}=e;if(r){let t=(0,h.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;let r={surface:n,isAuthenticated:s};if(null===o||null===a||0===i){if(null===o&&null===a)t.error("no_duration",r);else if(null==o)L=a,t.error("no_start",r);else if(null==a){let e;e=L&&o-L<750?"no_end.outside_window":"no_end.single_event",t.error(e,r)}else t.error("no_frames",r)}else{L=a;let e=a-o,l=e/i;0===l?t.error("zero_value",r):l<0?t.error("negative_value",r):(t.addBinaryAnnotation("surface",n,"STRING"),t.addBinaryAnnotation("isAuthenticated",s,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(l))}}else(0,E.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:s,surface:n}})}window.cancelAnimationFrame(s),i=0,n=0,d=[],a=null,o=null,l=null},p=({timeStamp:e})=>{r&&clearTimeout(r),r=setTimeout(u,500),null===l?(l=100*Math.random()<10)&&(s=window.requestAnimationFrame(c),o=e):l&&(a=e,i+=n,n=0)},_=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach(e=>{window.addEventListener(e,_,{passive:!0,capture:!0})}),window.addEventListener("scroll",p,{passive:!0}),window.addEventListener("pagehide",()=>{window.removeEventListener("scroll",p),["wheel","pointerdown","keydown"].forEach(e=>{window.removeEventListener(e,_)})})};var N=r(22773),F=r(785893);let U=(0,i.createContext)(null),H=(0,i.createContext)(null),$=()=>{(0,E.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||(0,E.A9)(`not_supported.window.performance.${e}`)}):(0,E.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,E.A9)("not_supported.window.PerformanceObserer"),(0,d.v)()||(0,E.A9)("not_supported.grid_profiler")},V=()=>window.performance?.now?window.performance.now():null,W=e=>["/advertiser/"].reduce((t,r)=>e.includes(r)||t,!1);function G({children:e,immutableLocation:t,resourceTimingCacheSize:r,routerHistoryAction:d,staticContext:c}){let u=(0,i.useRef)(null),h=(0,i.useRef)(null),_=(0,i.useRef)(t),m=(0,i.useRef)(!0),{path:g,params:f}=(0,n.$B)(),b=(0,i.useRef)(g),y=(0,i.useRef)(f),v=!c.isCachedRender&&(0,o.Z)(c.deviceType);(0,i.useEffect)(()=>{b.current=g},[g]),(0,i.useEffect)(()=>{y.current=f},[f]),(0,i.useEffect)(()=>{if((0,N.X_)({size:r||1e3}),(0,p.UQ)(),$(),m.current=!1,v&&!a.is&&(M(c,()=>s(b.current)||b.current||"UNKNOWN_SURFACE"),"Chrome"===c.browserName)){Z({staticContext:c,getCurrentRoute:()=>({path:b.current,params:y.current}),getLastNavigationTime:()=>h.current||0});let e=l(b.current);e&&A({pwtStaticContext:c,surface:e,getCurrentRoute:()=>({path:b.current})})}},[]);let x=W(t.pathname)?_.current.pathname!==t.pathname:_.current!==t;if(x){_.current=t,h.current=V();let{current:e}=h;if(!m.current){let t=!u.current;(0,E.A9)("routeStart",{tags:{action:d}}),(0,N.Eg)(t),(0,p.Ux)(t),(0,p.on)(),(0,T.tl)();let{customBufferSize:r,defaultBufferSize:i}=(0,N.LH)();e&&((0,E.A9)("routeStart.customBufferSize",{count:r}),(0,E.A9)("routeStart.defaultBufferSize",{count:i}),u.current={time:e,action:d})}}return(0,F.jsx)(U.Provider,{value:v?c:null,children:(0,F.jsx)(H.Provider,{value:u.current,children:e})})}let q=()=>(0,i.useContext)(H),K=()=>(0,i.useContext)(U)},276602:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,S:()=>n});var i=r(425288);let{Provider:n,useMaybeHook:o}=(0,i.Z)("pwtSurfaceContext")},991067:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(969853);let n=()=>!!window.performance?.timing;var o=r(985271);function a(e){return!!("desktop"!==e||n())&&!!o.Z&&(0,i.v)()}},226464:(e,t,r)=>{"use strict";r.d(t,{KJ:()=>c,Rp:()=>d});let i={id:14,name:"own_profile"},n={id:15,name:"other_profile"},o={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},own_profile:i,other_profile:n,visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:n,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"}}}},a={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},l=e=>{let{navigationType:t,isAuthenticated:r,segment:i,surface:n}=e,s=r?"auth":"unauth",l=a[t]?.[s]?.[n],d=i&&l&&l[i]||o[t][s][n];return d},d=e=>{if("stopwatch"===e.type)return s[e.name]||null;let t=l(e);return t?t.id:null},c=e=>{if("stopwatch"===e.type)return e.name;let{navigationType:t,isAuthenticated:r,segment:i,surface:n}=e,o=l(e);return o?o.name:`${t}_${r?"auth":"unauth"}_${n}${i?"_"+i:""}`}},383434:(e,t,r)=>{"use strict";r.d(t,{Ex:()=>a,XV:()=>o,v5:()=>n});var i=r(7789);let n=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},o=e=>(t,...r)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...r)},a=e=>t=>{i.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},317254:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(969853),n=r(667294),o=r(543059),a=r(276602),s=r(198462);function l({children:e,isAtEndOfFeed:t,pinData:r,itemCount:l,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){let h=s.N5()?.isAuthenticated;return h||(u=!0),(0,i.Z)({pinData:r,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),!function(e){let t=(0,a.E)(),r=(0,n.useRef)(null);(0,n.useEffect)(()=>{e!==r.current&&(r.current=e,t&&(0,o.ZP)(o.at))},[!!t,e])}(l),e}},317672:(e,t,r)=>{"use strict";r.d(t,{F9:()=>h,LM:()=>d,VZ:()=>o,cQ:()=>p,rZ:()=>a});var i=r(91885),n=r(790348);let o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,a=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=({top:e,height:t},{foldY:r,pageYOffset:i})=>{let n=e+i;if(n>=r)return!1;let o=Math.min(t,r-n);return o>.5*t||o>.2*r},l=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=(e.style||{}).backgroundImage||"",r=t.match(/^url\(["'](.*)["']\)$/);return r&&r[1]||null},d=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,n.H)("missing_document_query_selector"),0),c=()=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null},u=(e,t)=>{let r=a(e);if(!r)return(0,n.H)("missing_client_rect"),!1;if(r.width<100&&r.height<100){let t=e instanceof HTMLImageElement;if(t)return!1;let r=l(e);if(r?.endsWith("svg"))return!1}return s(r,t)},h=()=>{let e=c();if(!e)return!1;let t=window.innerHeight||0,r=window.pageYOffset||0,i=e.getBoundingClientRect().top+r>=t;return i},p=(e,t,r)=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),[];let o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},a=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),s=[...document.querySelectorAll(a)];if(r){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let r=[...e.children];!r.length&&e.style.backgroundImage?s.push(e):r.length&&r.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return s.reduce((e,r)=>{if((r instanceof HTMLImageElement||r instanceof HTMLDivElement||r instanceof HTMLVideoElement&&t)&&u(r,o)){let t=l(r);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:r,fileName:i}])}}return e},[])}},91885:(e,t,r)=>{"use strict";r.d(t,{$N:()=>d,Kb:()=>i,Wf:()=>s,fF:()=>l,wc:()=>a});let i="pwt-grid-item",n=`div[data-test-id="${i}"]`,o=['div[data-grid-item="true"]',"div.Grid__Item",n],a=o.join(","),s=o.map(e=>`${e} img`).join(","),l=o.map(e=>`${e} div[style*=background-image]`).join(","),d=o.map(e=>`${e} video`).join(",")},969853:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b,v:()=>p});var i=r(667294),n=r(226464),o=r(383434),a=r(317672),s=r(790348),l=r(543059),d=r(276602),c=r(22773),u=r(35954);let h=(0,o.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,a.VZ)(),_=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,m=(e,t)=>{if(!t){let t=(0,a.LM)();if(t===e)return h("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,a.F9)())return h("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},g=(e,t)=>{let r=0,i=0,n=0,o=0,a=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,s)=>{let l;let d=t.fileName.split(".")[0];l=e[s],d!==l?.image_signature&&(l=e.find(e=>d===e?.image_signature)),void 0===l?a+=1:l.is_promoted||l.recommendation_reason?.reason==="PROMOTED_PIN"||l?.promoter?.length?n+=1:null!==l.story_pin_data_id&&void 0!==l.story_pin_data_id?r+=1:l?.videos?.video_list?i+=1:o+=1}),{storyPinCount:r,videoCount:i,adCount:n,imageCount:o,unknownCount:a}},f=(e,t)=>{let r=()=>{window.removeEventListener(e,r),t()};return window.addEventListener(e,r),()=>window.removeEventListener(e,r)};function b({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:r,includeVideos:p=!1,includeSections:b}){let y=(0,d.E)(),v=y?.getId(),x=y?.setVisuallyCompleteResult,[w,P]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{x?P({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):P({status:"DISABLED"})},[v,x]),(0,i.useEffect)(()=>{if("DISABLED"!==w.status&&(0,l.ZP)(`GridVisuallyCompleteProfiler_${w.status}`),h("new status",w),"LAYOUT"===w.status){let e=f("scroll",()=>{(0,l.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[w.status]),(0,u.Z)(()=>{if(!y||!x)return;let{abort:i,getMetricId:l}=y,d=l();switch(w.status){case"LAYOUT":{let t=m(w.numOfItemsChecked,e);t.complete?P({status:"TIMING",failedCount:0,pinElements:(0,a.cQ)(r,p,b)}):500*w.failedCount>6e4?((0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),P({status:"DISABLED"})):P({...w,failedCount:w.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),r=w.pinElements.length,a=[],l=0,u=0,p=0;if(w.pinElements.forEach(({element:t,fileName:r})=>{let i=e.find(e=>e.name.endsWith(r));i?i.responseEnd?(a.push(i),(0,o.v5)(t,"green")):(p+=1,(0,o.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,o.v5)(t,"red")):(l+=1,(0,o.v5)(t,"greenyellow"))}),l||p)100*w.failedCount>6e4?((0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:r,incompleteCount:l,noTimingCount:u,noTimingResponseEndCount:p}}),i("visuallyComplete_timingTimeout"),P({status:"DISABLED"})):P({...w,failedCount:w.failedCount+1});else{if(h(`All ${a.length} images are fetched`),t&&t.length){let e=g(t,w.pinElements);Object.entries(e).forEach(([e,t])=>{y.addBinaryAnnotation(e,t,"I16")}),(0,s.A9)(`${(0,n.KJ)(d)}.pinTypes`,{tags:e})}x({imageTimings:a}),P({status:"DISABLED"}),(0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:r,noTimingCount:u}})}}}},_(w))}},790348:(e,t,r)=>{"use strict";r.d(t,{A9:()=>p,DG:()=>u,H:()=>_,S$:()=>m,iF:()=>h});var i=r(662374),n=r(7789),o=r(383434),a=r(50286),s=r(67347);let l=(0,o.XV)("logPwtStats"),d=null,c=!0;function u(e){let{userAgent:t,isBot:r,isSocialBot:n,isAuthenticated:o}=e;d={browserName:t.browserName,browserVersion:t.browserVersion,deviceType:(0,a.Mq)(e),isAuthenticated:o,isBot:r,isSocialBot:n,isModernBundleCapable:(0,i.Z)({browserName:t.browserName,browserType:t.browserType,browserVersion:t.browserVersion,isBot:r})}}let h=e=>{d&&(d.historyAction=e)},p=(e,t={sampleRate:1},r=!0)=>{let i=n.DQ?1:t.sampleRate;if(!d){l("pwt.metrics_quality.no_context"),(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:i,tags:{eventName:e}});return}let{browserName:o,browserVersion:a,deviceType:c,isBot:u,isSocialBot:h}=d,p=`pwt.${h&&"socialBot"||u&&"bot"||"nonbot"}.metrics_quality.${c}.${e}`,_={...t.tags||{},browserName:o,browserVersion:a?.split(".")[0]||"0"},m="number"==typeof t.count?t.count:1;r&&(l(`${p}: ${m}`),t.tags&&l(Object.entries(t.tags))),n.is||(0,s.QX)(p,m,{sampleRate:i,tags:_})},_=(e,t)=>p(`ERROR.${t?.action?t.action+".":""}${e}`,{tags:t}),m=({appLoadName:e,clientNavName:t},r)=>{if(d){let i="APP_VOLUME.";c?(p(i.concat(e),{tags:{browserSupportsPwtProfiler:!!r}}),c=!1):"PUSH"===d.historyAction&&p(i.concat(t),{tags:{browserSupportsPwtProfiler:!!r}})}else(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:1,tags:{eventName:e.concat(`.${t}`)}})}},543059:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>u,BA:()=>h,L8:()=>_,ZP:()=>m,at:()=>n,gQ:()=>c,tl:()=>p});var i=r(985271);let n="masonryPagination",o={},a=e=>` ${e}`,s=(e,t)=>{let r=a(t);e.mark(r)},l=(e,t,r,i)=>{let n=a(t);e.measure(n,r,i)},d=(e,t)=>{let r=a(t);e.clearMarks(r),e.clearMeasures(r)},c=()=>{let e={};return Object.keys(o).forEach(t=>{(o[t]||[]).slice(0,3).forEach((r,i)=>{let n=i?`${t}_${i+1}`:t;e[n]=r})}),e},u=(e,t)=>(o[e]||[]).filter(e=>e<t).length,h=(e,t)=>u(e,t)>0,p=()=>{i.Z&&Object.keys(o).forEach(e=>d(i.Z,e)),o={}},_=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),l(i.Z,e))},m=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),s(i.Z,e))}},528961:(e,t,r)=>{"use strict";r.d(t,{cC:()=>o,jy:()=>n,qr:()=>s,sk:()=>a});let i=e=>"number"==typeof e?Math.round(e):e,n=e=>({type:"I16",value:i(e)}),o=e=>({type:"I32",value:i(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},607150:(e,t,r)=>{"use strict";r.d(t,{D3:()=>o,Hd:()=>l,jh:()=>s,rX:()=>a});var i=r(672115),n=r(156381);let o=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{let{largestContentfulPaint:e}=(0,n.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((r,i)=>({...r,[`${e}${i}`]:t[i]}),{}),l=(e,t)=>Object.keys(e).reduce((r,i)=>t.includes(i)?{...r,[i]:e[i]}:r,Object.freeze({}))},638089:(e,t,r)=>{"use strict";r.d(t,{ng:()=>b,rA:()=>v});var i=r(226464),n=r(543059),o=r(528961),a=r(156381),s=r(22773),l=r(602738);let d=(e,t)=>(e||[]).reduce((e,r)=>({...e,[`experiment.${r}`]:(0,o.sk)(t(r))}),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>Number(Number(e/1024).toFixed(3)),h=e=>e.reduce((e,t)=>e+t,0),p=(e,t)=>Object.keys(t).reduce((r,i)=>({...r,[`${e}${i}`]:t[i]}),{}),_=e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:r,responseEnd:i})=>{let n=t||e;return{startTime:e,requestStart:n,responseStart:r||n,responseEnd:i}}),r=h(t.map(e=>e.requestStart-e.startTime)),i=h(t.map(e=>e.responseStart-e.requestStart)),n=h(t.map(e=>e.responseEnd-e.responseStart)),a=r+i+n,s=h(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:(0,o.cC)(u(s)),"duration.all":(0,o.cC)(a),"duration.requestStartToResponseStart":(0,o.cC)(i),"duration.responseStartToResponseEnd":(0,o.cC)(n),"duration.startToRequestStart":(0,o.cC)(r)}},m=e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{..._(t),"count.completed":(0,o.cC)(t.length)}:{},"count.all":(0,o.cC)(e.length)}},g=e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],r={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:n,startTime:o}=e[0].timing,a=n||o;r.timeSecond1.start=a,r.timeSecond1.end=a+1e3,r.timeSecond2.start=a+1e3,r.timeSecond2.end=a+2e3,r.timeSecond3.start=a+2e3,r.timeSecond3.end=a+3e3,e.forEach(e=>{let{timing:n}=e;i[e.category]=i[e.category].concat([n]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([n])),e.isExternal&&(i.external=i.external.concat([n])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([n]));let{requestStart:o,startTime:a,responseEnd:s}=n,l=o||a;t.forEach(e=>{let{start:t,end:i}=r[e];l>=t&&l<i?r[e].count+=1:l<t&&s>t&&(r[e].count+=1)})})}let n={...p("concurrentRequests.",Object.keys(r).reduce((e,t)=>e={...e,[t]:(0,o.cC)(r[t].count)},{}))},a={...Object.keys(i).reduce((e,t)=>({...e,...p(`resource.${t}.`,m(i[t]))}),n)};return a},f=(e,t,r)=>{let n;let{devicePixelRatio:a,navigator:d,innerWidth:u,innerHeight:h,performance:p}=window,{deviceMemory:_,hardwareConcurrency:m,platform:g,userAgent:f,connection:b}=d,{memory:y}=p,{appType:v,appVersion:x,browserName:w,browserVersion:P,deviceType:S,isAppShell:C,isAuthenticated:j,isBot:A,isSocialBot:E,locale:T,osName:I,stageName:k,unauthId:z}=t,D="desktop"===S?v||5:v||6,{navigationType:R}=e,B=null;if("initial_app_load"===R){n=1;let e=l.Z("navigation")[0]?.transferSize;B=e?parseFloat((.001*e).toFixed(1)):null}else n=4;let O={"app.type":(0,o.jy)(D),"app.version":(0,o.sk)(x),"browser.name":(0,o.sk)(w),"browser.version":(0,o.sk)(P),"cpu.speed":(0,o.jy)(m),"device.memory":(0,o.jy)(_),"device.type":(0,o.jy)(0),"device.typeName":(0,o.sk)(S),"device.version":(0,o.sk)("unknown"),"pwt.cause":(0,o.jy)(n),"net.effectiveType":(0,o.sk)(b?.effectiveType||null),"net.downlink":(0,o.cC)(c(e=>10*Math.round(e/10),b?.downlink)),"net.downlinkMax":(0,o.cC)(c(e=>10*Math.round(e/10),b?.downlinkMax)),"net.rtt":(0,o.cC)(c(e=>10*Math.round(e/10),b?.rtt)),"net.speed":(0,o.cC)((0,s.Hv)(r,!1)),"pwt.result":(0,o.jy)(1),"view.type":(0,o.cC)(0),"viewport.height":(0,o.cC)(h||0),"viewport.width":(0,o.cC)(u||0),devicePixelRatio:(0,o.cC)(a||0),isAppShell:(0,o.qr)(C),isAuthenticated:(0,o.qr)(j),isBot:(0,o.qr)(A),isSocialBot:(0,o.qr)(E),locale:(0,o.sk)(T),osName:(0,o.sk)(I),...null!==B&&{htmlResponseSize:(0,o.cC)(B)},nextHopProtocol:(0,o.sk)(l.Z("navigation")[0]?.nextHopProtocol||null),platform:(0,o.sk)(g||null),profilerVersion:(0,o.sk)("3"),pwtActionName:(0,o.jy)((0,i.Rp)(e)),stageName:(0,o.sk)(k),userAgent:(0,o.sk)(f),usedJSHeapSize:(0,o.cC)(y?.usedJSHeapSize||0),totalJSHeapSize:(0,o.cC)(y?.totalJSHeapSize||0),jsHeapSizeLimit:(0,o.cC)(y?.jsHeapSizeLimit||0)};return j?O:{...O,unauthId:(0,o.sk)(z)}},b=({annotateExperiments:e,metricId:t,pwtStaticContext:r,binaryAnnotations:i={},performanceResourceTimings:n=[]})=>({...d(e,r.getExperimentGroup),...f(t,r,n),...i,stopwatchVersion:(0,o.jy)(1)}),y=(e,t)=>{let{navigator:r}=window,{serviceWorker:i}=r,{surface:s,navigationType:l,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:c,longTaskDurations:u}=(0,a.v2)();return{...u.length?{"longTask.count":(0,o.cC)(u.length),"longTask.maxDuration":(0,o.cC)(Math.max(...u)),"longTask.totalDuration":(0,o.cC)(h(u))}:{},cumulativeLayoutShiftScore:(0,o.cC)(100*c),"masonry.paginationMarkCount":(0,o.cC)((0,n.Ao)(n.at,t)),"metricId.isAuthenticated":(0,o.qr)(d),"metricId.navigationType":(0,o.sk)(l),"metricId.surface":(0,o.sk)(s),resourceBufferClearedCount:(0,o.jy)((0,n.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,o.qr)((0,n.BA)("scrollDuringLayout",t)),serviceWorker:(0,o.qr)(i?!!i.controller:null),serviceWorkerState:(0,o.sk)(i?.controller?.state||null)}},v=({annotateExperiments:e,binaryAnnotations:t={},entries:r,metricId:i,performanceResources:n,pwtEndTime:o,pwtStaticContext:a})=>({...t,...g(n),...d(e,a.getExperimentGroup),...f(i,a,r),...y(i,o)})},860273:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(985271);let n=()=>{let[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},453821:(e,t,r)=>{"use strict";r.d(t,{i:()=>i,p:()=>a});let i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),r=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(r))return"script";if("css"===r)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(r))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(r))return"image";return"other"}}},n=e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),r=document&&document.querySelector(`script[src='${t}']`);return!!r&&r.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(`${t}`)),a=(e,t)=>{let r=i(e),{name:a}=e;return{category:r,isDeferred:"script"===r&&n(a),isExternal:o(a),isVisuallyCompleteRequired:"image"===r&&t.includes(a),timing:e}}},558775:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var i=r(176532),n=r(7789),o=r(226464),a=r(383434),s=r(790348);let l=null,d=(e,t)=>((l=l||{results:[],context:t}).results.push(e),l);var c=r(528961),u=r(860273),h=r(358864),p=r(602738);let _=(e,t)=>Object.keys(e).reduce((r,i)=>{let n=e[i];return n?{...r,[i]:{timestamp:t+n}}:r},{}),m=e=>Object.keys(e).reduce((t,r)=>{let i=e[r];if(!i)return t;let{value:n,type:o}=i;return null==n?t:t.concat({name:r,value:n,annotation_type:o})},[]),g=({span:e,timeOrigin:t})=>({id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:_(e.annotationMap,t),binary_annotations:m(e.binaryAnnotationMap)}),f=(e,{startTime:t,endTime:r,annotationMap:i,binaryAnnotationMap:n,parentId:o,traceId:a})=>({name:`pwt/${e}`,startTime:t,endTime:r,annotationMap:i,binaryAnnotationMap:n,parentId:o,id:a}),b=({annotations:e})=>e.reduce((e,{key:t,timestamp:r})=>({...e,[`server_${t}`]:{timestamp:r}}),{}),y=(e,t)=>({...e,annotations:{...b(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),v=(e,t,r)=>{let i=(0,u.Z)(),n=i?.responseEnd;return n?y(g({span:{name:"html",startTime:0,endTime:i?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,c.sk)(p.Z("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,h.Z)(),parentId:t},timeOrigin:r}),e):null},x=({traceId:e,actionName:t,result:r,timeOrigin:i,serverDataToJoin:n})=>{let o=g({span:f(t,r),timeOrigin:i}),a=null;return n&&(o=y(o,n),a=v(n,e,i)),{trace_id:e,spans:[o,...a?[a]:[],...r.spans.map(e=>g({span:e,timeOrigin:i}))]}},w=e=>({debugTrace:n.eD,locale:e.locale,stageName:e.stageName}),P=(0,a.XV)("reportResult"),S=()=>window.performance?.now?Date.now()-window.performance.now():"unknown";function C({metricId:e,pwtStaticContext:t,result:r,isAuth:a}){let{serverData:l}=t,c=(0,o.KJ)(e),u=`${r.type}.${c}`,h=`${r.type}.sampled.${c}`,p=void 0!==a&&{tags:{isAuth:a}}||void 0;if((0,s.A9)(r.reason?u.concat(`.${r.reason}`):u,p),(0,s.A9)(r.reason?h.concat(`.${r.reason}`):h,{...p,sampleRate:.5}),"COMPLETE"!==r.type){P(`Abort metric ${c}`,r);return}let _=S();if("unknown"===_){P(`Unable to convert to absolute times for ${c} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${c}`,p);return}if(n.is&&(window.PWT_LAB_DATA=d(r,t)),r.spans.length&&(r.spans=r.spans.map(e=>(e.parentId||e.id===r.traceId||"network_resources"===e.name||(e.parentId=r.traceId),e))),!n.is){let n=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=r,a=x({traceId:o,actionName:c,result:r,timeOrigin:_,serverDataToJoin:n&&l||null});(0,i.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(a),report_context:JSON.stringify(w(t))}}),P(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o.toString(16)}`,{duration:r.endTime-r.startTime,result:r,pwtStaticContext:t})}}},672115:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},505771:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(528961),n=r(672115),o=r(358864);let a=({category:e,isDeferred:t,isExternal:r})=>[e].concat(t?["deferred"]:[]).concat(r?["external"]:[]).join("_");function s(e,t){let{category:r,timing:s,isDeferred:l,isExternal:d,isVisuallyCompleteRequired:c}=e;return s.responseEnd&&("image"!==r||c)?{name:a(e),id:(0,o.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,n.Z)(s),binaryAnnotationMap:{category:(0,i.sk)(r),decodedBodySize:(0,i.cC)(s.decodedBodySize||0),initiatorType:(0,i.sk)(s.initiatorType),isDeferred:(0,i.qr)(l),isExternal:(0,i.qr)(d),name:(0,i.sk)(s.name),nextHopProtocol:(0,i.sk)(s.nextHopProtocol),transferSize:(0,i.cC)(s.transferSize||0)}}:null}},31062:(e,t,r)=>{"use strict";r.d(t,{ku:()=>E,Jx:()=>C,PY:()=>A});var i=r(383434),n=r(790348),o=r(543059),a=r(607150),s=r(638089),l=r(860273),d=r(156381);let c=()=>(0,d.PJ)().reduce((e,{identifier:t,loadTime:r,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:r,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:r,[`${t}_renderTime`]:i},Object.freeze({}));var u=r(672115),h=r(464609),p=r(22773);let _=e=>{let t=(0,p.y0)();return e.reduce((e,{name:r,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...(0,a.jh)(`${r}${i?"_dupe1":""}_`,(0,u.Z)(t))}),e),Object.freeze({}))},m=e=>{if("pin_closeup"===e){let e=(0,h.Z)();return _([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var g=r(453821),f=r(558775),b=r(505771),y=r(69028),v=r(169213),x=r(358864);let w=(0,i.XV)("LightStopwatch"),P=()=>{let e=[],t=null;return window.PerformanceObserver&&(t=(0,v.Z)({entryTypes:["resource"]},t=>{(e=e.concat(t.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{t&&t.disconnect()}}},S={},C=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:r,name:i,pwtStaticContext:d})=>{let u=P(),h=(0,y.Z)(d.fullPath),p=!0,_={...h?{pagePath:{value:h,type:"STRING"}}:{}};(0,n.A9)(`TIMING.${i}`,{tags:{isAuth:d.isAuthenticated}});let v={type:"stopwatch",name:i,navigationType:"initial_app_load"},C={abort:e=>{if(!p){(0,n.H)("duplicate_abort_action",{action:i});return}p=!1,(0,f.Z)({metricId:v,pwtStaticContext:d,result:{type:"ABORT",reason:e}})},error:(e,t)=>{let r={...t,action:i};if(!p){(0,n.H)("duplicate_error_action",r);return}e&&(0,n.H)(e,r),u&&u.disconnect(),p=!1},stop:h=>{if(!p){(0,n.H)("duplicate_stop_action",{action:i});return}p=!1,u.disconnect();let y=(0,x.Z)(),w=(0,l.Z)(),P=u.get(),S={type:"COMPLETE",traceId:(0,x.Z)(),startTime:0,endTime:h,spans:[{name:"network_resources",id:y,startTime:0,endTime:h,annotationMap:{},binaryAnnotationMap:{},parentId:null},...P.map(e=>(0,b.Z)((0,g.p)(e,[]),y)).filter(Boolean)],annotationMap:{...(0,a.jh)("resource_",r?m(r):{}),...(0,a.jh)("element_",c()),...(0,a.jh)("mark_",t&&t.length?(0,a.Hd)((0,o.gQ)(),t):{}),...(0,a.jh)("browser_",w?(0,a.D3)(w):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:v,pwtStaticContext:d,performanceResourceTimings:P,binaryAnnotations:_})};(0,f.Z)({metricId:v,pwtStaticContext:d,result:S,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,r)=>{w(`adding binary annotation {${e}: ${String(t)}}`),_={..._,[e]:{value:t,type:r}}}};return S[i]=C,C},j=e=>S[e],A=e=>!!j(e),E=({stopwatchName:e,binaryAnnotationName:t,value:r,annotationType:i})=>{let n=j(e);n&&n.addBinaryAnnotation(t,r,i)}},991565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":"10000+ms"},156381:(e,t,r)=>{"use strict";let i;r.d(t,{Bn:()=>_,Kj:()=>p,PJ:()=>d,UQ:()=>g,Ux:()=>c,on:()=>s,v2:()=>u});var n=r(581341),o=r(169213);let a={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},s=()=>{a.longTaskDurations=[]},l=(0,n.Z)(()=>a.elementTimings),d=()=>l.get(),c=e=>{e&&l.save(),a.elementTimings=[]},u=()=>a,h=0,p=()=>h,_=()=>i,m=e=>e.reduce((e,{identifier:t,loadTime:r,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof r&&"number"==typeof i?[{identifier:t,loadTime:r,renderTime:i}]:[]),[]),g=()=>{(0,o.Z)({type:"element",buffered:!0},e=>{a.elementTimings=a.elementTimings.concat(m(e.getEntries()))}),(0,o.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>a.longTaskDurations.push(e.duration))},()=>s()),(0,o.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),r=t.length,n=t[r-1];n&&(h=r,a.largestContentfulPaint=n.renderTime||n.loadTime||null,i=n.renderTime||n.loadTime||null)}),(0,o.Z)({type:"layout-shift",buffered:!0},e=>{let t=e.getEntries();t.forEach(e=>{e.hadRecentInput||(a.cumulativeLayoutShiftScore+=e.value)})})}},311560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},581341:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},435851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>{let{deviceType:t,isBot:r,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${i&&"socialBot"||r&&"bot"||"nonbot"}.${t}`}},69028:(e,t,r)=>{"use strict";function i(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let r=t.split("/")[3];return r?"feedback"===r||"sent"===r?r:null:"default"}r.d(t,{Z:()=>i})},169213:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t,r)=>{if(!window.PerformanceObserver)return null;try{let i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",()=>{i.disconnect()}),r&&window.addEventListener("popstate",()=>{r()}),i}catch(e){return null}}},893641:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let i=e=>e?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement&&e.parentElement instanceof HTMLDivElement?i(e.parentElement):null:"NODE_REMOVED",n=e=>{let{target:t}=e.attribution.eventEntry;return t?i(t):"NODE_REMOVED"}},464609:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n,f:()=>i});let i="closeupImage",n=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},358864:(e,t,r)=>{"use strict";function i(){let e="";for(let t=0;t<15;t+=1){let t=Math.floor(10*Math.random());e+="0123456789"[t]}return Number(e)}r.d(t,{Z:()=>i})},22773:(e,t,r)=>{"use strict";let i;r.d(t,{Cg:()=>m,Eg:()=>f,Hv:()=>v,LH:()=>b,MM:()=>x,X_:()=>h,y0:()=>g});var n=r(7789),o=r(790348),a=r(543059),s=r(453821),l=r(581341),d=r(169213),c=r(602738);function u(){window.performance&&window.performance.clearResourceTimings&&((0,a.ZP)("resourceBufferCleared"),n.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,o.A9)("resourceBufferSize",{count:(0,c.Z)("resource").length}),window.performance.clearResourceTimings())}let h=({size:e})=>{if(window.performance){window.PerformanceObserver?(i=(0,c.Z)("resource"),(0,d.Z)({entryTypes:["resource"]},t=>{(i=(i||[]).concat(t.getEntries())).length>e&&(i=i.slice(-e))})):(window.addEventListener("popstate",()=>{let t=(0,c.Z)("resource").length;t>e&&u()}),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{i||u()}}catch(e){}}},p=()=>i||(0,c.Z)("resource"),_=(0,l.Z)(p),m=p,g=()=>_.get(),f=e=>{e&&_.save(),i&&((0,o.A9)("customBufferSize",{count:i.length}),i=[]),u()},b=()=>({customBufferSize:i?i.length:0,defaultBufferSize:(0,c.Z)("resource").length}),y=e=>e.length?e.reduce((e,t)=>e+t,0)/e.length:null,v=(e,t=!0)=>{let r=0,i=0,n=y(e.filter(e=>{if(t){let t="image"===(0,s.i)(e);return!!t&&(e.responseEnd||(r+=1),e.transferSize||(i+=1),!!e.responseEnd&&!!e.transferSize)}return!!e.responseEnd&&!!e.transferSize}).map(e=>{let t=8*(e.transferSize||0),r=(e.responseEnd-e.responseStart)/1e3;return t/r/1e3}));return t&&(r>0&&(0,o.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:r}},!1),i>0&&(0,o.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),n},x=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},602738:(e,t,r)=>{"use strict";function i(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}r.d(t,{Z:()=>i})},985271:(e,t,r)=>{"use strict";var i;r.d(t,{Z:()=>n});let n=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null},932995:(e,t,r)=>{"use strict";function i(e,t,r){let i=[...e],n=i.splice(t,1)[0];return i.splice(r,0,n),i}r.d(t,{Z:()=>i})},947599:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(995228);let n=i.Z},984206:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=2},909499:(e,t,r)=>{"use strict";r.d(t,{Hd:()=>d,_R:()=>s,gi:()=>o,lw:()=>i,oD:()=>n,wF:()=>l,zh:()=>a});let i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content"},n=e=>{let t=Object.values(i).find(t=>t===e);return t??void 0},o=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},a=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},s=e=>{switch(e){case i.PINS_MINE:case i.MY_CONTENT:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;case i.PINS:default:return 43}},l=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:case i.MY_CONTENT:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},d=(e,t)=>{if(t)switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}switch(e){case i.USERS:return 1000432;case i.PINS_BUYABLE:return 1000433;case i.PINS:default:return 1000269}}},700226:(e,t,r)=>{"use strict";function i({category:e,domains:t,maxPrice:r,minPrice:i}){return[e,t,r,i].map(e=>e??"").join("-")}r.d(t,{Z:()=>i})},391143:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(613316),n=r(643913);function o({bubbleId:e,pinId:t,query:r,referringSource:o,storyCategory:a,storyId:s,title:l}){let d=[0,24,21,26].includes(a),c=(0,n.Z)({q:r,rs:o||void 0,b_id:e,source_id:s,top_pin_id:t}),u=d&&l?(0,i.x)({title:l,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:`/search/pins/${c?"?"+c:""}`}},268807:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(826067);function n(e,t){let r=(0,i.mB)(e);return r.utm_pai&&r.utm_source&&r.pid&&"pins"===t?r.pid:""}},595371:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});let i={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},648284:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>o,Tb:()=>n});var i=r(595371);function n({appliedProductFilters:e,autoCorrectionDisabled:t,filters:r,query:i,scope:n,selectedPinImgSig:o,user:a}){let s=[n,r,e,a,o,i].map(e=>e??"").join(":");return t?"auto-correction-disabled:"+s:s}function o(e){let{appliedFilters:t,appliedProductFilters:r,autoCorrectionDisabled:n,bubbleId:o,domains:a,filters:s,guidedSearchQuery:l,firstPageSize:d,pageSize:c,priceMax:u,priceMin:h,query:p,rs:_,scope:m,selectedPinImgSig:g,topPinId:f,user:b}=e,y=function({appliedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:r=!1,bubbleId:n=null,domains:o=null,filters:a=null,firstPageSize:s=null,pageSize:l=null,priceMax:d=null,priceMin:c=null,query:u=null,rs:h=i.i.DIRECT_NAVIGATION,scope:p="pins",selectedPinImgSig:_=null,sourceId:m=null,topPinId:g=null,user:f}){return{applied_filters:e,appliedProductFilters:t,article:n,auto_correction_disabled:r,corpus:_?"personalize":null,customized_rerank_type:_?"manas_graph_sage_only_wand_rewrite":null,domains:o,filters:a,first_page_size:s,page_size:l,price_max:d,price_min:c,query_pin_sigs:_,query:u,redux_normalize_feed:!0,rs:h,scope:p,source_id:m,top_pin_id:g,user:f}}({appliedFilters:t,appliedProductFilters:r,autoCorrectionDisabled:!!n,bubbleId:o,domains:a,filters:s,firstPageSize:d,guidedSearchQuery:l,pageSize:c,priceMax:u,priceMin:h,query:p,rs:_,scope:m,selectedPinImgSig:g,topPinId:f,user:b});return{name:"BaseSearchResource",options:y}}},458882:(e,t,r)=>{"use strict";r.d(t,{l:()=>o,r:()=>a});var i=r(667294);let n=(0,i.createContext)(null),o=()=>(0,i.useContext)(n),a=n.Provider},667679:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(780679),n=r(458882);let o=()=>{let e=(0,i.g)(),t=(0,n.l)();return r=>{let{mobileOptions:i,desktopOptions:n,reason:o,attributionLabel:a,pinId:s}=r;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:o,attributionLabel:a,...n?.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:a,headingType:i?.headingType,pinId:s})}}},223815:(e,t,r)=>{"use strict";r.d(t,{U:()=>a,Z:()=>s});var i=r(755742),n=r(785893);let o=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:r,allowScroll:s,children:l}){let d=e=>{t&&e.keyCode===i.Z.ESCAPE||a(e)};return(0,n.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:o,onCanPlay:r?o:a,onCanPlayThrough:a,onChange:a,onClick:e?o:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:o,onInput:a,onInvalid:a,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?o:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?o:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?o:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?o:a,onTouchMove:e?o:a,onTouchStart:e?o:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},676142:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(858142);let n=/\{\s*(\w+)\s*\}/g,o=(e,t)=>(0,i.Z)(n,e,t);function a({args:e,format:t}){let r=(e||[]).reduce((e,t,r)=>({...e,[r]:t.text}),{});return o(t,r)}},940882:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,Z:()=>n});let i=-1;function n(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(858142);let n=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,i.Z)(n,e,t)},858791:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},927104:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},858142:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t,r)=>t?t.replace(e,(e,t)=>r&&Object.prototype.hasOwnProperty.call(r,t)?r[t]:""):""},66699:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(985913),n=r(858791);let o=(e,t)=>{let r={};return Object.keys(t).forEach(e=>{r[e]=t[e]?(0,n.Z)(t[e].toString()):""}),(0,i.Z)(e,r)}},70061:(e,t,r)=>{"use strict";function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}r.d(t,{Z:()=>i})},430323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(667294),n=r(722767),o=r(558068),a=r(780280),s=r(239745),l=r(245474),d=r(425288);let{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var h=r(790123),p=r(350118),_=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:r,objectId:i,timeSpentContext:n,view:o,viewParameter:a}=this.props;return{view:o||n?.view,viewParameter:a||n?.viewParameter,component:t||n?.component,element:r,objectId:i||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:r,left:i,right:n,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===r&&0===i&&0===n&&0===o?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new l.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,_.jsx)(c,{value:this.getContext(),children:(0,_.jsx)(n.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i.Children.only(e)})})}}function f(e){let t=(0,o.Hv)(),r=u(),n=(0,h.w)(),s=(0,p.H0)(),{requestIdentifier:l=""}=(0,a.B)(),d={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,i.useEffect)(()=>{n?.setPins(s??{})},[s,n]),n?(0,_.jsx)(g,{...e,auxData:d,timeSpentContext:r,timeSpentManager:n,children:e.children}):e.children}f.displayName="TimeSpent";let b=f},433780:(e,t,r)=>{"use strict";r.d(t,{w:()=>_});var i=r(768559),n=r(755289),o=r(245474),a=r(704115),s=r(67347);function l(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let d=null,c={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},u=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",h=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}},p={};function _({contextLogger:e,shouldExtractTrackingParams:t}){if(d)return d;let r=(r,n,o)=>{if(t&&o&&r){let e;let{pair_id:t,event_type:a}=r;if(4703===a&&t&&p[t])r.clientTrackingParams=p[t];else{let s=r.object_id_str,l=s?o[s]:null,d=n?.current?.location,c=n?.previous;l&&d&&(e=(0,i.Z)({boardUrl:l.board?.url,location:d,pinId:l.id,pinnerUserName:l.pinner?.username,previousHistory:c,storyPinDataId:l.story_pin_data_id,trackingParams:l.tracking_params,trackingParamsMap:l.tracking_params_map})||`${l.tracking_params||""}~0`,r.clientTrackingParams=e,4702===a&&t&&(p[t]=e))}}e.logContextEvent(r)},_=new Map,m=(0,a.Z)()&&(0,a.Z)().debug_timespent,g=[],f=m?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};return console.group||(f.group=(...e)=>console.log(...e),f.groupEnd=(...e)=>{}),d=new class{constructor(){l(this,"appTimedPair",null),l(this,"clickthroughProperties",null),l(this,"historyStackContext",null),l(this,"offsiteTimedPair",null),l(this,"offsiteTimedPairForegroundId",null),l(this,"pins",Object.freeze({})),l(this,"addEventListeners",()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()},!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",e=>this.unregisterApp(!1,void 0,e));let r=h(e=>this.unregisterApp(!0,void 0,e));window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r);let i=navigator&&navigator.userAgent.toLowerCase();i&&i.includes("macintosh")&&i.includes("chrome")&&window.addEventListener("popstate",()=>{document.hasFocus()||document[e]||(0,s.nP)("chrome_mac_back_forward_button",{sampleRate:1})})}),l(this,"storeClickthroughProperties",e=>{this.clickthroughProperties&&(0,s.nP)("webapp.metrics.clickthroughs.overwritten",{sampleRate:1,tags:{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}}),this.clickthroughProperties={time:(0,n.Z)(),...e}}),l(this,"clearClickthroughProperties",()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null}),l(this,"registerApp",()=>{f.group("App Foreground",u()),null==this.appTimedPair?(this.appTimedPair=new o.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&r({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext,this.pins)):f.error("TimedPair already exists for app."),f.groupEnd()}),l(this,"unregisterApp",(t=!1,i=!1,n)=>{f.group("App Background",u());let{appTimedPair:o}=this;if(null!=o){this._pauseAllComponents();let e=o.end();this._startOffsiteTimedPair(),r({event_type:4701,duration_ns:e,pair_id:o.uuid},this.historyStackContext,this.pins),this.appTimedPair=null}else f.error("No TimedPair found for app.");let a=["beforeunload","pagehide"],s=a.includes(n?.type),l=a.includes(n?.pauseReason);(s||l)&&this._endOffsiteTimedPair(),i||e.flushContextEvents(t??!1),f.groupEnd()}),l(this,"_activateComponent",e=>{f.group("Activating component",u()),m&&f.log(e.getContext());let t=e.getTimedPair();if(t){t.start();let{view:i,viewParameter:n,component:o,element:a,objectId:s,clientTrackingParams:l}=e.getLoggerContext();r({event_type:4702,view_type:i,view_parameter:n,component:o,element:a,object_id_str:s,view_data:e.props.viewData,pair_id:t.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}f.groupEnd()}),l(this,"_deactivateComponent",e=>{f.group("Deactivating component",u()),m&&f.log(e.getContext());let t=e.getTimedPair();if(t){let{view:i,viewParameter:n,component:o,element:a,objectId:s,clientTrackingParams:l}=t,d=t.end();r({event_type:4703,view_type:i,view_parameter:n,component:o,element:a,object_id_str:s,view_data:e.props.viewData,duration_ns:d,pair_id:t.uuid,clientTrackingParams:l,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}f.groupEnd()}),l(this,"_startOffsiteTimedPair",()=>{let{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new o.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,e.aux_data={...e.aux_data,time_to_offsite:void 0!==e.time&&null!==e.time&&"number"==typeof e.time?(0,n.Z)()-e.time:void 0},r({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext,this.pins))}),l(this,"_endOffsiteTimedPair",()=>{let{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){let i=e.end();r({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:i},this.historyStackContext,this.pins),this._onOffsiteEnd(),this.clearClickthroughProperties()}}),l(this,"_onOffsiteEnd",()=>{f.group("Trigger onOffsiteEndCallbacks"),g.forEach(e=>e({appTimedPair:this.appTimedPair,clickthroughProperties:this.clickthroughProperties,offsiteTimedPair:this.offsiteTimedPair,offsiteTimedPairForegroundId:this.offsiteTimedPairForegroundId})),f.groupEnd()}),l(this,"_pauseAllComponents",()=>{f.group("Pause all components"),_.forEach((e,t,r)=>{e===c.ACTIVE&&this._deactivateComponent(t),r.set(t,c.PAUSED)}),f.groupEnd()}),l(this,"_unpauseAllComponents",()=>{f.group("Unpause all components"),_.forEach((e,t)=>{let r=new o.Z(t.getLoggerContext());t.setTimedPair(r,()=>{_.set(t,c.ACTIVE),this._activateComponent(t)})}),f.groupEnd()})}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?_.set(e,c.PAUSED):(_.set(e,c.ACTIVE),this._activateComponent(e))}unregisterComponent(e){let t=_.get(e);t===c.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new o.Z(e.getLoggerContext()))),_.delete(e)}size(){return _.size}onOffsiteEnd(e){g.push(e)}removeOnOffsiteEnd(e){let t=g.indexOf(e);t>-1&&g.splice(t,1)}}}},790123:(e,t,r)=>{"use strict";r.d(t,{j:()=>h,w:()=>u});var i=r(407043),n=r(425288),o=r(780280),a=r(433780),s=r(50286),l=r(829407),d=r(785893);let{Provider:c,useMaybeHook:u}=(0,n.Z)("TimeSpentManagerContext");function h({children:e}){let t=(0,i.v)(),r=(0,s.HG)(),{isAuthenticated:n}=(0,o.B)(),u=(0,a.w)({contextLogger:t,shouldExtractTrackingParams:r&&n});return(0,l.Z)(()=>{document.hasFocus()&&u.registerApp(),u.addEventListeners()}),(0,d.jsx)(c,{value:u,children:e})}},245474:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(172045),n=r(17314);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,n.Z)()}e&&Object.assign(this,e)}}},932046:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(826067);function n(){let e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},52022:(e,t,r)=>{"use strict";r.d(t,{S:()=>s,Z:()=>l});var i=r(667294),n=r(616550),o=r(53987),a=r(867820);let s=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.Q0)(e)?"videos-category":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";function l(){let e=(0,n.TH)();return(0,i.useCallback)(({action:t,item:r,within:i})=>{let n=s(e);(0,a.My)(`logged_out_product.interaction.${n}.${t}`,{item:r||"none",within:i||"none"})},[e])}},948618:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(785893);function o({ariaHidden:e=!1,color:t="darkGray",size:r}){return(0,n.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,n.jsx)(i.xv,{color:t,inline:!0,size:r??"200",children:"\xb7"})})}},939106:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(883119),o=r(948618),a=r(785893);function s(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:r,items:l}){let d=e?(0,a.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,a.jsx)(o.Z,{color:t})}):(0,a.jsx)(o.Z,{color:t}),c=l.filter(s).reduce((e,t,r)=>[...e,0!==r?d:null,t],[]).filter(s).map((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t));return 0===c.length?null:r?(0,a.jsx)(n.xu,{children:c}):(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:c})}},343341:(e,t,r)=>{"use strict";r.d(t,{F9:()=>o,Zo:()=>n});var i=r(425288);let{Provider:n,useHook:o}=(0,i.Z)("toastManagerContext")},331974:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(826067);function n(e){let{boardId:t,username:r,slug:n}=e;return t?i.tV`/v3/boards/${t}/`:r&&n?i.tV`/v3/boards/${r}/${n}/`:null}},149230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(954931);let n=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},140582:(e,t,r)=>{"use strict";function i(e,t){if(!t)return e;let r=new RegExp(/http(s?):/);if(!r.test(e)){let i=r.exec(t);if(i&&i.length){let t=i[0];e=t+e}}return e}r.d(t,{Z:()=>i})},887831:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(667294);let n=null,o=!1,a=0,s=()=>{n&&clearTimeout(n),o=!0,n=setTimeout(()=>{o=!1},100)},l=()=>{0===a&&window.addEventListener("scroll",s),a+=1},d=()=>{(a-=1)||window.removeEventListener("scroll",s)},c=()=>{let[e,t]=(0,i.useState)(!1),r=(0,i.useRef)(null);(0,i.useEffect)(()=>(l(),()=>{r.current&&clearTimeout(r.current),d()}),[]);let n=e=>{r.current&&clearTimeout(r.current),r.current=e&&o?setTimeout(()=>n(!0),100):setTimeout(()=>{t(e)},32)},a=(0,i.useRef)({onMouseOver:()=>n(!0),onMouseLeave:()=>n(!1)});return{isHovering:e,hoverHandlers:a.current}}},829407:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(667294);let n=e=>{(0,i.useEffect)(e,[])}},215292:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,q:()=>o});var i=r(667294);let n=()=>{let[e,t]=(0,i.useState)(!1),[r,n]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1);return{active:e,focused:r,hovered:o,onBlur:()=>{n(!1),t(!1)},onFocus:()=>n(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){let t=n();return e(t)}let a=n},35954:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(667294);let n=(e,t)=>{let r=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{r.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>r.current(),t);return()=>clearInterval(e)},[t])}},411465:(e,t,r)=>{"use strict";r.d(t,{G:()=>s,Z:()=>l});var i=r(667294),n=r(616550),o=r(785893);let a=(0,i.createContext)(!0);function s({children:e}){let t=(0,n.TH)(),[r,s]=(0,i.useState)(!0),l=(0,i.useRef)(t);return(0,i.useEffect)(()=>{l.current!==t&&(l.current=t,s(!1))},[t]),(0,o.jsx)(a.Provider,{value:r,children:e})}function l(){return(0,i.useContext)(a)}},786871:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(702664);let n=[1000069,1000075],o={};function a(){var e;return e=(0,i.useSelector)(({experiences:e})=>e),n.forEach(t=>{e[t]&&(void 0===o[t]||o[t].id!==e[t].id)&&(o[t]=e[t])}),o}},342877:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(667294),n=r(720247);function o(){let e=(0,i.useRef)([]),t=(0,i.useRef)({});return(0,i.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(r,i){if(i){let e=t.current[i];e&&(e(),delete t.current[i])}let{cancel:o,promise:a}=(0,n.Z)(r);return i?t.current[i]=o:e.current=[...e.current,o],a}}},644035:(e,t,r)=>{"use strict";r.d(t,{GW:()=>n,RL:()=>i,s4:()=>o});let i="ios",n="android",o="ipad"},134906:(e,t,r)=>{"use strict";r.d(t,{Bh:()=>p,C9:()=>P,CB:()=>g,CU:()=>l,ES:()=>S,FU:()=>k,GT:()=>d,Gy:()=>y,J_:()=>E,Jx:()=>f,Ks:()=>z,MZ:()=>v,U2:()=>R,VC:()=>m,VG:()=>c,ZA:()=>u,Zt:()=>b,a3:()=>D,aH:()=>s,fS:()=>h,h7:()=>A,nw:()=>w,oR:()=>C,qA:()=>_,qp:()=>T,sG:()=>x,vd:()=>I,xk:()=>j});var i=r(469134),n=r(89254);let o={January:31,February:29,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31},a=e=>{let t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":" "},r=String(e).split("");return r.forEach((e,i)=>{let n=t[e];n&&(r[i]=n)}),r.join("")};function s(e){return(t,r)=>{let i=[];t&&/\S/.test(t)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}let l=RegExp("(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$","i");function d(e){return(t,r)=>{t=t&&t.trim();let i=[];t.match(l)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function c(e){return(t,r)=>{t=t&&t.trim();let i=[];t.match(/^[^0-9].*$/)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function u(e){return(t,r)=>{let i=[];if(t){let r=parseInt(t,10);Number.isNaN(r)?i.push(e.invalidAgeString):(e.ageTooShortString&&r<10&&i.push(e.ageTooShortString),r<=0||r>120?i.push(e.invalidAgeString):e.checkUnderAgeWithString&&r<18&&i.push(e.checkUnderAgeWithString))}let n={errors:i,warnings:[]};return r&&r(n),n}}function h(e){return(t,r)=>{let i=[],[n,a]=t.split(" ");if(n){if(n.match(/^[0-9]+$/)){let t=parseInt(n,10);(Number.isNaN(t)||t>31||t>o[a])&&i.push(e.invaliddobDateString)}else i.push(e.invaliddobDateString)}let s={errors:i,warnings:[]};return r&&r(s),s}}function p(e){return(t,r)=>{t=t&&t.trim();let i=t.replace(/[\(\)\+\-\. ]/g,""),n=[],o=!1!==e.checkLength&&i.length<7;t&&(!t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)||o)&&n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function _(e){return(t,r)=>{let i=[];"number"==typeof t||"string"==typeof t&&(t=a(t=t&&t.trim()))&&!t.match(/^\d+$/)&&i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function m(e){return(t,r)=>{let i=[];"number"==typeof t||"string"==typeof t&&(t=a(t=t&&t.trim()))&&!t.match(/^[\d\ -]+$/)&&i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}let g=e=>!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi);function f(e){return(t,r)=>{let i=[];t&&!g(t)&&i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function b(e){return(t,r)=>{let i=[];if(t)try{let r=(0,n.Z)(t);r&&r.protocol&&("http"!==r.protocol||"localhost"===r.hostname)||i.push(e.message)}catch(t){i.push(e.message)}let o={errors:i,warnings:[]};return r&&r(o),o}}function y(e){return(t,r)=>{let i=e.should_trim||!1,n=[];i&&(t=t&&t.trim());let o=t.length;e.min&&o<e.min?n.push(e.minErrorString):e.max&&o>e.max&&n.push(e.maxErrorString);let a={errors:n,warnings:[]};return r&&r(a),a}}function v(e){return(t,r)=>{let i=!e.checkExclusion,{substrings:n}=e,o=[];(i&&!n.some(e=>t.includes(e))||!i&&n.some(e=>t.includes(e)))&&o.push(e.message);let a={errors:o,warnings:[]};return r&&r(a),a}}function x(e){return(t,r)=>{let i=e&&e.targetValue,n=[];t!==i&&n.push(e.message);let o={errors:n,warnings:[]};return r&&r(o),o}}function w(e){return(t,r)=>{let i=[],n=t?parseFloat(t):0;n<e.value&&i.push(e.message);let o={errors:i,warnings:[]};return r&&r(o),o}}function P(e){return(t,r)=>{let i=new Date(t),n=[];e.date instanceof Date&&i instanceof Date&&e.date<i&&n.push(e.message);let o={errors:n,warnings:[]};return r&&r(o),o}}function S(e){return(t,r)=>{let n=new Date(t),o=e.date instanceof Date&&n instanceof Date,a=[];(o&&e.date<n||!(0,i.M5)(t))&&a.push(e.message);let s={errors:a,warnings:[]};return r&&r(s),s}}function C(e){return(t,r)=>{let i=[],n=/^[\040-\176]*$/.test(t);n||i.push(e.message);let o={errors:i,warnings:[]};return r&&r(o),o}}function j(e){return(t,r)=>{let i=2;if(e.hasFractionalCents)i=3;else if(e.currencyCode){let{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();i=t}let n=i?`^\\d*(\\.\\d{1,${i}})?$`:"^\\d*$",o=new RegExp(n),a=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(o)&&(t=t&&t.trim(),a.push(e.message));let s={errors:a,warnings:[]};return r&&r(s),s}}function A(e){return(t,r)=>{let i=[];Number(t)>=1e13&&i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function E(e){return(t,r)=>{t=t&&t.trim();let i=[],n=new Date(t);t&&!n.getTime()&&i.push(e.message);let o={errors:i,warnings:[]};return r&&r(o),o}}function T(e){return(t,r)=>{let i=t&&t.trim(),n=[];i&&!i.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&n.push(e.message);let o={errors:n,warnings:[]};return r&&r(o),o}}function I(e){return(t,r)=>{let i=[];e.pattern.test(t)||i.push(e.message);let n={errors:i,warnings:[]};return r&&r(n),n}}function k(e,t){let r=e.map(e=>e(t).errors);return[].concat(...r)}async function z(e,t){let r=await Promise.all(e.map(async e=>{let r=e(t);if(!(r instanceof Promise))return r.errors;{let e=await r;return e(t).errors}}));return[].concat(...r)}function D(e,t){let r="";return t.some(t=>{let i=t(e);return i.errors.length>0&&(r=i.errors[0],!0)}),r}async function R(e,t){let r="";for(let i of t){let t=i(e);if(t instanceof Promise){let i=await t,n=i(e);if(n.errors.length>0){r=n.errors[0];break}}else if(t.errors.length>0){r=t.errors[0];break}}return r}},179888:(e,t,r)=>{"use strict";r.d(t,{$f:()=>o,Cy:()=>d,DR:()=>n,EB:()=>h,Fm:()=>l,Y7:()=>u,bR:()=>s,gJ:()=>a,lG:()=>c});var i=r(172045);let n=1,o=2,a=1e3,s=1e3,l=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function h(){return(0,i.Z)()}},869899:(e,t,r)=>{"use strict";r.d(t,{r:()=>v,K:()=>y});var i=r(667294),n=r(425288),o=r(773285),a=r(784590),s=r(19121),l=r(389643),d=r(339363),c=r(70061);let u=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,c.Z)(r)]=e[r]:t[(0,c.Z)(r)]=u(e[r]));return t},h=(e,t)=>{let r=[];for(let i in e)i!==t&&r.push({id:i,...u(e[i])});let i=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of i)n.set(e.id,e);return n},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:n,disableProfileChanger:o,headerVisible:a}=r,s=(0,i.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]),l=(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!n})},[t,e,n]),d=(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!o})},[t,e,o]),c=(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!a})},[t,e,a]);return{changeProfile:s,toggleORBACVisibility:l,toggleDisableProfileChanger:d,toggleHeaderVisibility:c}},g=e=>{let[t,r]=(0,i.useReducer)(_,p),n=m({dispatch:r,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:a}=t;(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacVisibility",a)},[a]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",o)},[o]);let s=(0,i.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:h(e,t)})},[r]);return{state:t,actions:n,receiveProfiles:s}};var f=r(785893);let{Provider:b,useMaybeHook:y}=(0,n.Z)("RoleBasedAccessControlContext"),v=({children:e})=>{let t;let{checkExperiment:r}=(0,o.F)(),n=(0,s.Z)(),d=!!(n.isAuth&&n.isPartner&&r("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:u,receiveProfiles:h}=g(d),{activeProfile:p,headerVisible:_,profiles:m=[]}=c,y=m?Array.from(m.values()):[],v=(0,l.Z)(y),x=!!n.isAuth&&y.length>0&&v,w=n.isAuth?n.id:"",P=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:C,toggleDisableProfileChanger:j,toggleHeaderVisibility:A}=u;(0,i.useEffect)(()=>{if(d){if("string"==typeof v){S(v);return}p||S(w)}},[v,w,d,S,p]),(0,i.useEffect)(()=>{d&&(x&&!_&&A(!0),!x&&_&&A(!1))},[A,x,d,_,m]);let{data:E}=(0,a.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),T=E?.profiles;n&&n.isAuth&&c.activeProfile===n.id?t={id:n.id,permissions:["OWNER"],user:{username:P,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&c.profiles&&(t=c.profiles.get(p)),(0,i.useEffect)(()=>{T&&h(T,w)},[h,T,w]);let I=c.profiles?Array.from(c.profiles.values()):[];return(0,f.jsx)(b,{value:{profiles:I,headerVisible:c.headerVisible,activeProfile:t,changeProfile:S,toggleORBACVisibility:C,toggleDisableProfileChanger:j,toggleHeaderVisibility:A},children:e})}},717615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(773285),n=r(869899),o=r(389643);let a=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,n.K)(),{activeProfile:r}=t||{},a=e("web_m10n_business_access_orbac_www").anyEnabled,s=(0,o.Z)(t?.profiles||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return a&&(!l||s)&&r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},389643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(616550),n=r(53987),o=r(773285),a=r(19121),s=r(350118);let l=e=>{let t=(0,i.TH)(),r=(0,a.Z)(),l=(0,s.S6)(),{anyEnabled:d}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),c=(0,i.$B)("/:username"),u=c?.params?.username,h=(0,i.$B)("/pin/:id"),p=!!h?.params?.id&&l(h.params.id)?.pinner?.id;if((0,n.ej)(t))return!1;if((0,n.RU)(t))return!0;if((0,n.mY)(t))return d;let _=e.concat(r.isAuth?{user:{username:r.username},id:r.id}:{}).find(e=>{let{user:t={},id:r}=e||{},{username:i}=t;return(!!i&&!!u||!!p&&!!r)&&(i===u||p===r)});return!!_&&_.id}},845772:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(19121),n=r(717615),o=r(231947);let a=()=>{let e=(0,i.Z)(),t=(0,n.Z)(),r=(0,o.lJ)(e,t);return r}},231947:(e,t,r)=>{"use strict";r.d(t,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>a,lJ:()=>o,nl:()=>n,q6:()=>l});let i=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},n=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",a=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,s=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,r)=>{let i=e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t;return!!i},d=(e,t,r)=>{let i=l(e,t,r)||e&&e.isAuth&&t===e.id;return!!i},c=(e,t,r)=>{let i=t&&t.owner&&t.owner.id||"";return d(e,i,r)};function u(e,t,r){let i=t?t.id:"";return d(e,i,r)}},965900:(e,t,r)=>{"use strict";r.d(t,{g:()=>h,I:()=>u});var i=r(667294),n=r(425288),o=r(567450),a=r(41861);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:i,isPromoted:n,currentTime:o}=r,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:l,promotedVideosAutoplaying:d,organicVideosAutoplaying:c}=s,u=(0,a.Z)(d),h=(0,a.Z)(c);return!n&&l?e:(n?u[i]={pinId:i,currentTime:o,paused:!1}:h[i]={pinId:i,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:n?l:i,promotedVideosAutoplaying:u,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:i,isPromoted:n,currentTime:o}=r,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:d}=s,c=(0,a.Z)(l),u=(0,a.Z)(d);return n?c[i]={...c[i],paused:!0,currentTime:o}:u[i]={...u[i],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type)return{...e,footerPlusButtonVisible:t.payload};return e};var d=r(785893);let{Provider:c,useHook:u}=(0,n.Z)("AppUI");function h({children:e}){let[t,r]=(0,i.useReducer)(l,s),n=(0,i.useCallback)(e=>r({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,i.useCallback)(e=>r({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,i.useCallback)(e=>r({type:"SET_CURRENT_VIDEO",payload:e}),[]),h=(0,i.useCallback)(e=>r({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),p=(0,i.useCallback)(e=>r({type:"SET_IS_AUTOPLAY",payload:e}),[]),_=(0,i.useCallback)(e=>r({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,i.useCallback)(e=>r({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,i.useMemo)(()=>({pauseAutoplay:n,setCurrentVideo:u,setFooterPlusButtonVisible:h,setIsAutoplay:p,setViewportSize:_,toggleTypeaheadOverlay:m,setAppFocusState:a,appUI:t}),[n,u,h,p,_,m,a,t]);return(0,i.useEffect)(()=>{o.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,d.jsx)(c,{value:g,children:e})}},43819:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var i=r(667294),n=r(883119),o=r(898781),a=r(30709),s=r(594354),l=r(785893);function d(e){let t=(0,o.ZP)(),{style:r,useLegoStyles:d=!1,usePersistentOneClickSaveStyles:c,wrappingIconStyle:u,shouldUseLegoStyles:h,carouselSlotCurrentIndex:p,component:_,onDelete:m,onSubmit:g,onToggleModal:f,pinId:b}=e,[y,v]=(0,i.useState)(!1),{onClick:x,carouselSlotCurrentIndex:w}=(0,s.Z)({carouselSlotCurrentIndexProp:p,component:_,pinId:b,setShowEditModal:v}),P=(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(n.hU,{accessibilityLabel:t._('Edit', 'edit button on pin', 'edit button on pin'),bgColor:r&&r.bgColor||"white",icon:"edit",iconColor:r&&r.iconColor||"darkGray",onClick:x,size:r&&r.size||"md"}),y&&b&&(0,l.jsx)(a.Z,{carouselSlotCurrentIndex:w,onDelete:m,onHide:()=>{v(!1),f?.(!1)},onSubmit:g,pinId:b})]});return h?(0,l.jsx)(n.zx,{accessibilityLabel:t._('Pin Saved', 'PinRepEditButton.SavedButtonLabel', 'saved button label on pin'),color:"gray",dataTestId:"saved-button",fullWidth:!0,onClick:m,selected:!0,size:"lg",text:t._('Saved', 'PinRepEditButton.SavedButton', 'saved button on pin')}):d||c?(0,l.jsx)("div",{style:{...u||{}},children:P}):P}},685909:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var i=r(667294),n=r(693967),o=r.n(n),a=r(883119),s=r(898781),l=r(391254),d=r(927104),c=r(149230),u=r(785893);let h=`
.SavedAnimation {
  &.saved {
    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);
  }

  &.board {
    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);
  }
}

@keyframes SavedAnimation--down-then-right {
  0% {
    opacity: 0;
    transform: translateY(-24px);
  }

  33% {
    opacity: 1;
    transform: translateY(0);
  }

  80% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateX(24px);
  }
}

@keyframes SavedAnimation--to-right {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}
`;class p extends i.Component{constructor(...e){var t,r,i;super(...e),r={showBoardName:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){let e,t;let{showBoardName:r}=this.state,{isDenseView:n,isNewlySaved:s,name:p,shouldUseLegoStyles:_,type:m,url:g}=this.props;if(_&&n)return null;let f="boardless"===m?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):p;if(!s||r||_){let t=_?(0,u.jsx)(a.xv,{color:"inverse",size:"300",weight:"bold",children:f.length<=20?f:(0,d.Z)(f,20)}):(0,u.jsx)(a.X6,{color:"inverse",lineClamp:1,size:"400",children:f}),r=(0,c.Z)({url:g});e=g?(0,u.jsx)(a.rU,{href:g,rel:r?"nofollow":"none",children:t}):t}else e=(0,u.jsx)(a.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return s&&(t=r?"board":"saved"),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(l.Z,{unsafeCSS:h}),(0,u.jsx)("div",{className:!_&&o()("SavedAnimation",t),"data-test-id":"savedInfo",children:e})]})}}let _=function(e){let t=(0,s.ZP)();return(0,u.jsx)(p,{...e,i18n:t})}},109322:(e,t,r)=>{"use strict";r.d(t,{T3:()=>n,Ur:()=>o,i5:()=>i,kx:()=>a});let i={AT:14,BE:13,BG:14,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},n={...i,KR:14},o=13,a=5},812411:(e,t,r)=>{"use strict";r.d(t,{a:()=>h,S:()=>c});var i=r(667294),n=r(425288),o=r(186656);let a={boardMap:{}};function s(e=a,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:r,blockingActions:i}}=t,n=null,o=null,a={};return i.forEach(({section_id:e,progress:t,id:r,created_timestamp:i})=>{let s={id:r,createdAt:i,progress:t};e?"-1"===e?n=s:a[e]=s:o=s}),{...e,boardMap:{...e.boardMap,[r]:{wholeBoard:n,unorganized:o,sectionMap:a}}}}return e}var l=r(785893);let{Provider:d,useMaybeHook:c}=(0,n.Z)("BlockingAction");async function u(e){let t=await (0,o.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,r)=>{let i=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!i){r(Error("No blocking actions found in the response"));return}e(i)})}function h({children:e}){let[t,r]=(0,i.useReducer)(s,a),n=(0,i.useCallback)(e=>u(e).then(t=>(r({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),o=(0,i.useMemo)(()=>({blockingActions:t,fetchBlockingActions:n}),[t,n]);return(0,l.jsx)(d,{value:o,children:e})}},185845:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(343341),n=r(812411),o=r(667294),a=r(883119),s=r(499128),l=r(898781),d=r(50286),c=r(785893);function u(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends o.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,s.Vg)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:r}}=this.props,i="completed"===t;switch(e){case"create_section":return i?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(r)return i?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return i?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(r)return i?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return i?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(r)return i?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return i?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){let{actionStatus:e,deviceType:t,location:r}=this.props,{visible:i,hiding:n}=this.state,{firstLine:o}=this,{marginTop:l,opacity:d,position:u,pointerEvents:h,transform:p,transition:_,visibility:m}=(0,s.UZ)({deviceType:t,hiding:n,visible:i});if(!o)return null;let g="inProgress"===e?`${r.name}...`:r.name;return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:p,transition:_,visibility:m,pointerEvents:h}},marginTop:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:d,position:u,children:(0,c.jsx)(a.FN,{text:`${o}: ${g}`,type:"completed"===e?"default":"progress"})})}}function p(e){let t=(0,d.ZP)(),r=(0,l.ZP)();return(0,c.jsx)(h,{...e,deviceType:t,i18n:r})}let _=["merge","move_pins","create_section"],m=0,g={},f=(e,t,r,i)=>({hideToast:n})=>(0,c.jsx)(p,{actionStatus:e,actionType:t,duration:2e3,location:{name:i?i.title??"":r.name??"",isSection:!!i},onHide:n});function b(){let{showToast:e}=(0,i.F9)(),{fetchBlockingActions:t}=(0,n.S)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:r,board:i,section:n})=>{e(f("inProgress",r,i,n)),function({check:e,checkDelay:t,checkInterval:r,onComplete:i}){let n=`timeout${m}`;m+=1;let o=()=>{let t=Date.now();e().then(e=>{let a=Date.now()-t;e?(i(),delete g[n]):g[n]=setTimeout(o,Math.max(1e3,r-a))}).catch(()=>{delete g[n]})};g[n]=setTimeout(o,t)}({check:()=>t(i.id).then(e=>!function({blockingActions:e,actionType:t,boardId:r,sectionId:i}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(_.includes(e.action_type)&&e.is_origin)&&e.board_id===r&&(i?i===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:r,boardId:i.id,sectionId:n&&n.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(f("completed",r,i,n))})}}}},868899:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BoardCollabFlyout:()=>j,default:()=>A});var i=r(667294),n=r(616550),o=r(883119),a=r(898781),s=r(50286),l=r(19121),d=r(774763),c=r(784590),u=r(331974),h=r(29459),p=r(147836),_=r(785893);function m({board:e,scrollInfo:t}){let r=(0,a.ZP)(),n=(0,c.Z)({name:"ApiResource",options:{url:u.Z({boardId:e.id})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!n.isLoaded)return(0,_.jsx)(o.$j,{accessibilityLabel:r._('Loading', 'Loading spinner when rendering users', 'Loading spinner when rendering users'),show:!0});{let{owner:r}=e,{data:o,isAtEnd:a,isFetching:s,fetchMore:l}=n,d=[r,...o||[]];return(0,_.jsxs)(i.Fragment,{children:[t?(0,_.jsx)(p.Z,{fetchMore:l,isAtEnd:a,isFetching:s,scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top}):null,d.map(e=>{let{full_name:t,id:r,image_medium_url:i,username:n}=e;return(0,_.jsx)(h.Z,{imageUrl:i??"",linkURL:`/${n}/`,name:t??"",subtitle:n,title:t??""},r)})]})}}var g=r(702664),f=r(27255),b=r(121151);let y=({heading:e,description:t,disabled:r=!1,id:i,onChange:n,switched:a})=>(0,_.jsxs)(o.xu,{direction:"column",display:"flex",paddingX:6,paddingY:4,width:"100%",children:[(0,_.jsx)(o.xv,{weight:"bold",children:e}),(0,_.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:3,children:[(0,_.jsx)(o.xu,{flex:"grow",marginEnd:2,children:(0,_.jsx)(o.xv,{children:t})}),(0,_.jsx)(o.rs,{disabled:r,id:i,onChange:n,switched:a})]})]});var v=r(130460);function x(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class w extends i.Component{constructor(...e){super(...e),x(this,"state",{invitesEnabled:!!this.props.board?.collaborator_invites_enabled,requestsEnabled:!!this.props.board?.collaborator_requests_enabled,emailEnabled:!!this.props.board?.collab_board_email}),x(this,"handleInvitesToggle",()=>this.setState(e=>({invitesEnabled:!e.invitesEnabled}))),x(this,"handleRequestsToggle",()=>this.setState(e=>({requestsEnabled:!e.requestsEnabled}))),x(this,"handleEmailToggle",()=>this.setState(e=>({emailEnabled:!e.emailEnabled}))),x(this,"handleSubmit",()=>{let{onDismiss:e,board:t,updateBoard:r}=this.props,{invitesEnabled:i,requestsEnabled:n,emailEnabled:o}=this.state,a={...t,collaborator_invites_enabled:i,collaborator_requests_enabled:n,collab_board_email:o};r(a).then(()=>e())})}render(){let{board:e,onDismiss:t,isViewerOwner:r}=this.props,i=e?.privacy,{invitesEnabled:n,requestsEnabled:a,emailEnabled:s}=this.state,l=[{heading:this.props.i18n._('Email notifications', 'Sub-heading for email notifications group board setting', 'Sub-heading for email notifications group board setting'),description:this.props.i18n._('Receive emails when Pins are added to this board', 'Description of email notifications setting', 'Description of email notifications setting'),disabled:!1,onChange:this.handleEmailToggle,id:"email",switched:s}],d=[...l,{heading:this.props.i18n._('Group requests', 'Sub-heading for group requests group board setting', 'Sub-heading for group requests group board setting'),description:this.props.i18n._('People can request to join this board', 'Description of group requests setting', 'Description of group requests setting'),disabled:i===f.Z.BoardPrivacy.SECRET,onChange:this.handleRequestsToggle,id:"requests",switched:a},{heading:this.props.i18n._('Group members', 'Sub-heading for group members group board setting', 'Sub-heading for group members group board setting'),description:this.props.i18n._('Group members can invite others', 'Description of group members setting', 'Description of group members setting'),disabled:!1,onChange:this.handleInvitesToggle,id:"invites",switched:n}];return(0,_.jsx)(b.ZP,{accessibilityModalLabel:this.props.i18n._('Edit group settings', 'Label for editing group settings', 'Label for editing group settings'),footer:(0,_.jsx)(o.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:(0,_.jsx)(o.xu,{paddingX:1,children:(0,_.jsx)(o.zx,{color:"red",onClick:this.handleSubmit,text:this.props.i18n._('Done', 'Button text for being finished with editing group board settings', 'Button text for being finished with editing group board settings')})})}),heading:this.props.i18n._('Group board settings', 'Modal header for editing settings for a group board', 'Modal header for editing settings for a group board'),onDismiss:t,size:"md",children:(r?d:l).map(e=>{let{description:t,disabled:r,heading:i,id:n,onChange:o,switched:a}=e;return(0,_.jsx)(y,{description:t,disabled:r,heading:i,id:n,onChange:o,switched:a},n)})})}}function P(e){let t=(0,a.ZP)(),r=(0,g.useDispatch)(),i=e=>r(i(e)),n=(0,v.gC)()(e.boardId);return(0,_.jsx)(w,{...e,board:n,i18n:t,updateBoard:i})}var S=r(741);function C(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j extends i.Component{constructor(...e){super(...e),C(this,"state",{contentRef:null,currentModal:null,scrollContainer:null,scrollTop:null}),C(this,"handleBoardLeave",()=>{let{history:e,viewer:t}=this.props,r=t.isAuth?`/${t.username}`:"/";e.replace(r)}),C(this,"handleContentRef",e=>{let{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),C(this,"handleScrollContainer",e=>{let{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),C(this,"handleScroll",()=>{let{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})}),C(this,"handleConfirmationModalOpen",()=>this.setState({currentModal:"confirmation"})),C(this,"handleSettingsModalOpen",()=>this.setState({currentModal:"settings"})),C(this,"handleCloseModal",()=>this.setState({currentModal:null})),C(this,"renderCurrentModal",()=>{let{board:{id:e,owner:t},viewer:r}=this.props,{currentModal:i}=this.state,n=r.isAuth&&r.username===t.username;return"settings"===i?(0,_.jsx)(P,{boardId:e,isViewerOwner:n,onDismiss:this.handleCloseModal}):null})}renderInvite(e,t,r){if(!e.invited_user)return null;let i={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:r,useGestaltModal:!0,isDim:!1};return(0,_.jsx)(d.Z,{...i})}render(){let{anchor:e,board:t,onDismiss:r}=this.props,{currentModal:n,scrollContainer:a,scrollTop:s}=this.state,l=a?{container:a,top:s||0}:null,d=(t.access||[]).includes("write");return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(o.mh,{children:(0,_.jsx)(o.xu,{position:"absolute",top:!0,zIndex:new o.Ry(1),children:(0,_.jsx)(o.J2,{anchor:e,idealDirection:"down",onDismiss:n?()=>{}:r,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,_.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:360,width:"100%",children:[(0,_.jsx)(o.Le,{top:0,children:(0,_.jsxs)(o.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:[(0,_.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,_.jsx)(o.xv,{size:"300",weight:"bold",children:this.props.i18n._('Group members', 'boardCollabFlyout.header', 'Heading for the group members flyout')})}),d&&(0,_.jsx)(o.xu,{marginEnd:2,marginTop:2,position:"absolute",right:!0,top:!0,children:(0,_.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Group board settings', 'boardCollabFlyout.settings.button', 'Icon for accessing settings on a group board'),icon:"cog",iconColor:"darkGray",onClick:this.handleSettingsModalOpen,size:"lg"})})]})}),(0,_.jsx)(o.xu,{overflow:"scrollY",children:(0,_.jsx)(o.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,_.jsx)(S.Z,{board:t,onBoardLeave:this.handleBoardLeave,onModalOpen:this.handleConfirmationModalOpen,renderInvite:this.renderInvite,scrollInfo:l}):(0,_.jsx)(m,{board:t,scrollInfo:l})})})]})})})}),this.renderCurrentModal()]})}}function A(e){let t=(0,a.ZP)(),r=(0,l.Z)(),i=(0,n.k6)(),o=(0,s.HG)();return(0,_.jsx)(j,{...e,history:i,i18n:t,isDesktop:o,viewer:r})}},640262:(e,t,r)=>{"use strict";r.d(t,{VV:()=>g,ZP:()=>b,tk:()=>h});var i=r(667294),n=r(883119),o=r(464232),a=r(407043),s=r(898781),l=r(957161),d=r(612263),c=r(785893);function u(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let h=e=>e<=500,p=Object.freeze({}),_={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},m=(e,t,r)=>{if(!e.isAuth)return;let i=l.Z.getItem(o.iT)||p,n=i[e.id]||{},a={...i,[e.id]:{...n,[t.id]:r}};l.Z.setItem(o.iT,a)},g=(e,t)=>{let r=l.Z.getItem(o.iT)||p,i=e.isAuth&&r[e.id]||{};return i[t.id]||null};class f extends i.Component{constructor(...e){super(...e),u(this,"handleChange",({event:e,value:t})=>{let{onChange:r,viewer:i,board:n}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),m(i,n,t),r&&r(t),this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,d.f4)(i,n),component:13475,element:_[t],aux_data:{board_id:n.id}})}),u(this,"logDropdownClick",()=>{let{board:e,viewer:t}=this.props;this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,d.f4)(t,e),component:13486,element:11567,aux_data:{board_id:e.id}})}),u(this,"handleKeyPress",e=>{let{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){let{currentView:e}=this.props,t=[{value:"custom",label:this.props.i18n._('Custom', 'Option for users to filter their Pins in a custom order (as it currently is)', 'Option for users to filter their Pins in a custom order (as it currently is)')},{value:"most_reactions",label:this.props.i18n._('Most reactions', 'Option for users to filter their Pins by the most reactions', 'Option for users to filter their Pins by the most reactions')}];return(0,c.jsx)("div",{onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,role:"listbox",tabIndex:0,children:(0,c.jsx)(n.EI,{id:"gbFilterSelectlist",onChange:this.handleChange,size:"lg",value:e,children:t.map(e=>(0,c.jsx)(n.EI.Option,{...e},e.label))})})}}let b=function(e){let{logContextEvent:t}=(0,a.v)(),r=(0,s.ZP)();return(0,c.jsx)(f,{...e,i18n:r,logContextEvent:t})}},612263:(e,t,r)=>{"use strict";r.d(t,{Df:()=>n,W$:()=>i,f4:()=>o});let i=(e,t)=>{let r="object"==typeof t.owner?t.owner?.id:t.owner;return e.isAuth&&r===e.id},n=(e,t)=>!!(e.isAuth&&t.collaborated_by_me),o=(e,t)=>i(e,t)?3069:3070},959472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>$});var i=r(667294),n=r(883119),o=r(27255),a=r(121151),s=r(898781),l=r(349700),d=r(773285),c=r(780280),u=r(995228),h=r(66699),p=r(343341),_=r(50286),m=r(19121),g=r(134906),f=r(526760),b=r(607989),y=r(785893);let v=({label:e,labelId:t})=>t?(0,y.jsx)(n.__,{htmlFor:t,children:(0,y.jsx)(n.xv,{size:"100",children:e})}):(0,y.jsx)(n.xv,{size:"100",children:e});function x(e){let{children:t,label:r,labelId:o}=e;return(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(n.xu,{marginBottom:2,children:(0,y.jsx)(v,{label:r,labelId:o})}),t]})}function w({coverPin:e,handleShowBoardCoverEditModal:t}){let r=(0,s.ZP)(),[o,a]=(0,i.useState)(!1),{isRTL:l}=(0,c.B)();return(0,y.jsx)(x,{label:r._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,y.jsx)(n.xu,{position:"relative",width:138,children:(0,y.jsx)(n.iP,{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onTap:t,rounding:4,children:e?.custom_cover?(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(n.zd,{height:138,rounding:4,width:138,children:(0,y.jsx)(n.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||138,naturalWidth:e.size&&e.size[0]||138,src:e.image_url})}),(0,y.jsx)(n.xu,{bottom:!0,left:l,padding:2,position:"absolute",right:!l,children:(0,y.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:o?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,y.jsx)(n.JO,{accessibilityLabel:r._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,y.jsx)(n.xu,{alignItems:"center",color:o?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,y.jsx)(n.JO,{accessibilityLabel:r._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function P({children:e,label:t,labelId:r,subtext:o}){return(0,y.jsx)(i.Fragment,{children:(0,y.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,y.jsx)(n.xu,{marginStart:2,children:(0,y.jsxs)(n.__,{htmlFor:r,children:[(0,y.jsx)(n.xv,{size:"300",weight:"bold",children:t}),o]})})]})})}function S({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:r}){let i=(0,s.ZP)();return t&&(0,y.jsx)(P,{label:i._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,y.jsx)(n.xv,{color:"subtle",size:"300",children:i._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,y.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,y.jsx)(n.xu,{marginEnd:1,children:(0,y.jsx)(n.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:r})})})})}var C=r(948618),j=r(960278);function A({board:e,onCollaboratorInviteClick:t}){let r=(0,s.ZP)(),i=(0,j.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),o=i.slice(0,3).map(e=>e.name),a="";switch(i.length){case 3:a=(0,l.Wc)(`${r._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${o[0]}`,second:`${o[1]}`,last:`${o[2]}`});break;case 2:a=(0,l.Wc)(`${r._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${o[0]}`,second:`${o[1]}`});break;default:a=o.join(", ")}let d=i.length>3?(0,l.Wc)(r.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', i.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:a,leftCount:`${i.length-3}`}):(0,l.Wc)(`${r._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:a});return(0,y.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,y.jsx)(n.HE,{accessibilityLabel:d,collaborators:i.map(({name:e,src:t})=>({src:t?.endsWith("/default_75.png")?void 0:t,name:e})),size:"md"}),(0,y.jsx)(n.hU,{accessibilityLabel:r._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}function E({board:e,onCollaboratorInviteClick:t}){let r=(0,s.ZP)(),i=(0,y.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(n.xv,{inline:!0,size:"100",children:r._('Collaborators', ' - ', ' -- ')}),(0,y.jsx)(C.Z,{}),(0,y.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(n.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:r._('Learn more', ' - ', ' -- ')})})]});return(0,y.jsx)(x,{label:i,labelId:"collaborators",children:(0,y.jsx)(A,{board:e,onCollaboratorInviteClick:t})})}function T({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:r}){let i=(0,s.ZP)();return t&&(0,y.jsx)(P,{label:i._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,y.jsx)(n.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:r})})}function I({description:e,descriptionValidatorErrors:t,onChange:r}){let i=(0,s.ZP)(),o="boardEditDescription";return(0,y.jsx)(x,{label:i._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:o,children:(0,y.jsx)(n.Kx,{errorMessage:t.join(", "),id:o,name:"description",onChange:r,placeholder:i._('What\'s your board about?', ' - ', ' -- '),value:e})})}let k=({children:e})=>(0,y.jsx)(n.xu,{paddingX:8,role:"list",children:i.Children.map(e,(t,r)=>t&&(0,y.jsx)(n.xu,{marginBottom:r===i.Children.count(e)-1?1:8,role:"listitem",children:t},r))});function z({name:e,nameValidatorErrors:t,onChange:r,disabled:i}){let o=(0,s.ZP)();return(0,y.jsx)(x,{label:o._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,y.jsx)(n.nv,{disabled:i,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:r,placeholder:o._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}let D=({board:e,collabBoardEmail:t,collaboratorInvitesEnabled:r,coverPin:i,currentUserIsOwner:o,description:a,descriptionValidatorErrors:l,handleBoardLeave:d,hideCollaboratorsSection:c,isCollaborative:u,showCoverEdit:h,name:p,nameValidatorErrors:_,handleShowBoardCoverEditModal:m,handleChangeName:g,handleChangeDescription:f,handleShowCollaboratorsModal:b,handleChangeCollabBoardEmail:v,handleChangeCollaboratorInvitesEnabled:x})=>{let P=(0,s.ZP)();return(0,y.jsxs)(k,{children:[h&&(0,y.jsx)(w,{coverPin:i,handleShowBoardCoverEditModal:m}),(0,y.jsx)(z,{disabled:!0,name:p,nameValidatorErrors:_,onChange:g}),(0,y.jsx)(I,{description:a,descriptionValidatorErrors:l,onChange:f}),o&&!!d&&!c&&(0,y.jsx)(E,{board:e,onCollaboratorInviteClick:b}),u&&(0,y.jsx)(n.xu,{marginBottom:-7,children:(0,y.jsx)(n.xv,{size:"100",children:P._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,y.jsx)(S,{hasCollabBoardEmail:t,isCollaborative:u,onCheckboxChange:v}),(0,y.jsx)(T,{collaboratorInvitesEnabled:r,isCollaborative:u,onCheckboxChange:x})]})};function R({isProtectedToggler:e,isToggleDisable:t,onChange:r,onCheckboxChange:a,privacy:l}){let c=(0,s.ZP)(),u=(0,m.Z)(),{checkExperiment:h}=(0,d.F)(),p=u.isPrivateProfile&&h("web_hide_u16_board").anyEnabled;if(p)return(0,y.jsxs)(n.kC,{alignItems:"start",direction:"column",gap:2,children:[(0,y.jsx)(n.xv,{size:"100",children:c._('Private', 'BoardForm.BoardFormSecretToggle.text', 'protected board')}),(0,y.jsx)(n.xv,{color:"subtle",size:"100",children:c._('This board will only be visible to you', 'BoardForm.BoardFormSecretToggle.subText', 'protected board')})]});if(!0===e)return(0,y.jsx)(P,{label:c._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,y.jsx)(n.xu,{paddingY:2,children:(0,y.jsx)(n.rs,{disabled:t,id:"protected",onChange:r,switched:l===o.Z.BoardPrivacy.PROTECTED})})});if(l!==o.Z.BoardPrivacy.PROTECTED){let e=c._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),r=(0,y.jsx)(i.Fragment,{children:(0,y.jsxs)(n.xv,{color:"subtle",size:"300",children:[c._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,y.jsx)(n.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:c._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,y.jsx)(P,{label:e,labelId:"secret",subtext:r,children:(0,y.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,y.jsx)(n.XZ,{checked:l===o.Z.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:a})})})}return null}function B({allowHomefeedRecommendations:e,onCheckboxChange:t}){let r=(0,s.ZP)();return(0,y.jsx)(P,{label:r._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,y.jsx)(n.xv,{color:"subtle",size:"300",children:r._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,y.jsx)(n.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function O(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Z=(0,i.lazy)(()=>Promise.all([r.e(97270),r.e(75322)]).then(r.bind(r,659099))),L=(0,i.lazy)(()=>Promise.all([r.e(10966),r.e(741),r.e(49510),r.e(49426),r.e(61197)]).then(r.bind(r,357156))),M=(e,t)=>(0,g.Gy)({max:e,maxErrorString:(0,h.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),N=e=>[M(o.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],F=e=>[(0,g.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),M(o.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],U=({condition:e,children:t})=>e?(0,y.jsx)(n.xu,{position:"absolute",zIndex:a.b7,children:t}):t;class H extends i.Component{constructor(e){super(e),O(this,"handleChangeName",({value:e})=>{let t=(0,g.FU)(F(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),O(this,"handleChangeDescription",({value:e})=>{let t=(0,g.FU)(N(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),O(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),O(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),O(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),O(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),O(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),O(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),O(this,"handleCheckboxChange",e=>({event:t,checked:r})=>e({event:t,value:r})),O(this,"handleSubmit",e=>{let{onSubmit:t}=this.props,{collab_board_email:r,collaboratorInvitesEnabled:i,description:n,name:o,privacy:a,allowHomefeedRecommendations:s}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let l=o.trim(),d=n.trim();this.setState({submitting:!0,submitError:""}),t({name:l,collab_board_email:r,collaborator_invites_enabled:i,description:d,privacy:a,allow_homefeed_recommendations:s}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){let{message:r,message_detail:i}=e;t=i?`${r} ${i}`:r}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),O(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),O(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),O(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),O(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),O(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:t}=this.props;t&&t(e)});let{board:{collab_board_email:t,collaborator_invites_enabled:r,description:i,name:n,pin_count:o,privacy:a,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:t,description:i,name:n,pin_count:o,privacy:a,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:r,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:n,previousDescription:i,previousPrivacy:a}}static getDerivedStateFromProps(e,t){let r={};return e.board.name&&e.board.name!==t.previousName&&(r.previousName=e.board.name,r.nameValidatorErrors=(0,g.FU)(F(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(r.previousDescription=e.board.description,r.descriptionValidatorErrors=(0,g.FU)(N(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(r.previousPrivacy=e.board.privacy),r}getFormFooter(){let{submitText:e}=this.props,{submitError:t}=this.state;return(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(n.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,y.jsx)(n.xu,{children:(0,y.jsx)(n.kC,{alignItems:"stretch",justifyContent:"start",children:(0,y.jsx)(n.xu,{height:48,children:(0,y.jsx)(n.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,y.jsx)(n.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,y.jsx)(n.xv,{color:"error",children:t})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:t,nameValidatorErrors:r,submitting:i}=this.state;return!t||r.length>0||e.length>0||i}render(){let{board:e,board:{archived_by_me_at:t,cover_pin:r,id:o,is_collaborative:s},coverImageHeight:d,coverImageWidth:c,currentUserIsOwner:h,handleBoardLeave:p,hideCollaboratorsSection:_,isAdAccount:m,isAdAccountOwner:g,isDeletable:v,isDesktop:x,isEditable:P,isNameAndSecretView:C,onClose:j,onDeleteButtonClick:A,requestContext:O,title:M,useModalWithNoLayer:N,showSecretBoardCreateToggle:F}=this.props,{allowHomefeedRecommendations:H,collab_board_email:$,collaboratorInvitesEnabled:V,description:W,descriptionValidatorErrors:G,name:q,nameValidatorErrors:K,pin_count:Y,privacy:X,showBoardCoverEdit:J,showCollaboratorsModal:Q,showSecretConfirmation:ee}=this.state,et=P&&Y>0,er=e.is_ads_only,ei=(0,y.jsxs)(k,{children:[et&&(0,y.jsx)(w,{coverPin:r,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,y.jsx)(z,{disabled:er,name:q,nameValidatorErrors:K,onChange:this.handleChangeName}),(0,y.jsx)(I,{description:W,descriptionValidatorErrors:G,onChange:this.handleChangeDescription}),h&&!!p&&!_&&(0,y.jsx)(E,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,y.jsx)(n.xu,{marginBottom:-7,children:(0,y.jsx)(n.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,y.jsx)(R,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:X}),!t&&(0,y.jsx)(B,{allowHomefeedRecommendations:H,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,y.jsx)(S,{hasCollabBoardEmail:$,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,y.jsx)(T,{collaboratorInvitesEnabled:V,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),v&&(0,y.jsxs)(n.xu,{marginTop:-6,paddingY:4,children:[(0,y.jsx)(n.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,y.jsxs)(n.iP,{onTap:A,children:[(0,y.jsx)(n.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,y.jsx)(n.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,y.jsx)(n.xv,{color:"subtle",size:"300",children:(0,l.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:f.Xq})})]})]})]});h?C&&(ei=(0,y.jsxs)(k,{children:[(0,y.jsx)(z,{disabled:er,name:q,nameValidatorErrors:K,onChange:this.handleChangeName}),!F&&(0,y.jsx)(R,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:X})]})):ei=(0,y.jsxs)(k,{children:[!!p&&(0,y.jsx)(E,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,y.jsx)(S,{hasCollabBoardEmail:$,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&er&&(0,y.jsx)(B,{allowHomefeedRecommendations:H,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,y.jsx)(n.xv,{color:"subtle",size:"300",children:(0,l.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,y.jsx)(n.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let en=N?n.u_:a.ZP,eo=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),ea=(0,y.jsxs)(n.xu,{paddingY:8,position:"relative",children:[(0,y.jsx)(n.X6,{align:"center",size:"500",children:eo}),(0,y.jsx)(n.xu,{left:O.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!O.isRTL,top:!0,children:(0,y.jsx)(n.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(U,{condition:!!N,children:!J&&!Q&&(0,y.jsx)(en,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:M,onDismiss:j,size:"sm",children:(0,y.jsx)(n.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,y.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!er&&ei,er&&(0,y.jsx)(D,{board:e,collabBoardEmail:$,collaboratorInvitesEnabled:V,coverPin:r,currentUserIsOwner:h,description:W,descriptionValidatorErrors:G,handleBoardLeave:p,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,hideCollaboratorsSection:_,isCollaborative:s,name:q,nameValidatorErrors:K,showCoverEdit:et})]})})})}),J&&x&&(0,y.jsx)(u.Z,{children:(0,y.jsx)(Z,{boardId:o,boardName:q,coverPinId:r?.pin_id,frameHeight:d,frameWidth:c,heading:ea,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ee&&(0,y.jsx)(b.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),Q&&(0,y.jsx)(u.Z,{children:(0,y.jsx)(L,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function $(e){let t=(0,s.ZP)(),r=(0,_.ZP)(),i=(0,m.Z)(),{checkExperiment:n}=(0,d.F)(),o=!!i.isPrivateProfile&&n("web_hide_u16_board").anyEnabled&&!n("web_hide_u16_group_board_v2").anyEnabled;return(0,y.jsx)(H,{...e,hideCollaboratorsSection:o,i18n:t,isDesktop:"desktop"===r,requestContext:(0,c.B)(),toastManagerContext:(0,p.F9)()})}O(H,"defaultProps",{isNameAndSecretView:!1})},561563:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var i=r(667294),n=r(616550),o=r(407043),a=r(19121),s=r(883119),l=r(898781),d=r(826067),c=r(901787),u=r(130460),h=r(515990),p=r(796968),_=r(488430),m=r(785893);function g({boardResource:{data:e,refresh:t}}){let r=(0,l.ZP)(),i=e?.id,o=(0,u.gC)()(i??"")||null,{search:a,state:g}=(0,n.TH)();if((0,p.Z)(),!o)return(0,m.jsx)(s.$j,{accessibilityLabel:r._('Loading Board page', 'ExperimentalBoardPageContainer.Spinner', 'Accessibility label on loading spinner'),show:!0});let f=g?.newBoard,b=(0,c.Uz)(e?.sensitivity),y=f&&!b&&e?.should_show_more_ideas?h.s.jumpstartBoard:null,v=(0,d.mB)(a);return(0,m.jsx)(_.Z,{board:o,initialModalType:y,refreshBoardData:t,showPulsar:!!v.showPulsar})}function f({boardResource:e}){let t=(0,a.Z)(),{username:r}=(0,n.UO)(),s=t.isAuth&&t.username===r,l=s?3069:3070,{logContextEvent:d}=(0,o.v)();return(0,i.useEffect)(()=>{e.data&&d({event_type:13,view_type:5,view_parameter:l,aux_data:{board_id:e.data.id,board_pin_count:e.data.pin_count}})},[e.data,d,l]),(0,m.jsx)(g,{boardResource:e})}},759723:(e,t,r)=>{"use strict";r.d(t,{W:()=>O,Z:()=>Z});var i,n,o,a,s,l=r(667294),d=r(167912),c=r(407043),u=r(681669),h=r(357998),p=r(829407),_=r(883119),m=r(112690),g=r(916117),f=r(149230),b=r(901787),y=r(785893);let v=void 0!==i?i:i=r(544599);function x({actionKey:e,alignCenter:t}){let r=(0,g.Z)(v,e),i=(0,m.Z)(),{title:n,description:o,button:a}=r,s=a?.text,d=n?.text,c=o?.text,u=a?.link??"",h=u.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),p=s&&u.startsWith("http"),x=(0,f.Z)({url:u});return p?(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.xv,{align:t?"center":"start",weight:"bold",children:""!==s?s:"Visit"})}),(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.rU,{href:u,onClick:()=>{(0,b.AY)(i,u)},rel:p&&x?"nofollow":"none",children:(0,y.jsx)(_.xv,{align:t?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:h})})})]}):(0,y.jsxs)(l.Fragment,{children:[!!d&&(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.xv,{align:t?"center":"start",weight:"bold",children:d})}),!!c&&(0,y.jsx)(_.xu,{marginBottom:1,children:(0,y.jsx)(_.xv,{align:t?"center":"start",children:c})})]})}let w=void 0!==n?n:n=r(341365);function P({text:e,textTags:t}){let r=[],i=0;for(let n=0;n<t.length;n+=1){let o=t[n];if(5===o.tagType&&o.link){let{offset:t,length:n,link:a}=o;if(null!=t&&null!=n&&null!=a){let o=e.substring(t,t+n),s=(0,y.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(_.rU,{display:"inlineBlock",href:a,target:"blank",underline:"hover",children:o},o)});r.push((0,y.jsx)("span",{children:e.substring(i,t)})),r.push(s),i=t+n}}}return(i>0&&r.push((0,y.jsx)("span",{children:e.substring(i)})),0===r.length)?[(0,y.jsx)("span",{children:e})]:r}function S({graphqlRef:e,text:t}){let r=(0,d.useFragment)(w,e);return(0,y.jsx)(P,{text:t,textTags:r})}function C({textTags:e,text:t}){let r=e.map(({length:e,link:t,offset:r,tag_type:i})=>({length:e,link:t,offset:r,tagType:i}));return(0,y.jsx)(P,{text:t,textTags:r})}function j({dataKey:e,text:t}){return"graphqlRef"===e.type?(0,y.jsx)(S,{graphqlRef:e.data,text:t}):(0,y.jsx)(C,{text:t,textTags:e.data})}let A=[4,14],E={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},T={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=void 0!==o?o:o=r(521502);function k({advisory:e,inModal:t,noticeKey:r}){let{data:i,childDataKey__DEPRECATED:n}=(0,h.Q)(I,r,{useLegacyAdapter:e=>({actions:e.actions?.map(e=>({actionId:e.id,$fragmentSpreads:u.qH})),description:e.description&&{text:e.description.text,textTags:e.description.text_tags?.map(()=>({$fragmentSpreads:u.qH}))},title:e.title})}),{title:o,description:a}=i,s="graphqlRef"===n.type?n.data.actions?.map(e=>({type:"graphqlRef",data:e})):n.data.actions?.map(e=>({type:"deprecated",data:e})),l=!!s?.length&&!!e&&A.includes(e),d=s?.length===1,c=a&&a.text||"";return(0,y.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:t?T:E},padding:6,rounding:2,children:[!!o&&!t&&(0,y.jsx)(_.xu,{display:"flex",marginBottom:2,children:(0,y.jsx)(_.X6,{size:"500",children:o})}),!!c&&(0,y.jsx)(_.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,y.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,y.jsx)(_.xv,{align:t?"center":"start",overflow:"normal",children:(0,y.jsx)(j,{dataKey:"graphqlRef"===n.type?{type:"graphqlRef",data:n.data.description?.textTags??[]}:{type:"deprecated",data:n.data.description.text_tags??[]},text:c})})})}),l&&(0,y.jsx)(_.xu,{direction:t?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:s?.map(e=>y.jsx(_.xu,{column:t||d?12:6,paddingX:2,paddingY:1,children:y.jsx(x,{actionKey:e,alignCenter:t||d})},e.data.actionId??JSON.stringify(e.data)))})]})}let z=void 0!==a?a:a=r(833866);function D({noticeKey:e}){let{data:t,childDataKey__DEPRECATED:r}=(0,h.Q)(z,e,{useLegacyAdapter:e=>({actions:e.actions?.map(e=>({button:e.button&&{link:e.button.link,text:e.button.text},description:e.description&&{text:e.description.text},title:e.title&&{text:e.title.text}})),description:e.description&&{text:e.description.text,textTags:e.description.text_tags?.map(()=>({$fragmentSpreads:u.qH}))},footer:e.footer&&{link:e.footer.link,text:e.footer.text}})}),i=(0,m.Z)(),n={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,y.jsxs)(_.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,y.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,y.jsxs)(_.xu,{height:"100%",padding:10,width:"100%",children:[(0,y.jsx)("span",{style:n,children:(0,y.jsx)(j,{dataKey:"graphqlRef"===r.type?{type:"graphqlRef",data:r.data.description?.textTags??[]}:{type:"deprecated",data:r.data.description.text_tags??[]},text:t.description?.text||""})}),(0,y.jsx)(_.xu,{marginTop:6,children:(t.actions??[]).map(e=>{let t=e.button?.link;return t&&t.startsWith("tel")?(0,y.jsxs)(_.xu,{children:[(0,y.jsx)("span",{style:{fontWeight:"600",...n},children:e.title?.text}),(0,y.jsx)("span",{style:n,children:e.description?.text})]}):(0,y.jsx)(_.rU,{href:t||"",onClick:()=>{(0,b.AY)(i,t||"")},children:(0,y.jsx)(_.xu,{display:"inlineBlock",children:(0,y.jsx)(_.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,y.jsx)(_.xv,{color:"inverse",weight:"bold",children:e.button?.text||""})})})})})})]})}),!!t.footer&&(0,y.jsx)(_.xu,{paddingY:2,width:540,children:(0,y.jsx)(_.rU,{display:"inlineBlock",href:t.footer.link??"",onClick:()=>{(0,b.AY)(i,t.footer?.link??"")},target:"blank",underline:"hover",children:(0,y.jsx)(_.xv,{align:"center",color:"subtle",size:"100",children:(0,y.jsx)("div",{dangerouslySetInnerHTML:{__html:t.footer.text??""}})})},t.footer.link)})]})}let R=void 0!==s?s:s=r(940875);function B({advisoryDetails:e,query:t,sensitivity:r,viewType:i}){let{logContextEvent:n}=(0,c.v)();(0,p.Z)(()=>{i&&n({event_type:120,component:13367,view_type:i,aux_data:{entered_query:t,advisory_details:e,advisory_level:r?.advisory,severity_level:r?.severity}})})}function O({sensitivityKey:e,inModal:t,query:r,viewType:i}){let{data:n,childDataKey__DEPRECATED:o}=(0,h.Q)(R,e,{useLegacyAdapter:e=>({advisory:e.advisory,severity:e.severity,notices:e.notices?.map(e=>({style:e.style,$fragmentSpreads:u.qH}))})});B({advisoryDetails:e?.type==="deprecated"?e.data.advisory_details:void 0,query:r,sensitivity:null!=n?{advisory:n.advisory,severity:n.severity}:void 0,viewType:i});let a=o?.type==="graphqlRef"?o.data.notices?.map(e=>({type:"graphqlRef",data:e})):o?.data.notices?.map(e=>({type:"deprecated",data:e}));return(0,y.jsx)(l.Fragment,{children:(a??[]).map(e=>2===e.data.style?(0,y.jsx)(D,{noticeKey:e}):(0,y.jsx)(k,{advisory:n?.advisory,inModal:t,noticeKey:e}))})}function Z({notices:e,query:t,sensitivity:r,viewType:i,inModal:n}){return B({advisoryDetails:r?.advisory_details,query:t,sensitivity:{advisory:r?.advisory,severity:r?.severity},viewType:i}),(0,y.jsx)(l.Fragment,{children:e?.map(e=>2===e.style?y.jsx(D,{noticeKey:{type:"deprecated",data:e}}):y.jsx(k,{advisory:r?.advisory,inModal:n,noticeKey:{type:"deprecated",data:e}}))})}},901787:(e,t,r)=>{"use strict";r.d(t,{AY:()=>a,IR:()=>n,St:()=>i,Uz:()=>o});let i={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},n={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function o(e){return!!e&&e.severity===n.ABUSIVE}function a(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:101,view_parameter:43,view_type:2})}},691456:(e,t,r)=>{"use strict";r.d(t,{OP:()=>u,ZP:()=>c,_8:()=>d});var i,n=r(422578),o=r(909499),a=r(608478),s=r(128983);let l=void 0!==i?i:i=r(491630);function d(e){let t=(0,n.useFragment)(l,e);return!!(t&&(t.notice||t.notices?.[0]&&null!==t.notices[0].title))}function c(e){if(null==e)return!1;let t=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(t=!1),!!e.notice||t}function u(e){let{scope:t}=(0,a.b)(),{data:r,isLoaded:i}=(0,s.Z)(),n=d(e);if(t===o.lw.USERS)return n;if(!i||!r)return!1;let{sensitivity:l}=r;return c(l)}},313951:(e,t,r)=>{"use strict";let i;r.d(t,{i5:()=>v,sX:()=>P,aX:()=>x,Z5:()=>y,NG:()=>w,MT:()=>S,iu:()=>C});var n=r(667294),o=r(214494),a=r(827896),s=r(425288),l=r(505920),d=r(767546);let c=(e,t)=>e.data[t]&&e.data[t].messages||[];function u(e,t){let r=new Map;for(let i of e){if(!i)continue;let e=t(i);if(r.has(e)){let t=(0,d.Z)(r.get(e),i);r.set(e,t)}else r.set(e,i)}return[...r.values()]}function h(e){return[...e].sort((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at))}function p(e,t,r){return h(u(c(e,t).concat(r),e=>e.id))}let _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function m(e=_,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){let{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){let r={...e,data:{...e.data}},{id:i}=t.payload;return delete r.data[i],r}if("FETCH_COMPLETE"===t.type){let{options:r,resource:i,response:n}=t.payload,o=n.resource_response.data;if("ConversationMessagesResource"===i){let t=r?.conversation_id||"",i=p(e,t,o||[]),n=i[i.length-1],a={...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:i,unread:0,last_message:n}}};return a}if("ConversationsResource"===i){let t={...e,data:{...e.data}};return(o||[]).forEach(e=>{let{id:r,created_at:i,name:n,board:o,emails:a,unread:s,users:l,last_message:d}=e,c=p(t,r,[d]);t.data[r]={...t.data[r],id:r,created_at:i,name:n,board:o,emails:a||[],unread:s||0,users:l||[],last_message:d,messages:c}}),t}if("ConversationResource"===i){let t=o||{},{id:r}=t,i={...e,data:{...e.data}};return r&&(i.data[r]={...i.data[r],...t}),i}if("NewsHubBadgeResource"===i&&o){let t=o.conversations_unseen_count||0;return{...e,unread:t}}}else if("MESSAGE_SEND_PENDING"===t.type){let{id:r,message:i}=t.payload;if(e.data[r])return{...e,data:{...e.data,[r]:{...e.data[r],id:r,messages:[...e.data[r].messages,i]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){let{id:r,tempMessage:i,newMessage:n}=t.payload;if(e.data[r]){let t=c(e,r).find(e=>e.id===i.id&&e.created_ms===i.created_ms);if(t){let t=h(u(c(e,r).filter(e=>e.id!==i.id).concat([n]),e=>e.id));return{...e,data:{...e.data,[r]:{...e.data[r],last_message:n,messages:t}}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){let{id:r,tempMessageId:i}=t.payload;if(e.data[r]){let t=c(e,r).filter(e=>e.id!==i);return{...e,data:{...e.data,[r]:{...e.data[r],messages:t}}}}}else if("OPEN_NEW_MESSAGE"===t.type){let{objectAttachment:r}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:r}}else if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};else if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};else if("CLEAR_MESSAGE_BADGE"===t.type){let{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===t.type){let{id:r,position:i}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],position:i}}}}else if("CONVERSATION_RESET_POSITION"===t.type){let{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===t.type){let{objectAttachment:r}=t.payload;return{...e,objectAttachment:r}}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null};return e}var g=r(785893);let f=(i=0,()=>i++),{Provider:b,useHook:y}=(0,s.Z)("Conversations");function v({children:e}){let[t,r]=(0,n.useReducer)(m,_),i=(0,n.useCallback)(e=>r({type:"FETCH_COMPLETE",payload:e}),[]);(0,l.Z8)("ConversationMessagesResource",i),(0,l.my)("ConversationMessagesResource",i),(0,l.Z8)("ConversationsResource",i),(0,l.Z8)("ConversationResource",i),(0,l.Z8)("NewsHubBadgeResource",i);let a=(0,n.useCallback)((e,t=!1,i="")=>r({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}}),[]),s=(0,n.useCallback)((e,t="",i=!1)=>r({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}}),[]),d=(0,n.useCallback)(e=>r({type:"CONVERSATION_CREATE",payload:e}),[]),c=(0,n.useCallback)(e=>r({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),u=(0,n.useCallback)((e,t)=>r({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}}),[]),h=(0,n.useCallback)(e=>r({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),p=(0,n.useCallback)((e,t,i)=>{o.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{let t=e&&e.resource_response.data;r({type:"CONVERSATION_OPEN",payload:{id:t.id}})}).catch(e=>{let t=e.message_detail||e.message||"";i(t)})},[]),f=(0,n.useCallback)(()=>{r({type:"CLOSE_DROPDOWN"})},[]),y=(0,n.useCallback)(()=>{r({type:"OPEN_DROPDOWN"})},[]),v=(0,n.useCallback)(e=>{r({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),x=(0,n.useCallback)((e,t)=>r({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),[]),w=(0,n.useCallback)((e,t,i)=>r({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}}),[]),P=(0,n.useCallback)((e,t)=>r({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}}),[]),S=(0,n.useCallback)(e=>r({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),C=(0,n.useCallback)(e=>r({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),j=(0,n.useCallback)(e=>r({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),A=(0,n.useCallback)(e=>r({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),E=(0,n.useCallback)(()=>r({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),T=(0,n.useMemo)(()=>({clearMessageBadge:j,conversationOpen:a,conversationClose:s,conversationCreate:d,conversationDelete:c,conversationGet:p,saveConversationPosition:u,resetConversationPosition:h,dropdownClose:f,dropdownOpen:y,newMessageOpen:v,pendingMessageSend:x,pendingMessageSuccess:w,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:C,conversations:t,setObjectAttachment:A,removeObjectAttachment:E}),[j,a,s,d,c,p,u,h,f,y,v,x,w,P,S,C,t,A,E]);return(0,g.jsx)(b,{value:T,children:e})}function x(){let{conversationCreate:e}=y();return async t=>{let r;let i=o.Z.create("ConversationsResource",t);try{let t=await i.callCreate(),n=t.resource_response.data;n&&(e(n),r=n)}catch(e){throw Error(e.message)}return r}}function w(){let{conversations:e,conversationCreate:t,pendingMessageSend:r,pendingMessageSuccess:i,pendingMessageFailure:n}=y(),s=(0,a.Z)();return async(a,l,d,c)=>{let{text:u,pinId:h,boardId:p,userId:_,didItId:m}=l;async function g(){let e=o.Z.create("ConversationMessagesResource",{conversation_id:a,text:u,pin:h,board:p,user:_,user_did_it_data:m,source:d,client_tracking_params:s(h??"")}),t=`${f()}`,l={text:u,sender:c,created_at:new Date().toString(),created_ms:Date.now(),id:t,type:"tempMessage"};r(a,l);try{let t=await e.callCreate(),r=t.resource_response.data;r&&i(a,l,r)}catch(e){throw n(a,t),Error(e.message)}}if(e.data[a])await g();else{let e=o.Z.create("ConversationResource",{conversation_id:a});try{let r=await e.callGet(),i=r.resource_response.data;i&&(t(i),await g())}catch(e){throw Error(e.message)}}}}function P(e){let{conversations:t}=y();return t.data[e]}function S(e){let{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function C(){let{conversations:{data:e}}=y(),t=Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message);return Array.from(t).sort((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at))}},815613:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S}),r(167912);var i,n=r(883119),o=r(112690),a=r(916117),s=r(898781),l=r(773285),d=r(667679),c=r(867820),u=r(52022),h=r(343341),p=r(50286),_=r(829407),m=r(19121),g=r(945698),f=r(927383),b=r(698330),y=r(201155),v=r(640064),x=r(785893);let w=({children:e,pulsar:t,testId:r})=>t.show?(0,x.jsx)(n.xu,{"data-test-id":r,position:"relative",children:(0,x.jsxs)(n.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,x.jsx)(n.o3,{})})]})}):(0,x.jsx)(n.xu,{"data-test-id":r,children:e}),P=void 0!==i?i:i=r(84928);function S({auxData:e,disabled:t,disableLog:r,followEventType:i,id:S,inline:C,invertColors:j,isFollowed:A,isIdeaPin:E,isLegoEnabled:T,isSecondaryButton:I,isUserFollowButton:k,isUserMe:z,onFollow:D,onUnfollow:R,pinKey:B,shouldUseLegoColors:O,showPulsar:Z,size:L,textType:M="FollowFollowing",unfollowEventType:N,viewParameter:F,viewType:U,clientTrackingParams:H}){let $;let V=(0,s.ZP)(),W=(0,p.HG)(),{showToast:G}=(0,h.F9)(),q=(0,u.Z)(),K=(0,o.Z)(),Y=(0,d.Z)(),{checkExperiment:X}=(0,l.F)(),J=(0,f.Z)(),Q=(0,m.Z)(),ee=Q&&Q.isAuth,{unauthFollowUserId:et,setUnauthFollowUserId:er}=(0,v.f)(),ei=(0,b.mN)()(S),en=ei&&{imageMediumUrl:ei.image_medium_url,username:ei.username},eo=(0,a.Z)(P,B),ea=eo?.linkDomain,es=eo?.nativeCreator,el=eo?.originPinner,ed=eo?.pinner;$=es||(ea?ea.officialUser:el||ed);let ec=en??$;(0,_.Z)(()=>{!W&&ee&&et&&S&&et===S&&D(S)});let eu=J({fn:()=>{ee?A?(R(S),r||K({event_type:N,view_type:U,view_parameter:F,object_id_str:S,aux_data:e,clientTrackingParams:H})):(D(S),k&&G(({hideToast:e})=>{let t=ec?.username?`/${ec.username}/`:"";return(0,x.jsx)(y.Z,{handleHide:e,href:t,imageUrl:ec?.imageMediumUrl||"",text:V._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:S})}),r||K({event_type:i,view_type:U,view_parameter:F,object_id_str:S,aux_data:e,clientTrackingParams:H})):((0,c.My)(`mweb_unauth_follow_button.tap.${String(U)}`),5===U&&26===i&&(0,c.My)("mweb_unauth_board_page_follow_button.tap"),(0,c.NC)(A?"press_profile_unfollow":"press_profile_follow"),q({action:"click",item:"board-follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:E?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:W&&X("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!W&&X("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),W||er(S??""),(0,c.NC)("clickthrough"))},modalHeader:(0,g.N4)({i18n:V,toFollow:!A})}),eh=!A&&!!Z,ep=()=>{if(z)return V._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===M)return A?V._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):V._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===M?V._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):V._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return A?e:V._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(w,{pulsar:eh?{show:!0,onClick:eu}:{show:!1},testId:z||A?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(n.zx,{accessibilityLabel:ep(),color:O||"AddRemove"===M||!T&&I||A?"gray":"red",disabled:z||t,fullWidth:C,onClick:eh?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),r||K({event_type:101,component:13672,element:11951,object_id_str:S,view_type:U,view_parameter:F,aux_data:e,clientTrackingParams:H}),eu()},selected:j?!A:O&&A||!!A&&I,size:L,text:ep()})})}},833991:(e,t,r)=>{"use strict";r.d(t,{HW:()=>a,YW:()=>u,i3:()=>h,o2:()=>c});var i=r(667294),n=r(425288),o=r(785893);let a=660,s={educationId:null,paddingRight:0,zIndex:a};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:r}=t.payload;return{...e,educationId:r};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":let{zIndex:n}=t.payload;return{...e,zIndex:n};default:return e}}let{Provider:d,Consumer:c,useHook:u}=(0,n.Z)("footerContext");function h({children:e}){let[t,r]=(0,i.useReducer)(l,s),n=(0,i.useCallback)(e=>r({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),a=(0,i.useCallback)(e=>r({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),c=(0,i.useCallback)(e=>r({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,i.useMemo)(()=>({...t,setEducationId:a,setPaddingRight:n,setZIndex:c}),[t,a,n,c]);return(0,o.jsx)(d,{value:u,children:e})}},977558:(e,t,r)=>{"use strict";r.d(t,{L1:()=>o,Rz:()=>l,WZ:()=>a,cI:()=>n,fe:()=>s,hu:()=>i});let i=64,n=80,o=22,a="HeaderContent",s=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},830065:(e,t,r)=>{"use strict";r.d(t,{H:()=>d,N:()=>l});var i=r(667294),n=r(425288),o=r(505920),a=r(785893);let{Provider:s,useHook:l}=(0,n.Z)("LastSavedTo");function d({children:e}){let[t,r]=(0,i.useState)();(0,o.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;r(t)}});let n=(0,i.useCallback)(e=>{let i=t?t.filter(t=>t.id!==e.id):[];r([e,...i])},[t]),l=(0,i.useMemo)(()=>({lastSavedTo:t,saveToBoard:n}),[t,n]);return(0,a.jsx)(s,{value:l,children:e})}},379764:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(633988);let o=new i.H3([n.Z]),a=o},825067:(e,t,r)=>{"use strict";r.d(t,{H:()=>n,W:()=>o});var i=r(425288);let{Provider:n,useMaybeHook:o}=(0,i.Z)("PinCreateDeleteContext")},8742:(e,t,r)=>{"use strict";r.d(t,{CC:()=>h,VU:()=>_,ZP:()=>f,hW:()=>p,jz:()=>m}),r(167912);var i,n=r(240684),o=r(916117),a=r(50286),s=r(19121),l=r(350118),d=r(202873),c=r(986901),u=r(785893);let h=(0,n.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(93041),r.e(60310),r.e(12058),r.e(5147),r.e(2984)]).then(r.bind(r,656226)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>656226}),p=(0,n.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(97270),r.e(10966),r.e(40113),r.e(39921)]).then(r.bind(r,369083)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>369083}),_=(0,c.Z)(()=>Promise.all([r.e(93041),r.e(60310),r.e(12058),r.e(5147),r.e(2984)]).then(r.bind(r,656226)),void 0,"AuthDesktopPinRep"),m=(0,c.Z)(()=>Promise.all([r.e(97270),r.e(10966),r.e(40113),r.e(39921)]).then(r.bind(r,369083)),void 0,"DefaultPinRep"),g=void 0!==i?i:i=r(875666);function f(e){let t=(0,a.HG)(),r=(0,d.b)(),i=(0,s.Z)(),n=i&&i.isAuth&&t,c=(0,o.Z)(g,e.duploQueryRef),f=(0,l.S6)();if(n&&!e.duploQueryRef){let{disableReaction:t,disableRounding:i,disableAppUpsell:n,duploDedupeVisualAnnotations:o,duploDisablePinCardPadding:a,duploFeedItemProps:s,duploIsSquarePin:l,duploLazyLoadImage:d,duploOneTapSave:c,duploPinCardDetailsMargin:p,duploPriorityFetchImage:m,duploQueryRef:g,duploShouldAddNiiSearchParamToImageUrls:b,duploShouldAllowProductPriceIndicator:y,duploConversationPin:v,topLevelTrafficSource:x,topLevelTrafficSourceDepth:w,trafficSource:P,pinId:S,pin:C,...j}=e,A=S?f(S):null,E=A||C;return r?(0,u.jsx)(_,{...j,pinKey:{type:"deprecated",data:E},trackingParamsMap:E.tracking_params_map}):(0,u.jsx)(h,{...j,pinKey:{type:"deprecated",data:E},trackingParamsMap:E.tracking_params_map})}let{attributionOption:b,blockClickEvents:y,borderStyle:v,disableHover:x,imageHeightModifier:w,imageOnlyOption:P,onError:S,onLoad:C,pin:j,pinImageCrop:A,pinImageFit:E,resolution:T,rounding:I,saveButtonOptions:k,authDesktopSelectionState:z,authDesktopSurface:D,pinOwner:R,...B}=e;return r?(0,u.jsx)(m,{...B,duploQueryRef:c}):(0,u.jsx)(p,{...B,duploQueryRef:c})}},99137:(e,t,r)=>{"use strict";r.d(t,{x:()=>s,y:()=>l});var i=r(667294),n=r(425288),o=r(785893);let{Provider:a,useMaybeHook:s}=(0,n.Z)("ProfileViewContext");function l({children:e}){let[t,r]=(0,i.useState)(),[n,s]=(0,i.useState)(new Map),[l,d]=(0,i.useState)(),[c,u]=(0,i.useState)(),[h,p]=(0,i.useState)(0),_=(0,i.useCallback)((e,t)=>{s(new Map(n.set(e,t)))},[n]),m=(0,i.useMemo)(()=>({boardPinDensity:t,boardSortOrder:n,profileBoardView:l,profilePinDensity:c,profileFollowingSelectedIndex:h,setBoardPinDensity:r,updateBoardSortOrder:_,setProfileBoardView:d,setProfilePinDensity:u,setProfileFollowingSelectedIndex:p}),[t,n,l,c,h,_]);return(0,o.jsx)(a,{value:m,children:e})}},130460:(e,t,r)=>{"use strict";r.d(t,{bn:()=>s,fJ:()=>d,gC:()=>l});var i=r(702664),n=r(425288),o=r(785893);let{Provider:a,useHook:s}=(0,n.Z)("Boards");function l(){let e=s();return t=>e[t]}function d({children:e}){let t=(0,i.useSelector)(({boards:e})=>e,i.shallowEqual);return(0,o.jsx)(a,{value:t,children:e})}},350118:(e,t,r)=>{"use strict";r.d(t,{AF:()=>s,H0:()=>l,S6:()=>d,_S:()=>c});var i=r(702664),n=r(425288),o=r(785893);let{Provider:a,useHook:s,useMaybeHook:l}=(0,n.Z)("Pins");function d(){let e=s();return t=>e[t]}function c({children:e}){let t=(0,i.useSelector)(({pins:e})=>e,i.shallowEqual);return(0,o.jsx)(a,{value:t,children:e})}},698330:(e,t,r)=>{"use strict";r.d(t,{Tt:()=>u,cm:()=>c,kW:()=>l,kY:()=>h,mN:()=>d});var i=r(702664),n=r(425288),o=r(19121),a=r(785893);let{Provider:s,useHook:l}=(0,n.Z)("Users");function d(){let e=l();return t=>e[t]}function c(){let e=l();return(t,r=!1)=>{let i=Object.keys(e).find(r=>e[r].username===t);if(i||!r)return e[i??""]}}function u(){let{id:e}=(0,o.Z)(),t=l();return t[e??""]}function h({children:e}){let t=(0,i.useSelector)(({users:e})=>e,i.shallowEqual);return(0,a.jsx)(s,{value:t,children:e})}},897103:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var i=r(667294),n=r(702664),o=r(883119),a=r(27255),s=r(898781),l=r(414327),d=r(784590),c=r(984206),u=r(19121),h=r(717615),p=r(845772),_=r(231947),m=r(654287),g=r(615298),f=r(507016),b=r(488769),y=r(109892),v=r(785893);function x(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w({board:e,hovered:t,searchQuery:r}){let i=e.privacy===a.Z.BoardPrivacy.SECRET;return(0,v.jsxs)(o.xu,{color:t?"secondary":"default",display:"flex",padding:2,rounding:2,children:[(0,v.jsx)(o.xu,{flex:"grow",children:(0,v.jsx)(o.xv,{weight:"bold",children:(0,f.W)(r,e.name)})}),(0,v.jsxs)(o.kC,{alignItems:"stretch",direction:"row",flex:"none",justifyContent:"start",children:[i&&(0,v.jsx)(b.Z,{type:"secret"}),e.is_collaborative&&(0,v.jsx)(b.Z,{type:"group"})]})]})}class P extends i.Component{constructor(e){super(e),x(this,"getSections",()=>{if(!this.props.boardResource.data?.all_boards)return[];let{searchQuery:e}=this.state,{boardResource:{data:{all_boards:t}}}=this.props;return e.length>=c.Z?[{items:(0,g.j)(t,e)}]:[{items:t}]}),x(this,"createBtnDisabled",()=>{if(!this.props.boardResource.data?.all_boards)return!1;let{boardResource:{data:{all_boards:e}}}=this.props,{searchQuery:t}=this.state;return e.some(e=>e.name?.toLowerCase()===t.toLowerCase())}),x(this,"handleBoardCreate",()=>()=>{let{searchQuery:e}=this.state;if(!e)return;let{createBoard:t,invalidateBoardPickerBoardsResource:r,onBoardCreate:i}=this.props;if(r(),i){i(e);return}t({name:e,privacy:"public"}).then(e=>{let{onBoardChosen:t}=this.props;t(e)})}),x(this,"handleBoardSelected",e=>{this.props.onBoardChosen(e),this.setState({selectedBoard:e})}),x(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),x(this,"renderRow",({item:e,hovered:t})=>{let{searchQuery:r}=this.state;return(0,v.jsx)(w,{board:e,hovered:t,searchQuery:r})}),this.state={searchQuery:"",selectedBoard:e.board}}render(){let{boardResource:e,board:t,isBoardlessPinsBoard:r,isQuickCreatesBoard:i,isStoryPin:n}=this.props,{searchQuery:a,selectedBoard:s}=this.state,l=this.props.i18n._('Select a board', 'Label for selecting a board in Edit Pin Modal', 'Label for selecting a board in Edit Pin Modal');return t?l=i?this.props.i18n._('Choose board', 'BoardPickerFlyout.displayBoardName.quickCreatesBoard', 'Title for board picker when current board is a quick creates board'):r?this.props.i18n._('Profile', 'BoardPickerFlyout.displayBoarName.boardlessPins', 'Title indicating the pin is saved to profile'):t.name:s&&(l=s.name),(0,v.jsxs)(o.xu,{children:[(0,v.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!e.isLoaded}),e.data&&(0,v.jsx)(m.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:l||"",isStoryPin:n,onCreate:this.handleBoardCreate(),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:a,sections:this.getSections()})]})}}function S(e){let t=(0,y.Z)(),r=(0,s.ZP)(),i=(0,n.useDispatch)(),o=(0,u.Z)(),a=(0,n.useSelector)(({advertiser:e})=>e),c=o.isAuth&&a&&a.owner_user_id!==o.id,m=c?a.id:null,g=c?a.owner_user_id:null,f=(0,h.Z)(),b=(0,p.Z)(),x=(0,_.Ms)(o,f),w=x||g,S=(0,d.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:w,...m&&g?{advertiser_id:m,filter:"protected",username:g}:{},orbac_subject_id:b},noCache:!0});return(0,v.jsx)(P,{...e,advertiser_id:m,boardResource:S,createBoard:e=>t({boardCreateOptions:e}),i18n:r,invalidateBoardPickerBoardsResource:()=>{i((0,l.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker",...x?{username:x}:{username:g}}))},username:g,viewer:o})}},654287:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var i=r(667294),n=r(883119),o=r(898781),a=r(773285),s=r(887831),l=r(176020),d=r(960260),c=r(33897),u=r(785893);function h(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{itemSelected:!1,showFlyout:!1}),h(this,"setContainerRef",e=>{this.containerRef=e}),h(this,"handleCreate",()=>{this.hideFlyout();let{onCreate:e}=this.props;e&&e()}),h(this,"handleSelectItem",e=>{this.hideFlyout();let{onSelect:t,onCreate:r}=this.props;e?(this.setState(()=>({itemSelected:!0})),t(e)):r&&r()}),h(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),h(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),h(this,"hideFlyout",()=>{let{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){let{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:r,onMouseLeave:i},idealDirection:o,isHovering:a,isStoryPin:s,onCreate:h,onSearchQueryUpdate:p,renderRow:_,searchQuery:m,sections:g,createBtnDisabled:f}=this.props,{itemSelected:b,showFlyout:y}=this.state;this.indexManager=new l.Z(g.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);let v=!m.trim()||!!f;return(0,u.jsxs)(n.xu,{ref:this.setContainerRef,flex:s?"grow":void 0,children:[(0,u.jsx)(n.iP,{fullWidth:!!s,onMouseEnter:r,onMouseLeave:i,onTap:this.handleDropdownTouch,rounding:s?4:2,children:s?(0,u.jsxs)(n.xu,{alignItems:"center",borderStyle:"lg",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:s?4:3,rounding:s?4:2,children:[(0,u.jsx)(n.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:(0,u.jsx)(n.xv,{color:b?"default":"subtle",children:e})}),(0,u.jsx)(n.JO,{accessibilityLabel:this.props.i18n._('Icon for drop down', 'repinPicker.pickerFlyoutIcon.accessibilityLabel', 'Accessibility label for the arrow-down icon.'),color:"default",icon:"arrow-down",size:14})]}):(0,u.jsxs)(n.xu,{alignItems:"center",color:a?"lightWash":"secondary",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:s?4:3,rounding:s?4:2,children:[(0,u.jsx)(n.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:(0,u.jsx)(n.xv,{color:"default",weight:"bold",children:e})}),(0,u.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"arrow-down",size:14})]})}),y&&(0,u.jsx)(n.xu,{position:"relative",children:(0,u.jsxs)(n.xu,{borderStyle:"sm",color:"default",direction:"column",display:"flex",left:"left"===o,overflow:"hidden",position:"absolute",right:"right"===o,rounding:s?4:2,width:s?"150%":"100%",zIndex:new n.Ry(2),children:[(0,u.jsx)(n.xu,{children:(0,u.jsxs)(n.xu,{display:"flex",marginEnd:-1,marginStart:-1,padding:2,children:[(0,u.jsx)(n.xu,{display:"flex",flex:"grow",paddingX:1,children:(0,u.jsx)(c.Z,{hideIcon:!0,indexManager:this.indexManager,onChange:p,value:m})}),h&&(0,u.jsx)(n.xu,{paddingX:1,children:(0,u.jsx)(n.zx,{dataTestId:"picker-flyout-create-button",disabled:v,onClick:this.handleCreate,text:this.props.i18n._('Create', 'board or section dropdown create button', 'board or section dropdown create button')})})]})}),(0,u.jsx)(d.Z,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:_,sections:g})]})})]})}}function _(e){let t=(0,o.ZP)(),{checkExperiment:r}=(0,a.F)(),{isHovering:i,hoverHandlers:n}=(0,s.Z)();return(0,u.jsx)(p,{...e,checkExperiment:r,hoverHandlers:n,i18n:t,isHovering:i})}},241563:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v,x:()=>y});var i=r(667294),n=r(702664),o=r(883119),a=r(112690),s=r(898781),l=r(784590),d=r(984206),c=r(678638),u=r(654287),h=r(615298),p=r(507016),_=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let g="NO_SECTION_VALUE";function f({section:e,hovered:t,searchQuery:r}){return(0,_.jsxs)(o.xu,{children:[(0,_.jsx)(o.xu,{color:t?"secondary":"default",display:"flex",padding:2,rounding:2,children:(0,_.jsx)(o.xu,{flex:"grow",children:(0,_.jsx)(o.xv,{weight:"bold",children:(0,p.W)(r,e.title)})})}),e.id===g&&(0,_.jsx)(o.iz,{})]})}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{searchQuery:""}),m(this,"getPickerSections",()=>{let{searchQuery:e}=this.state,{sectionsResource:t,mergingFromSectionId:r}=this.props,i=t&&t.data||[];return i=r?i.filter(e=>e.id!==r):[{id:g,title:this.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit')},...i],e.length>=d.Z&&(i=(0,h.j)(i,e,"title")),[{items:i}]}),m(this,"createBtnDisabled",()=>{let{sectionsResource:e}=this.props,{searchQuery:t}=this.state;return!!e&&!!e.data&&e.data.some(e=>e.title?.toLowerCase()===t.toLocaleLowerCase())}),m(this,"handleSectionCreate",()=>{let{board:e,onSectionChange:t,sectionsResource:r,dispatch:i,onSectionCreate:n,logContextEvent:o}=this.props,{searchQuery:a}=this.state;if(n){n(a);return}i&&e.id&&i((0,c.vB)({boardId:e.id,name:a},this.props.i18n,void 0,o)).then(e=>{r&&r.refresh(),this.setState({searchQuery:""}),t(e)})}),m(this,"handleSectionSelected",e=>{let{onSectionChange:t}=this.props;t(e.id===g?null:e),this.setState({searchQuery:""})}),m(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),m(this,"renderRow",({item:e,hovered:t})=>{let{searchQuery:r}=this.state;return(0,_.jsx)(f,{hovered:t,searchQuery:r,section:e})})}componentDidUpdate(e){let t=e.selectedSectionId,{selectedSectionId:r}=this.props;if(r!==t){let{sectionsResource:e}=this.props;e&&e.refresh()}}render(){let{idealDirection:e,isStoryPin:t,sectionsResource:r,selectedSectionId:i,mergingFromSectionId:n,selectedSectionName:a}=this.props,{searchQuery:s}=this.state,l=n?this.props.i18n._('Pick a section', 'default dropdown option for selecting a board section to merge to', 'default dropdown option for selecting a board section to merge to'):this.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit'),d=l;if(i){let e;r&&r.data&&(e=r.data.find(e=>e.id===i)),d=e&&e.title||d}else a&&(d=a);return(0,_.jsxs)(o.xu,{children:[(0,_.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!!r&&!r.isLoaded}),(!r||r&&r.isLoaded)&&(0,_.jsx)(u.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:d,idealDirection:e,isStoryPin:t,onCreate:n?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:s,sections:this.getPickerSections()})]})}}function y(e){let t=(0,s.ZP)();return(0,_.jsx)(b,{...e,dispatch:(0,n.useDispatch)(),i18n:t,logContextEvent:(0,a.Z)()})}function v(e){let t=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id},noCache:!0});return(0,_.jsx)(y,{...e,sectionsResource:t})}},33897:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(667294),n=r(883119),o=r(898781),a=r(755742);r(176020);var s=r(785893);function l(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends i.Component{constructor(...e){super(...e),l(this,"setInputRef",e=>{e&&(this._input=e)}),l(this,"handleKeyDown",e=>{let{disabled:t,indexManager:r}=this.props;if(!t)switch(e.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:e.preventDefault(),r.select();break;case a.Z.UP:e.preventDefault(),r.prev();break;case a.Z.DOWN:e.preventDefault(),r.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){let{onChange:e,value:t}=this.props;return(0,s.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,s.jsx)(n.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:t})})}}let c=function(e){let t=(0,o.ZP)();return(0,s.jsx)(d,{...e,i18n:t})}},363333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(667294),n=r(883119),o=r(898781),a=r(176020),s=r(960260),l=r(33897),d=r(507016),c=r(538716),u=r(411547),h=r(785893);function p(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends i.Component{constructor(...e){super(...e),p(this,"state",{searchQuery:""}),p(this,"handleSelectItem",e=>{let{onCreate:t,onSelected:r}=this.props;if(!e&&t){let{searchQuery:e}=this.state;t(e)}else e&&r(e);(t||e)&&this.setState({searchQuery:""})}),p(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),p(this,"renderSectionHeader",e=>e.title?(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.xu,{paddingX:3,paddingY:1,children:(0,h.jsx)(n.xv,{size:"200",children:e.title})})}):null),p(this,"renderRow",({item:e,hovered:t,sectionProps:r={}})=>{let{boardSavedTo:i,isSelectMode:n,disabledRowId:o}=this.props,{searchQuery:a}=this.state,{inSectionSelection:s=!1}=r,l=i&&i.board===e.id,c=l?i&&i.state:null,u="board_section"===e.type;return(0,h.jsx)(d.Z,{disabled:e.id===o&&s,isSection:u,isSelectMode:n,isWithinSectionPicker:s,item:e,saveState:c,searchQuery:a,selected:t})})}render(){let{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:r,getSections:i,isLoaded:o,onCreate:d,pinId:p}=this.props;if(!o)return(0,h.jsx)(n.xu,{paddingY:5,children:(0,h.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});{let{searchQuery:o}=this.state,_=i(o);return this.indexManager=new a.Z(_.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),(0,h.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!r&&(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,h.jsx)(l.Z,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:o})})}),(0,h.jsx)(s.Z,{disabled:!!e,grow:!r&&!o,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:_}),d&&(0,h.jsx)(n.xu,{borderStyle:_.length>1?"shadow":"none",children:(0,h.jsx)(u.Z,{buttonLabel:t,hasHoverState:!0,name:o,onClick:()=>d(o)})}),r&&d&&p&&(0,h.jsx)(c.Z,{onBoardSelected:d,pinId:p})]})}}}function m(e){let t=(0,o.ZP)();return(0,h.jsx)(_,{...e,i18n:t})}},615298:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});let i={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"s",:"u",:"u",:"u",:"u"},n=e=>{if(!e)return"";let t="";for(let r=0;r<e.length;r+=1)t+=i[e.charAt(r)]||e.charAt(r);return t},o=(e,t)=>{let r=t.split(" "),i=e.split(" "),o=0;for(let e=0;e<i.length;e+=1){let t=n(i[e]);(t.includes(r[o])||i[e].includes(r[o]))&&(o+=1)}return o===r.length},a=(e,t,r="name")=>{let i=t.toLowerCase();return e.filter(e=>o(e[r].toLowerCase(),i))}},425480:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(700380);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let a=({scrollTop:e,clientHeight:t,scrollHeight:r},i)=>{let n=e+t,o=i?i(t):2*t;return n+o>r};class s extends i.PureComponent{constructor(...e){super(...e),o(this,"setContainerRef",e=>{this.containerRef=e}),o(this,"fetchMoreIfNecessary",(0,n.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&a(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},640064:(e,t,r)=>{"use strict";r.d(t,{f:()=>s,w:()=>l});var i=r(667294),n=r(425288),o=r(785893);let{Provider:a,useHook:s}=(0,n.Z)("Session");function l({children:e}){let[t,r]=(0,i.useState)(void 0),n=(0,i.useCallback)(()=>r(void 0),[]),s=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:n}),[t,n]);return(0,o.jsx)(a,{value:s,children:e})}},777906:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(883119),o=r(865607),a=r(785893);let s=function({badgeSize:e,badgeSpacing:t,fullName:r,isVerifiedIdentity:s,isVerifiedMerchant:l,truncate:d=!1}){let c=r.split(" "),u=c.slice(0,c.length-1).join(" "),h=" ".concat(c[c.length-1]);return d?(0,a.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(n.xv,{lineClamp:1,weight:"bold",children:r}),(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:(0,a.jsx)(o.Z,{isVerifiedIdentity:s,isVerifiedMerchant:l,size:e})})]}):(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)("span",{children:u}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h,"\xa0",(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:(0,a.jsx)(o.Z,{isVerifiedIdentity:s,isVerifiedMerchant:l,size:e})})]})]})}},935268:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(785893);function o(e){let{accessibilityLabel:t,bgColor:r,icon:o,onClick:a,selected:s,size:l}=e;return(0,n.jsx)(i.hU,{accessibilityLabel:t,bgColor:r??"transparent",icon:o,iconColor:"darkGray",onClick:a,selected:s,size:l??"lg"})}},652602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(883119),o=r(935268),a=r(785893);function s({bgColor:e,children:t,icon:r,label:s,size:l,id:d}){let c=(0,i.useRef)(null),[u,h]=(0,i.useState)(!1),p=()=>h(!1);return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(n.xu,{ref:c,"data-test-id":d,children:(0,a.jsx)(o.Z,{accessibilityLabel:s,bgColor:e,icon:r,onClick:()=>h(!u),selected:u,size:l})}),u&&(0,a.jsx)(n.Lt,{anchor:c.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:p,zIndex:new n.Ry(1e3),children:t({handleClose:p})})]})}},526760:(e,t,r)=>{"use strict";r.d(t,{FC:()=>s,FP:()=>o,M0:()=>n,Xq:()=>l,s0:()=>i,z9:()=>a});let i=44,n=236,o=157,a=320,s=213,l=7},607989:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(121151),o=r(898781),a=r(785893);function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:r,message:s,onCancel:l,onConfirm:d}){let c=(0,o.ZP)(),u=r||c._('Are you sure?', ' - ', ' -- '),h=e||c._('Cancel', ' - ', ' -- ');return(0,a.jsx)(n.ZP,{accessibilityModalLabel:u,footer:(0,a.jsxs)(i.xu,{marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(i.xu,{"data-test-id":"cancel-button",padding:1,children:(0,a.jsx)(i.zx,{fullWidth:!0,onClick:l,size:"lg",text:h})}),(0,a.jsx)(i.xu,{"data-test-id":"confirm-button",padding:1,children:(0,a.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:t})})]}),heading:u,onDismiss:l,role:"alertdialog",children:(0,a.jsx)(i.xu,{padding:4,children:(0,a.jsx)(i.xv,{children:s})})})}},197713:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>z});var i=r(667294),n=r(883119),o=r(121151),a=r(898781),s=r(784590),l=r(702664),d=r(214494),c=r(573975),u=r(186656),h=r(499128),p=r(780280),_=r(343341),m=r(19121),g=r(717615),f=r(231947),b=r(968121),y=r(349700),v=r(526760),x=r(785893);function w(){let e=(0,a.ZP)();return(0,x.jsx)(n.xu,{color:"warningWeak",rounding:3,children:(0,x.jsx)(n.xu,{padding:4,children:(0,x.jsxs)(n.kC,{alignItems:"center",direction:"row",gap:3,children:[(0,x.jsx)(n.qb,{type:"warning"}),(0,x.jsx)(n.xv,{size:"200",children:e._('Note: If this board has Pins that are currently being Promoted (active ads), then those promoted Pins will not be distributed in this period. Additionally, when the board is permanently deleted, the Pins will be, too.', 'boardEdit.advertiserBoardDeleteWarning.text', 'text to warning advertisers when deleting a board')})]})})})}function P({board:e,onCancel:t,onConfirm:r}){let i=(0,a.ZP)(),{advertiser:o}=(0,p.B)(),s=(0,m.Z)(),l=!!s.isAuth&&s.id===o?.owner_user_id;return(0,x.jsx)(n.mh,{zIndex:b.b7,children:(0,x.jsx)(n.WB,{accessibilityModalLabel:i._('Delete board', 'boardEdit.boardDeleteConfirmation.accessibilityModalLabel', 'Accessibility modal label for board delete confirmation modal'),heading:i._('Delete this board?', 'boardEdit.boardDeleteConfirmation.heading', 'Heading for board delete confirmation modal'),onDismiss:t,primaryAction:{accessibilityLabel:i._('Confirm delete board', 'boardEdit.boardDeleteConfirmation.primaryAction.accessibilityLabel', 'Accessibility modal label for board delete confirmation modal primary action'),dataTestId:"confirm-button",label:i._('Delete', 'boardEdit.boardDeleteConfirmation.primaryAction.label', 'Label for board delete confirmation modal primary action'),onClick:r},secondaryAction:{accessibilityLabel:i._('Cancel board deletion', 'boardEdit.boardDeleteConfirmation.secondaryAction.accessibilityLabel', 'Accessibility modal label for board delete confirmation modal secondary action'),label:i._('Cancel', 'boardEdit.boardDeleteConfirmation.secondaryAction.label', 'Label for board delete confirmation modal secondary action'),onClick:t},children:(0,x.jsxs)(n.kC,{direction:"column",gap:4,children:[(0,x.jsx)(n.xv,{children:(0,y.nk)(i.ngettext('The board {{ boardName }} and {{ pinCount }} Pin will be removed from your profile. You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore them in the {{ recentlyDeleted }} section. After that, they\'ll be permanently deleted.', 'The board {{ boardName }} and {{ pinCount }} Pins will be removed from your profile. You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore them in the {{ recentlyDeleted }} section. After that, they\'ll be permanently deleted.', e.pin_count || 0, 'boardEdit.boardDeleteConfirmation.text', 'message informing user of board deletion. boardName:name of board. pinCount:number of Pins. MAX_AGE_RECENTLY_DELETED_BOARD:how old a board can be before it is deleted. recentlyDeleted:section of profile used to access on profile for recently deleted boards'),{boardName:(0,x.jsx)(n.xu,{display:"inlineBlock",children:(0,x.jsx)(n.xv,{weight:"bold",children:e.name})}),MAX_AGE_RECENTLY_DELETED_BOARD:v.Xq,pinCount:e.pin_count,recentlyDeleted:(0,x.jsx)(n.xv,{inline:!0,weight:"bold",children:i._('Recently deleted', 'boardEdit.boardDeleteConfirmation.recentlyDeletedText', 'Name for section on profile for recently deleted boards')})})}),l&&(0,x.jsx)(w,{})]})})})}var S=r(959472),C=r(254176),j=r(576028),A=r(90326),E=r(130460);function T(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class I extends i.Component{constructor(...e){super(...e),T(this,"state",{editMode:"main"}),T(this,"handleBoardLeave",()=>{let{board:e,onBoardLeave:t,onClose:r}=this.props;r(),t&&t(e.id)}),T(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),T(this,"handleDelete",async()=>{let{board:e,deleteBoard:t,onBoardDelete:r,onClose:i,toastManagerContext:n,viewer:o,orbacActingAs:a}=this.props;await t(e.id,(0,f.lJ)(o,a)),n.showToast(({hideToast:e})=>(0,x.jsx)(h.ZP,{onHide:e,text:this.props.i18n._('Board deleted!', 'User deleted their board', 'User deleted their board')})),this.returnToMainEditMode(),i(),r&&r(e)}),T(this,"handleShowDeleteModal",()=>{this.setState({editMode:"confirmDelete"})}),T(this,"handleSubmit",e=>{let{viewer:t,orbacActingAs:r,board:i,updateBoard:n,onBoardPrivacyChange:o,onBoardUpdate:a,onClose:s}=this.props,l=this.props.board.id;if((0,f.D3)(t,i.owner?.id||"",r)){let d={...e};return n(l,d,(0,f.lJ)(t,r)).then(()=>{i.privacy!==e.privacy&&o?o():a&&a(l,d),s()})}{let{allow_homefeed_recommendations:t,collab_board_email:r}=e;t!==i.allow_homefeed_recommendations&&n(l,{allow_homefeed_recommendations:t});let o=(0,u.Z)({url:`/v3/boards/${l}/settings/`,method:"POST",data:{collab_board_email:r}});return o.then(()=>s()).catch(e=>{throw e.message})}})}render(){let{board:e,categories:t,viewer:r,orbacActingAs:o,onCropChange:a,onClose:s,onToggleFlyout:l,requestContext:d}=this.props,{editMode:c}=this.state,u=this.props.i18n._('Edit your board', 'BoardEdit.Heading.Text', 'edit board heading'),h=(0,f.D3)(r,e.owner?.id||"",o),p=(0,x.jsxs)(n.kC,{alignContent:"center",children:[(0,x.jsx)(n.xu,{column:2,paddingY:8}),(0,x.jsx)(n.xu,{column:8,paddingY:8,position:"relative",children:(0,x.jsx)(n.X6,{align:"center",size:"500",children:u})}),(0,x.jsx)(n.xu,{column:2,left:d.isRTL,paddingY:8,position:"relative",right:!d.isRTL,top:!0,children:(0,x.jsx)(n.hU,{accessibilityLabel:this.props.i18n._('Close', 'BoardEdit.icon.cancel', 'Icon to close board edit modal'),icon:"cancel",iconColor:"darkGray",onClick:s,size:"md"})})]});return(0,x.jsxs)(i.Fragment,{children:["main"===c&&(0,x.jsx)(S.Z,{board:e,categories:t,currentUserIsOwner:h,handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:h,isEditable:h,onClose:s,onCropChange:a,onDeleteButtonClick:this.handleShowDeleteModal,onSubmit:this.handleSubmit,onToggleFlyout:l,submitText:this.props.i18n._('Done', 'BoardEdit.BoardEdit', 'Submit button text'),title:p}),"confirmDelete"===c&&(0,x.jsx)(P,{board:e,onCancel:this.returnToMainEditMode,onConfirm:()=>{this.handleDelete()}})]})}}function k(e){let t=(0,a.ZP)(),r=(0,l.useDispatch)(),n=function(){let e=(0,E.bn)(),t=(0,l.useDispatch)(),{refreshRecentlyDeletedBoards:r}=(0,c.Z)(),n=(0,i.useCallback)(async(i,n)=>{let o=e[i],{pin_count:a}=o,{id:s=""}=o.owner??{};t((0,C.eo)({boardId:i})),t((0,A.JS)({userId:s,increment:"number"==typeof a?-a:0})),await d.Z.create("BoardResource",{board_id:i,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!0}),r()},[e,t,r]);return n}();return(0,x.jsx)(I,{...e,deleteBoard:n,i18n:t,orbacActingAs:(0,g.Z)(),requestContext:(0,p.B)(),toastManagerContext:(0,_.F9)(),updateBoard:(e,t,i)=>r((0,j.V)(e,t,i)),viewer:(0,m.Z)()})}function z({boardId:e,onBoardPrivacyChange:t,onBoardLeave:r,onBoardDelete:l,onBoardUpdate:d,onClose:c,onCropChange:u}){let h=(0,a.ZP)(),[p,_]=(0,i.useState)(!1),{data:m}=(0,s.Z)({name:"CategoriesResource",noCache:!0});(0,s.Z)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},noCache:!0});let g=(0,E.gC)()(e);return g&&m?(0,x.jsx)(k,{board:g,categories:m,onBoardDelete:l,onBoardLeave:r,onBoardPrivacyChange:t,onBoardUpdate:d,onClose:()=>{p||c()},onCropChange:u,onToggleFlyout:()=>_(!p)}):(0,x.jsx)(o.ZP,{accessibilityModalLabel:h._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on modal'),onDismiss:c,size:"sm",children:(0,x.jsx)(n.xu,{padding:12,children:(0,x.jsx)(n.$j,{accessibilityLabel:h._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on loading spinner'),show:!0})})})}},916062:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(616550),n=r(53987);function o({hasPin:e,pinId:t,boardLayout:r,boardUrl:o}){let a=(0,i.TH)(),s=(0,i.UO)(),l=(0,i.k6)();return()=>{if(e&&(0,n.L6)(a)&&s.id===t){let e="quick_saves"===r||"quick_creates"===r?"/me/":o??"/";l.replace(e)}}}},398061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,e:()=>a});var i=r(883119),n=r(780280),o=r(785893);let a=new i.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){let{isAuthenticated:r}=(0,n.B)();return(0,o.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,zIndex:r?void 0:a,children:[(0,o.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},633988:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(398061);let o=new i.H3([n.e]),a=o},361115:(e,t,r)=>{"use strict";r.d(t,{J1:()=>d,Uw:()=>l,Yg:()=>u,ib:()=>p});var i=r(773285),n=r(780280),o=r(50286),a=r(67347);let s=()=>{let{isAuthenticated:e,isBot:t}=(0,n.B)();return t?"bot":e?"auth":"unauth"},l=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",d=()=>{let e=(0,o.HG)(),t=s();return l({isDesktop:e,viewerType:t})},c=({checkExperiment:e,isAuthMweb:t})=>{let r=t&&e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return r?e=>(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:r}}):null},u=()=>{let{isAuthenticated:e}=(0,n.B)(),t=(0,o.HG)(),{checkExperiment:r}=(0,i.F)();return c({checkExperiment:r,isAuthMweb:e&&!t})},h=0,p=({checkExperiment:e,isAuthMweb:t})=>{let r=c({checkExperiment:e,isAuthMweb:t});r&&(h+=1)<10&&r(`repin_${h}`)}},486746:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(883119),n=r(758119),o=r(488769),a=r(785893);let s=({collaborator_count:e,useLegoLayout:t,type:r})=>t?(0,a.jsx)(i.xu,{marginEnd:e?2:0,children:(0,a.jsx)(o.Z,{type:r})}):(0,a.jsx)(o.Z,{type:r}),l=({board:e,showCollaborativeIcon:t,showPrivateIcon:r,showProtectedIcon:l,showSectionsIcon:d,useLegoLayout:c})=>{let u=e?.collaborating_users?.length||0;return t||r||l||d?(0,a.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},direction:"row",display:"flex",marginEnd:c?0:5,children:[r&&(0,a.jsx)(s,{collaborator_count:u,type:"secret",useLegoLayout:c}),l&&(0,a.jsx)(s,{collaborator_count:u,type:"protected",useLegoLayout:c}),t&&(c?(0,a.jsx)(n.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(o.Z,{type:"group"})),d&&(0,a.jsx)(o.Z,{type:"sections"})]}):null}},24886:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(785893);let o=({image_url:e,naturalHeight:t,naturalWidth:r})=>(0,n.jsx)(i.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,n.jsx)(i.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,n.jsx)(i.Ee,{alt:"",naturalHeight:t,naturalWidth:r,src:e})})})},435326:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(43819),o=r(785893);function a(e){let{children:t,currentCarouselIndex:r,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:l,pinId:d,variant:c,viewParameter:u,shouldUseLegoStyles:h}=e;return(0,o.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",maxHeight:"100%",paddingX:"closeup"!==c||h?void 0:2,width:"closeup"===c?"100%":void 0,children:[t&&(0,o.jsx)(i.xu,{"data-test-id":"saved-info",flex:"grow",paddingX:1,children:t}),(0,o.jsx)(i.xu,{flex:"none",marginStart:"auto",paddingX:1,children:(0,o.jsx)(n.default,{carouselSlotCurrentIndex:r,component:0,onDelete:a,onSubmit:s,onToggleModal:l,pinId:d,shouldUseLegoStyles:h,style:"pin"===c?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"},useLegoStyles:"pin"===c,viewParameter:u})})]})}},176020:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let i={row:0,section:0},n={row:-1,section:-1},o=()=>void 0;class a{constructor(e){this.index={...i},this.sections=e,this.updateCallback=o,this.selectItem=o}getIndex(){return this.index}isAtStart(){let{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){let{row:e,section:t}=this.index,r=this.sections[t]||[];return this.sections.length===t+1&&r.length===e+1}next(){if(this.isAtEnd())return;let{row:e,section:t}=this.index;e===n.row&&t===n.section?this.index={...i}:this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;let{row:e,section:t}=this.index;if(e===n.row&&t===n.section)this.index={...i};else if(e>0)this.index.row-=1;else{let e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){let{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index={...n},this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},960260:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(883119);r(176020);var o=r(425480),a=r(785893);function s(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends i.Component{constructor(e){super(e),s(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),s(this,"handleIndexUpdate",e=>{let{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),s(this,"handleSelectItem",e=>()=>{let{disabled:t,onSelectItem:r}=this.props;t||r(e)}),s(this,"handleMouseEnter",e=>()=>{let{disabled:t,indexManager:r}=this.props;t||r.updateIndex(e)}),s(this,"handleMouseLeave",()=>{let{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),s(this,"renderItems",(e,t)=>{let{renderItem:r}=this.props,{selectedIndex:i}=this.state,{row:o,section:s}=i||{},{customProps:l={},items:d,renderItem:c}=e,{isDisabled:u}=l,h=t===s,p=c||r;return p&&d.map((e,r)=>{let i=u?.(e)??!1,s=h&&r===o;return(0,a.jsx)(n.xu,{ref:!i&&s?this.setSelectedItemRef:null,"data-test-id":"board-selection",children:i?p({item:e,hovered:s,sectionProps:l}):(0,a.jsx)(n.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter({section:t,row:r}),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:p({item:e,hovered:s,sectionProps:l})})},r)})}),s(this,"renderSections",()=>{let{renderSectionHeader:e,sections:t}=this.props;return t.map((t,r)=>(0,a.jsxs)(n.xu,{children:[e&&e(t,r),this.renderItems(t,r)]},r))});let{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){let{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){let e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;let r=e.getBoundingClientRect(),i=r.top,n=r.bottom,o=t.getBoundingClientRect(),a=o.top,s=o.bottom;n>=s?e.scrollIntoView(!1):i<=a&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){let{grow:e=!1,maxHeight:t,fetchMore:r}=this.props;return(0,a.jsx)(o.Z,{fetchMore:r,children:({setRef:r,onScroll:i})=>(0,a.jsx)(n.xu,{ref:e=>{this.containerRef=e,r(e)},flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",children:this.renderSections()})})}}},274495:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(785893);let o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,n.jsx)(i.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,n.jsx)(i.xu,{dangerouslySetInlineStyle:o,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s({disabled:e,name:t,onClick:r,size:o,submitting:s,text:l}){return(0,n.jsxs)(i.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[s&&(0,n.jsx)(a,{}),(0,n.jsx)(i.zx,{color:"red",disabled:e||s,name:t,onClick:r,size:o,text:l,type:"submit"})]})}},876921:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(667294),n=r(702664),o=r(883119),a=r(356997),s=r(898781),l=r(349700),d=r(773285),c=r(815613),u=r(230903),h=r(461773),p=r(777906),_=r(785893);function m({isSelf:e,showVerified:t=!1,user:r={},onFollowChange:m}){let[g,f]=(0,i.useState)(r.explicitly_followed_by_me||!1),[b,y]=(0,i.useState)(!1),v=(0,n.useDispatch)(),x=(0,s.ZP)(),{checkExperiment:w}=(0,d.F)(),P=()=>{y(!1),v((0,h.fv)(r.id)),f(!1),m&&m(r,!1)},{verified_identity:S,full_name:C,is_verified_merchant:j,is_private_profile:A,explicitly_followed_by_me:E,username:T}=r,I=S?.verified,k=r.image_medium_url||r.image_small_url;return(0,_.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,children:[b&&(0,_.jsx)(u.Z,{firstName:C??"",handleUnfollowUser:P,onDismiss:()=>{y(!1)}}),(0,_.jsx)(o.xu,{flex:"grow",paddingX:1,children:(0,_.jsx)(o.Tg,{href:`/${T}/`,children:(0,_.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,_.jsx)(o.xu,{width:50,children:(0,_.jsx)(a.qE,{name:(0,l.nk)(x._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:C}).join(" "),size:"fit",src:k??""})}),(0,_.jsx)(o.xv,{weight:"bold",children:t&&(j||I)?(0,_.jsx)(p.Z,{badgeSize:"sm",badgeSpacing:2,fullName:C??"",isVerifiedIdentity:I,isVerifiedMerchant:j}):C}),A&&w("web_update_u16_private_profile").anyEnabled&&(0,_.jsx)(o.xu,{children:(0,_.jsx)(o.JO,{accessibilityLabel:x._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),color:"dark",icon:"lock",inline:!0})})]})})}),(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!A||E)&&(0,_.jsx)(c.Z,{followEventType:45,id:r.id,isFollowed:g,isUserMe:!!e,onFollow:e=>{v((0,h.ZN)(e)),f(!0),m&&m(r,!0)},onUnfollow:()=>{A&&w("web_update_u16_private_profile").anyEnabled?y(!0):P()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},865607:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,Z:()=>c});var i=r(667294),n=r(883119),o=r(898781),a=r(966113),s=r(785893);let l={xs:12,sm:16,md:20,lg:24};function d({children:e}){let t=(0,o.ZP)();return(0,s.jsx)(n.u,{link:(0,s.jsx)(n.rU,{href:a.vBy,target:"blank",children:(0,s.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function c({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:r,showText:a,size:c}){let u=(0,o.ZP)(),h=(0,s.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(n.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[c]}),a&&(0,s.jsx)(n.xu,{marginStart:2,children:(0,s.jsx)(n.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(i.Fragment,{children:[r&&!e&&(0,s.jsx)(d,{children:h}),r&&e&&h,t&&!r&&(0,s.jsx)(n.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[c]})]})}},654874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var i=r(667294),n=r(883119),o=r(356997),a=r(898781),s=r(564194),l=r(773285),d=r(391143),c=r(940882),u=r(66699),h=r(19121),p=r(65675),_=r(548523),m=r(785893);function g({bubble:e,contextLogData:t,disableTabIndex:r,handleReport:g,height:f,imgSignature:b,isHovered:y,onClick:v,onMouseEnter:x,onMouseLeave:w,referringSource:P,searchBoxRenderStopwatch:S,showFlag:C,slotIndex:j,storyId:A,viewParameter:E,viewType:T,width:I}){let k=(0,a.ZP)(),z=(0,h.Z)(),{id:D,action:R,aux_fields:B,cover_images:O,dominant_colors:Z,identifier_icon_type:L,title:M,story_category:N,curator:F}=e,{checkExperiment:U}=(0,l.F)(),{isAuth:H}=z,$="",V="";if(H&&5===T){$=U("blp_explore_bubble_image_size").group;let e=$.split("_");e.length>1&&$.startsWith("enabled")&&(V=e[1])}let W=O&&O[0]&&($.startsWith("enabled")&&V?O[0][V]:O[0]["280x280"]||O[0]["236x"]),G=(0,u.Z)(M&&M.format||"",M&&M.args||{}),q=Z&&Z.length?Z[0]:"gray",K=R?.url||(0,d.Z)({storyCategory:N,query:G,referringSource:P,bubbleId:D,storyId:A,title:M.format,pinId:B?.image_pin_id});return(0,m.jsx)(s.Z,{contextLogData:{story_id:A,...t},impressionAuxFields:{storyCategory:N,storyIdStr:A},impressionType:"Article",loggingId:D,slotIndex:j,viewParameter:E,viewType:T,children:(0,m.jsx)(p.Z,{backgroundColor:q,coverImage:W,disableTabIndex:r,height:f,id:D,isHovered:y,onClick:v,onMouseEnter:x,onMouseLeave:w,searchBoxRenderStopwatch:S,url:K,width:I,children:({isHovered:e})=>(0,m.jsxs)(i.Fragment,{children:[F&&26!==N&&(0,m.jsx)(n.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,m.jsx)(o.qE,{name:F.full_name,outline:!0,size:"xs",src:F.image_small_url})}),L&&L!==c.J&&(0,m.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,m.jsx)(n.JO,{accessibilityLabel:k._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,c.Z)(L),size:12})}),(0,m.jsx)(n.xu,{alignItems:26===N?"end":"center","data-test-id":"discover-bubble",display:"flex",height:f,justifyContent:"center",padding:3,position:"absolute",top:!0,width:I||"100%",children:(0,m.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[f>200?(0,m.jsx)(n.X6,{align:"center",color:"light",size:"500",children:G}):(0,m.jsx)(n.xv,{align:"center",color:"light",weight:"bold",children:G}),F&&26===N&&(0,m.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,m.jsx)(n.xu,{marginEnd:2,children:(0,m.jsx)(o.qE,{name:F.full_name,outline:!0,size:"xs",src:F.image_small_url})}),(0,m.jsx)(n.xv,{color:"light",size:"100",children:F.full_name})]})]})}),z.isAuth&&z.isEmployee&&C?(0,m.jsx)(n.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,m.jsx)(_.Z,{handleReport:g,imgSignature:b||"",isVisible:e})}):null]})})})}},65675:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,Z:()=>s});var i=r(667294),n=r(883119),o=r(785893);let a={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:r,disableTabIndex:s,height:l,id:d,isHovered:c,onClick:u,onMouseDown:h,onMouseEnter:p,onMouseLeave:_,searchBoxRenderStopwatch:m,url:g,width:f}){let[b,y]=(0,i.useState)(!1),v=()=>{p?p():y(!0)},x=()=>{_?_():y(!1)},w=c||b,P=w?a.hoverOverlay:a.bubbleOverlay;return(0,o.jsx)(n.Tg,{href:g,onBlur:x,onFocus:v,onMouseDown:h,onMouseEnter:v,onMouseLeave:x,onTap:()=>{u?.(d)},rounding:4,tabIndex:s?-1:void 0,children:(0,o.jsx)(n.zd,{height:l,rounding:4,width:f||"100%",children:r?.url?(0,o.jsxs)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:r.height??1,naturalWidth:r.width??1,onLoad:()=>{m?.stop()},role:"presentation",src:r.url,children:[(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:w}):t]}):(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},92331:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(883119),n=r(407043),o=r(444445),a=r(564194),s=r(676142),l=r(940882),d=r(654874),c=r(785893);let u=o.yF;function h({contextLogData:e,bubbles:t,id:r,referringSource:o,slotIndex:h,storyType:p,title:_,titleIcon:m,viewType:g,viewParameter:f}){let{logContextEvent:b}=(0,n.v)(),y=t.map(({type:e,id:t})=>e+":"+t).join("|"),v={story_type:p,...e,content_ids:y};return(0,c.jsx)(a.Z,{componentType:200,contextLogData:v,impressionType:"Story",loggingId:r,objectIdStr:r,slotIndex:h,viewParameter:f,viewType:g,children:(0,c.jsxs)(i.xu,{children:[_&&(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof m&&m!==l.J&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,c.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:(0,l.Z)(m),size:14})}),(0,c.jsx)(i.xv,{weight:"bold",children:(0,s.Z)(_)})]}),t.map((e,t)=>(0,c.jsx)(i.xu,{flex:"none",paddingY:1,children:(0,c.jsx)(d.Z,{bubble:e,contextLogData:v,height:103,onClick:e=>{b({event_type:101,object_id_str:e,view_type:g,view_parameter:f,component:200,aux_data:v})},referringSource:o,slotIndex:t,storyId:r,viewParameter:f,viewType:g,width:u})},`bubble-${e.id}`))]})})}},548523:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(667294),n=r(883119),o=r(186656),a=r(121151),s=r(499128),l=r(898781),d=r(343341);let c={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}};var u=r(785893);function h(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{hovered:!1}),h(this,"handleMouseEnter",()=>this.setState({hovered:!0})),h(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){let{backgroundHaloSize:e,onClick:t,color:r="subtle"}=this.props,i=Object.freeze({height:e,width:e}),o={border:0,display:"block",background:"transparent",cursor:"pointer",...c.buttonFocus},a={...c.pog,...c.transparent,...this.state.hovered?c.transparentHovered:{}},s={...i,...a};return(0,u.jsx)("button",{onClick:e=>t&&t({event:e}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:o,type:"button",children:(0,u.jsx)("div",{style:s,children:(0,u.jsx)(n.xu,{rounding:"circle",children:(0,u.jsx)(n.JO,{accessibilityLabel:"",color:r,icon:"flag",size:e/2})})})})}}var _=r(116674);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{showModal:!1,reportType:null}),m(this,"handleDismiss",()=>this.setState({showModal:!1})),m(this,"handleClick",()=>{let{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),m(this,"reportSuggestionImage",async()=>{let{imgSignature:e,reportImage:t}=this.props;this.setState({showModal:!1});let r=await (0,o.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}}),{id:i,node_id:n}=r.resource_response.data;t({id:i,nodeId:n})}),m(this,"reportSuggestionText",()=>{let{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({hideToast:e})=>(0,u.jsx)(s.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})),this.handleDismiss())}),m(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){let{showModal:e}=this.state;return(0,u.jsxs)(i.Fragment,{children:[this.props.isVisible&&(0,u.jsx)(p,{backgroundHaloSize:24,onClick:this.showModal}),e&&(0,u.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,u.jsxs)(n.xu,{children:[(0,u.jsx)(n.xu,{padding:5,children:(0,u.jsx)(n.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,u.jsxs)(n.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,u.jsxs)(n.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,u.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,u.jsx)(n.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,u.jsx)(n.xu,{flex:"grow",children:(0,u.jsx)(n.__,{htmlFor:"textType",children:(0,u.jsx)(n.xu,{paddingX:2,children:(0,u.jsx)(n.xv,{children:"Report search text"})})})})]}),(0,u.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,u.jsx)(n.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,u.jsx)(n.xu,{flex:"grow",children:(0,u.jsx)(n.__,{htmlFor:"imageType",children:(0,u.jsx)(n.xu,{paddingX:2,children:(0,u.jsx)(n.xv,{children:"Report search image"})})})})]})]}),(0,u.jsx)(n.iz,{}),(0,u.jsxs)(n.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,u.jsx)(n.xu,{margin:2,children:(0,u.jsx)(n.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,u.jsx)(n.xu,{margin:2,children:(0,u.jsx)(n.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion')})})]})]})]})})]})}}function f(e){let t=(0,l.ZP)(),{reportImage:r}=(0,_.f)();return(0,u.jsx)(g,{...e,i18n:t,reportImage:r,toastManagerContext:(0,d.F9)()})}},608478:(e,t,r)=>{"use strict";r.d(t,{b:()=>u,v:()=>h});var i=r(667294),n=r(616550),o=r(425288),a=r(909499),s=r(826067),l=r(50286),d=r(785893);let{Provider:c,useHook:u}=(0,o.Z)("Search"),h=({children:e,value:t})=>{let r=function(){let{search:e}=(0,n.TH)(),{scope:t}=(0,n.UO)(),r=(0,l.HG)(),{auto_correction_disabled:i="",b_id:o,category:d,cover_pin_sig:c,deb_d:u,domains:h,filters:p,interest_id:_,price_max:m,price_min:g,q:f,query_pin_sigs:b,rs:y,tab:v,user:x,guided_search_query:w}=(0,s.mB)(e);return{autoCorrectionDisabled:"true"===i.toLowerCase(),bubbleId:o,category:d,coverPinSig:c,currentlyAppliedFiltersParamTerm:p,debD:u,domains:h,guidedSearchQuery:w,interestId:_,personalizationPinSig:b,placementId:(0,a.Hd)(t,r),priceMax:m,priceMin:g,query:f,rs:y,scope:t,tab:v||"",user:x}}(),o=(0,i.useMemo)(()=>({...r,...t}),[r,t]);return(0,d.jsx)(c,{value:o,children:e})}},730654:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(320415),n=r(773285),o=r(440102),a=r(785893);let s=[503259,500410,500688],l=({placementId:e})=>{let t=(0,o.ZP)();return(0,a.jsx)(i.Z,{eligibleIds:s,placementId:e,children:({complete:e,dismiss:r})=>(t("control",e,r),null)})},d=({placementId:e})=>{let{checkExperiment:t}=(0,n.F)(),{anyEnabled:r}=t(o.C7);return r?null:(0,a.jsx)(l,{placementId:e})}},534991:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(667294),n=r(343341),o=r(407043),a=r(320415),s=r(499128),l=r(785893);let d=e=>{let{logContextEvent:t}=(0,o.v)();return(0,l.jsx)(a.Z,{eligibleIds:e.eligibleIds,eligibleTypes:[10],placementId:e.placementId,children:({complete:r,dismiss:i,experience:{display_data:n}})=>{let o=n.link||e.linkUrl,a=()=>{e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})};return(0,l.jsx)(s.ZP,{duration:n.duration,href:o,onClick:()=>{r(),e.onClick&&e.onClick(),e.shouldLogClicks&&a()},onHide:()=>{e.onHide(),e.completionOnDismissal?r():i()},text:n.text||""})}})};function c(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends i.Component{constructor(...e){super(...e),c(this,"componentDidMount",()=>{let{delay:e=2e3}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){let{toastManagerContext:e,completionOnDismissal:t,placementId:r,experienceIds:i}=this.props;e.showOneToast(({hideToast:e})=>(0,l.jsx)(d,{completionOnDismissal:t,experienceIds:i,onHide:e,placementId:r,shouldLogClicks:!1}))}render(){return null}}function h(e){return(0,l.jsx)(u,{...e,toastManagerContext:(0,n.F9)()})}c(u,"defaultProps",{completionOnDismissal:!1})},858521:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,b:()=>s});var i=r(667294);let n=(0,i.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}});var o=r(785893);function a({children:e}){let[t,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),h=(0,i.useMemo)(()=>({inboxButton:t,setInboxButton:r,profileInboxButton:a,groupBoardMessageButton:c,setProfileInboxButton:s,isUnblockToast:l,setIsUnblockToast:d,setGroupBoardMessageButton:u}),[t,a,l,c]);return(0,o.jsx)(n.Provider,{value:h,children:e})}function s(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},987318:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,o:()=>n});var i=r(425288);let{Provider:n,useHook:o}=(0,i.Z)("LimitedLogin")},945698:(e,t,r)=>{"use strict";r.d(t,{N4:()=>o,Wh:()=>i,hr:()=>n});let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},927383:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(898781),n=r(50286),o=r(987318),a=r(945698);let s=()=>{let e=(0,i.ZP)(),t=(0,n.HG)(),{viewer:r,loginForMore:s,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:d}=(0,o.H)(),c="LIMITED_LOGIN"===r.type;return c?({modalHeader:r,nextLocation:i})=>n=>{let o=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?o=n:n.event&&(o=n.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),s?.setVisible(!0),l?.setText(r||(t?a.hr(e):a.Wh(e))),i&&d?.setRoute(i)}:({fn:e})=>e}},128983:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f,d:()=>g});var i=r(616550),n=r(98196),o=r(733398),a=r(773285),s=r(780280),l=r(784590),d=r(700226),c=r(268807),u=r(648284),h=r(909499),p=r(50286),_=r(411465),m=r(608478);let g=({isAuthenticated:e,isInitialPage:t,pageSizeTunedExpGroup:r})=>{let i=e?{page_size:"14"}:{page_size:"25"};return!t&&r&&r.includes("enabled")&&(i={first_page_size:r.split("_")[1],...i}),i};function f(){let e;let{autoCorrectionDisabled:t,bubbleId:r,category:f,currentlyAppliedFiltersParamTerm:b,domains:y,guidedSearchQuery:v,inGlobalSearch:x,personalizationPinSig:w,priceMax:P,priceMin:S,query:C,rs:j,scope:A,user:E}=(0,m.b)(),T=(0,n.M)(),{filterState:I}=T||{},{isAuthenticated:k}=(0,s.B)(),z=(0,p.HG)(),D=!k||!z,R=(0,_.Z)(),{checkExperiment:B}=(0,a.F)(),{search:O}=(0,i.TH)(),Z=D;D&&(Z=!!k&&!B("unify_search_resource_auth_mweb").anyEnabled);let L=null;if(!z){let e=B("mweb_search_first_page_size_optimization").group;L=g({isAuthenticated:k,isInitialPage:R,pageSizeTunedExpGroup:e})}if(x)e=(0,u.Ht)({autoCorrectionDisabled:t,filters:b,selectedPinImgSig:w,query:C,scope:A});else{let i={autoCorrectionDisabled:t,bubbleId:r,filters:b,guidedSearchQuery:v,selectedPinImgSig:w,query:C,rs:j,scope:A,user:E};i.appliedFilters=I?(0,o.Ax)(I.appliedFilters,I.models):null,i.appliedProductFilters=(0,d.Z)({category:f,domains:y,minPrice:S,maxPrice:P}),D&&(i.domains=y,i.priceMin=parseInt(S,10)??void 0,i.priceMax=parseInt(P,10)??void 0,i.pageSize=L?.page_size,i.firstPageSize=L?.first_page_size,i.topPinId=(0,c.Z)(O,A)),e=(0,u.Ht)(i)}let M=A===h.lw.USERS&&!D||Z;return(0,l.Z)(M?null:e)}},310314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var i=r(667294),n=r(883119),o=r(898781),a=r(780280),s=r(995228),l=r(402163),d=r(785893);function c({height:e,onCtaDidLoad:t,width:c}){let u=(0,o.ZP)(),[h,p]=(0,i.useState)(null),{locale:_}=(0,a.B)(),m=(0,l.default)(_),g=e=>{let t=(0,i.lazy)(()=>r(746377)(`./${e}`));p(t)};(0,i.useEffect)(()=>{m&&"none"!==m&&g(m)},[m]),(0,i.useEffect)(()=>{h&&t()},[h]);let f=u._('Open Pinterest app, then go to the search tab, then tap the camera icon located in the search bar to scan the Pincode', 'PincodeCTA.instruction', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label'),b=(0,d.jsx)(n.xv,{align:"center",children:f});return"none"===m?b:h?(0,d.jsx)(s.Z,{fallback:b,children:(0,d.jsx)(h,{height:e,title:f,width:c})}):(0,d.jsx)(n.$j,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},402163:(e,t,r)=>{"use strict";function i(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}r.r(t),r.d(t,{default:()=>i})},558986:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>j});var i,n,o=r(667294),a=r(883119),s=r(407043),l=r(898781);function d(e){return new Promise((t,r)=>{let i=new XMLHttpRequest;i.ontimeout=r,i.onreadystatechange=()=>{if(4!==i.readyState)return;if(200!==i.status){r();return}let e=new FileReader;e.onloadend=()=>{let{result:i}=e;"string"==typeof i?t(i.split(/,/)[1]):r()},e.readAsDataURL(i.response)},i.open("GET",e,!0),i.timeout=3e4,i.responseType="blob",i.send()})}function c(e,t){return new Promise((r,i)=>{let n=document.createElement("div");n.innerHTML=e.innerHTML,(function e(t,r){if(!(t instanceof Element))return Promise.resolve(t);if(t instanceof window.SVGImageElement)return function(e,t){let r=e.href.baseVal;if(r.startsWith("data:"))return Promise.resolve();let i=t?t(r):r;return Promise.resolve(i).then(d).then(e=>`data:${function(e){let t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(i)};base64,${e}`).then(t=>new Promise((r,i)=>{e.onerror=i,e.href.baseVal=t,window.requestAnimationFrame(r)}))}(t,r);let i=Array.from(t.childNodes);return Promise.all(i.map(t=>e(t,r)))})(n,t).then(()=>{let t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>r(t))},t.onerror=i;let o=n&&n.querySelector("svg");o&&(/^[0-9]+$/.test(o.getAttribute("width")||"")||o.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(o.getAttribute("height")||"")||o.setAttribute("height",`${e.scrollHeight}`));let a=n.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(a.trim())}`})})}var u=r(310314),h=r(785893);function p({getThumbnailImageSrcSet:e,images:t,onTouch:r}){let i=(0,l.ZP)();return(0,h.jsx)(a.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,n)=>(0,h.jsx)(a.xu,{padding:1,children:(0,h.jsx)(a.st,{children:(0,h.jsx)(a.iP,{fullWidth:!1,onTap:()=>r("logo"===t?"logo":n-1),rounding:2,children:(0,h.jsx)(a.zd,{height:85,rounding:"circle",width:85,children:"logo"===t?(0,h.jsx)(a.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:85}):(0,h.jsx)(a.Ee,{alt:i._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??"",srcSet:e&&e(t.url??"")})})})})},"logo"===t?t:t.url))})}var _=r(784590),m=r(40432);let g=m.x_d,f=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
  <svg xmlns="http://www.w3.org/2000/svg" width="${i||222}" height="${i||222}" x="${n||0}" y="${n||0}" viewBox="0 0 222 222">
    <path d="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z" fill="${g}" fill-rule="evenodd" />
  </svg>`.trim())}`;function b(e,t,r){return`
    <image id="image"
      x="${100+("right"===t?300:0)}"
      y="${100+("bottom"===r?300:0)}"
      width="${600/("row"===t?1:2)}"
      height="${600/("column"===r?1:2)}"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xlink:href="${e}"
      preserveAspectRatio="xMidYMid slice"
    />`}class y extends o.Component{constructor(...e){var t,r,i;super(...e),t="handleFetchChange",r=()=>{let{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidMount(){let{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){let{className:e,imageUrls:t,size:r,pincodeImageResource:{data:i,isLoaded:n}}=this.props;return(0,h.jsxs)(a.kC,{alignItems:"center",height:r,justifyContent:"center",width:r,children:[n&&!!i&&(0,h.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:function(e,t){let r=function(e){switch(e.length){case 0:case 1:return;case 2:return[b(e[0],"left","column"),b(e[1],"right","column")].join("");case 3:return[b(e[0],"left","column"),b(e[1],"right","top"),b(e[2],"right","bottom")].join("");default:return[b(e[0],"left","top"),b(e[1],"right","top"),b(e[2],"left","bottom"),b(e[3],"right","bottom")].join("")}}(t);return r?e.replace(/<image[^>]*>/,r):e}(i,t)},style:{width:r,height:r}}),(0,h.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!i})]})}}function v(e){let t=(0,l.ZP)(),r=(0,_.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||f}}});return(0,h.jsx)(y,{...e,i18n:t,pincodeImageResource:r})}function x(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let w="pincodeMain",P="pincodeCTA",S=(e,t)=>{let r=document.createElement("canvas");r.width=3544,r.height=3544;let i=Math.round(.1*r.width),n=Math.round(.05*r.width),o=r.width-2*i,a=r.width-2*n,s=r.height-o,[l,d]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],c=r.getContext("2d");return c.fillStyle="#fff",c.fillRect(0,0,r.width,r.height),c.drawImage(e,i,0,o,o),c.drawImage(t,(r.width-l)/2,o+(r.height-o-d)/2,l,d),r};class C extends o.PureComponent{constructor(...e){super(...e),x(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),x(this,"getCustomHeroImages",()=>{let{images:e,customizable:t}=this.props,{pickedImageIndex:r}=this.state;if(!t)return e;let i="logo"!==r&&e[r];return i?[i]:[]}),x(this,"normalizeUrl",e=>{let{getMainImageURL:t}=this.props;return(t||(e=>e))(e).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),x(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),x(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),x(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),x(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),x(this,"downloadPincodeImage",()=>{let{previewNode:e}=this,{ctaIsLoaded:t,isFetchingPincodeImage:r,isDownloading:i}=this.state;if(!e||!t||r||i)return;let n=e.querySelector(`.${w}`),o=e.querySelector(`.${P}`);if(!n||!o)return;let{getDownloadImageURL:a,id:s,logContextEvent:l}=this.props;l({event_type:7078,component:13141,object_id_str:s}),this.setState({isDownloading:!0}),Promise.all([c(n,a),c(o)]).then(e=>{let[t,r]=e;return S(t,r)}).then(e=>{var t;return t=`pincode_${this.props.id}.png`,new Promise((r,i)=>{new Promise((t,r)=>{if(e.toBlob){e.toBlob(t);return}let i="";try{i=e.toDataURL("image/png")}catch(e){r()}let n=window.atob(i.split(",")[1]),{length:o}=n,a=new Uint8Array(o);for(let e=0;e<o;e+=1)a[e]=n.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))}).then(e=>window.URL.createObjectURL(e)).then(e=>{let i=document.createElement("a");i.download=t,i.href=e,i.style.display="none",window.document.body.appendChild(i),window.requestAnimationFrame(()=>{let t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),i.removeAttribute("href"),i.removeEventListener("click",t),window.document.body.removeChild(i),r()})};i.addEventListener("click",t),i.click()})}).catch(i)})}).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){let{id:e,isLoadingImages:t,images:r,getThumbnailImageSrcSet:i,customizable:n}=this.props,{ctaIsLoaded:o,errorFlyoutIsOpen:s,isFetchingPincodeImage:l,isDownloading:d,isPickingHeroImage:c}=this.state;return c?(0,h.jsx)(a.xu,{color:"default",padding:4,rounding:2,width:350,children:(0,h.jsxs)(a.xu,{children:[(0,h.jsx)(a.xu,{paddingY:1,children:(0,h.jsx)(a.X6,{lineClamp:1,size:"500",children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,h.jsx)(a.iz,{}),(0,h.jsx)(p,{getThumbnailImageSrcSet:i,images:r,onTouch:this.handleSelectImage}),(0,h.jsx)(a.xu,{padding:1,children:(0,h.jsx)(a.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker')})})]})}):(0,h.jsx)(a.xu,{color:"default",marginBottom:4,paddingX:4,rounding:2,width:350,children:(0,h.jsxs)(a.xu,{children:[(0,h.jsx)(a.xu,{ref:e=>{this.previewNode=e},children:(0,h.jsxs)(a.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[t?(0,h.jsx)(a.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,h.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,h.jsx)(v,{className:w,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url??"")),onFetchingChange:this.handleFetchChange,size:230}),(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,h.jsx)("div",{className:P,children:(0,h.jsx)(u.default,{height:78,onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300})})})]})}),(0,h.jsxs)(a.xu,{marginTop:2,padding:1,children:[n&&r.length>0&&(0,h.jsx)(a.xu,{paddingY:1,children:(0,h.jsx)(a.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image')})}),o&&(0,h.jsxs)(a.xu,{paddingY:1,children:[(0,h.jsx)(a.xu,{ref:e=>{this.downloadButton=e},children:(0,h.jsx)(a.zx,{color:"red",disabled:t||l||d,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image')})}),s&&(0,h.jsx)(a.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),shouldFocus:!1,size:"sm",children:(0,h.jsx)(a.xu,{padding:3,children:(0,h.jsx)(a.qb,{title:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported'),type:"problem"})})})]})]})]})})}}function j(e){let{logContextEvent:t}=(0,s.v)(),r=(0,l.ZP)();return(0,h.jsx)(C,{...e,i18n:r,logContextEvent:t})}},601961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(667294),n=r(883119),o=r(407043),a=r(121151),s=r(898781),l=r(785893);function d({children:e,objectId:t,onHide:r}){let{logContextEvent:d}=(0,o.v)(),c=(0,s.ZP)(),u={component:13141,object_id_str:t};return(0,i.useEffect)(()=>{d({event_type:6359})},[t]),(0,l.jsx)(a.ZP,{accessibilityModalLabel:c._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:c._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{r(),d({event_type:6358,...u})},size:"sm",children:(0,l.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},758119:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(898781),o=r(349700),a=r(19121),s=r(785893);function l(e){let t=e?.imageMediumUrl??e?.image_medium_url??"";return{name:e?.fullName??e?.full_name??"",src:"https://s.pinimg.com/images/user/default_75.png"===t?void 0:t}}function d({board:e,forceViewer:t,isCompact:r,ownerOnly:d}){let c=(0,n.ZP)(),u=(0,a.Z)(),h=d?[l(e?.owner)]:(function(e,t,r){let{collaborated_by_me:i,collaborating_users:n,owner:o}=e??{},a=n??[],s=[o];if(i||r){let e=a.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){let t=a.splice(e,1)[0];s.push(t)}else s.push(t)}let l=[...a].sort((e,t)=>(e.full_name??"")>(t.full_name??"")?1:(t.full_name??"")>(e.full_name??"")?-1:0);return[...s,...l]})(e,u,t).map(l),p=h.slice(0,3).map(e=>e.name),_="";switch(h.length){case 3:_=(0,o.Wc)(`${c._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${p[0]??""}`,second:`${p[1]??""}`,last:`${p[2]??""}`});break;case 2:_=(0,o.Wc)(`${c._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${p[0]??""}`,second:`${p[1]??""}`});break;default:_=p.join(", ")}let m=h.length>3?(0,o.Wc)(`, ${c.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', h.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')}`,{userNames:_,leftCount:`${h.length-3}`}):(0,o.Wc)(`, ${c._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:_});return(0,s.jsx)(i.HE,{accessibilityLabel:m,collaborators:h,size:r?"xs":"sm"})}},505132:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(121151),o=r(898781),a=r(780280),s=r(553751),l=r(785893);function d(e){let t=(0,o.ZP)(),{onSectionCreate:r,onClose:d,selectedBoard:c,useLayer:u=!0}=e,{isRTL:h}=(0,a.B)(),p=u?n.ZP:i.u_,_=(0,l.jsx)(i.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(i.xu,{maxWidth:400,children:(0,l.jsx)(i.X6,{align:"center",size:"500",children:t._('Add section', 'Modal header for adding a section', 'Modal header for adding a section')})}),(0,l.jsx)(i.xu,{left:h,paddingX:6,paddingY:5,position:"absolute",right:!h,top:!0,children:(0,l.jsx)(i.hU,{accessibilityLabel:t._('Close', 'CreateSection.Modal.Icon', 'Icon to close section create modal'),icon:"cancel",iconColor:"darkGray",onClick:d,size:"lg"})})]})});return(0,l.jsx)(p,{accessibilityModalLabel:t._('Add a section to the board', 'modal to add a section to a board', 'modal to add a section to a board'),heading:_,onDismiss:d,size:"sm",children:(0,l.jsx)(i.xu,{color:"default",display:"flex",rounding:2,children:(0,l.jsx)(s.Z,{board:c,completeCreateSectionAction:r,onClearModal:d,positionRelative:!0,showTitle:!1})})})}},239682:(e,t,r)=>{"use strict";function i(e,t,r){return{privacy_filter:t?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}r.d(t,{Z:()=>i})},59644:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t)=>`${e}:${t||""}`},240265:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,Q:()=>l});var i=r(414327),n=r(59644),o=r(956800);let a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:r,username:i},n)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...n?{orbac_subject_id:n}:Object.freeze({})})},l=e=>a.reduce((t,r)=>{let a=[(0,o.N8)("profileBoards",(0,n.Z)(e,r))];return[!0,!1].forEach(t=>{[!0,!1].forEach(n=>{a.push((0,i.jB)(s.name,s.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:n})))})}),t.concat(a)},[])},408329:(e,t,r)=>{"use strict";r.d(t,{Fj:()=>l,JI:()=>d,aG:()=>s});var i=r(667294),n=r(785893);let o=(0,i.createContext)(),a=(0,i.createContext)();function s({children:e}){let[t,r]=(0,i.useState)(!1);return(0,n.jsx)(o.Provider,{value:t,children:(0,n.jsx)(a.Provider,{value:r,children:e})})}function l(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function d(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},41345:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(667294),n=r(439333),o=r(113674),a=r(252929),s=r(386872),l=r(829407),d=r(785893);function c({onDismiss:e,userId:t}){let{showErrorToast:r,showSuccessToast:c}=(0,s.Z)(),[u,h]=(0,i.useState)(null);(0,l.Z)(()=>{let e=async()=>{try{let e=await (0,o.Z)(t);e?h(e):r()}catch{r()}};e()});let p=async({reasonKey:i})=>{try{await (0,a.Z)(t,{reason:i}),e(),c()}catch{e(),r()}};return(0,d.jsx)(n.ZP,{handleSubmitReport:p,objectToReport:{type:"user",id:t},onDismiss:e,reportingReasons:u})}},230903:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(121151),o=r(898781),a=r(349700),s=r(50286),l=r(785893);function d({onDismiss:e,firstName:t,handleUnfollowUser:r}){let d=(0,o.ZP)(),c=(0,s.HG)(),u=(0,a.nk)(d._('Unfollow {{ firstName }}?', 'unfollowUser.modal.header', 'header text asking if we should unfollow the user. firstName: name of the user to unfollow'),{firstName:t}).join(""),h=d._('You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.', 'unFollowUser.modal.description', 'explanation of what removing another user means'),p=d._('Cancel', 'unfollowUser.modal.cancel', 'Cancel unfollowing a user'),_=d._('Unfollow', 'unfollowUser.modal.button.unfollow', 'Button to confirm removing a user');return c?(0,l.jsx)(n.ZP,{accessibilityModalLabel:u,footer:(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{fullWidth:!0,onClick:e,size:"lg",text:p})}),(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:r,size:"lg",text:_})})]}),heading:u,onDismiss:e,role:"alertdialog",size:"md",children:(0,l.jsx)(i.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,l.jsx)(i.xv,{children:h})})}):(0,l.jsxs)(n.ZP,{accessibilityModalLabel:u,mobileHideCloseIcon:!0,onDismiss:e,type:"unFollow_button",children:[(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,l.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:u})}),(0,l.jsx)(i.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,l.jsx)(i.xv,{children:h})}),(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{fullWidth:!0,onClick:e,size:"md",text:p})}),(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:r,size:"md",text:_})})]})]})}},678638:(e,t,r)=>{"use strict";r.d(t,{$n:()=>y,A4:()=>P,CE:()=>_,ET:()=>T,F$:()=>b,Kw:()=>A,Nv:()=>j,PA:()=>w,X_:()=>E,d9:()=>v,e1:()=>p,o4:()=>C,vB:()=>g});var i=r(782677),n=r(214494),o=r(186656),a=r(379725),s=r(414327),l=r(254176),d=r(956800),c=r(563339),u=r(483025),h=r(492583);function p(e){return t=>{let{boardId:r,sectionIdBefore:i,sectionIdAfter:n,sourceSectionId:a,targetSectionId:s}=e;t((0,d._f)({feedType:h.Z.BOARD_SECTIONS,feedId:r,itemType:"boardsection",sourceItemId:a,targetItemId:s}));let l=Object.freeze({});return i&&(l={...l,section_before:i}),n&&(l={...l,section_after:n}),(0,o.Z)({url:`/v3/board/sections/${a}/reorder/`,method:"POST",data:l})}}function _(e,t){return r=>r((0,a.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function m(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function g({boardId:e,sourceBoardId:t="",sourceSectionId:r="",name:i,nameSource:o,pinImport:a,initialPinIds:u=[]},p,_,g){let f=0;"RECOMMENDATION"===o?f=1:"EDITED_RECOMMENDATION"===o&&(f=2);let b={board_id:e,initial_pins:a&&!a.all?a.pinIds:u,name:i,name_source:f,..._?{orbac_subject_id:_}:Object.freeze({})};return i=>n.Z.create("BoardSectionResource",b).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{g({event_type:7100,object_id_str:n.id}),i(m(e,n)),i((0,d.vX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),i((0,l.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:_}));let{all:o,pinIds:u}=a||{all:!1,pinIds:[]};return o?new Promise((o,a)=>i((0,c.Z)({inverseSelection:!0,selectedPinIds:u,source:{boardId:t||e,sectionId:r||null},target:{boardId:e,sectionId:n.id}},p)).then(()=>o(n)).catch(a)):(u.length>0&&i((0,d.N8)(h.Z.BOARDFEED,e)),n)})}function f(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function b(e,t,r){return i=>n.Z.create("BoardSectionEditResource",{section_id:t,...r?{orbac_subject_id:r}:Object.freeze({})}).callDelete({showError:!1}).then(()=>Promise.all([i(f(e,t)),i((0,d.EX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,l.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:r}))]))}function y(e,t,r,i){return o=>n.Z.create("BoardSectionEditResource",{section_id:t,title:r,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then(t=>{let r=t.resource_response.data;return o(t=>{let i=r.board;i&&i.id!==e?(t(f(e,r.id??"")),t((0,d.EX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[r.id??""],itemType:"boardsection"})),t((0,l.Tq)(e,"pin_count")),t(m(i.id??"",r)),t((0,d.vX)({feedId:i.id??"",feedType:h.Z.BOARD_SECTIONS,itemIds:[r.id??""],itemType:"boardsection"})),t((0,l.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:r}})}),o((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:i})),r})}function v(e,t,r){return i=>(0,o.Z)({url:`/v3/board/sections/${t}/merge/${r}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(n=>Promise.all([i(f(e,t)),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e})),i(_(r)),i((0,d.N8)(h.Z.BOARD_SECTION_PINS,r))]).then(()=>n))}let x=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),w=(e,t)=>r=>n.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then(i=>(r(x(e,t)),i.resource_response.data)),P=e=>t=>n.Z.create("BoardSectionResource",{section_id:e}).callGet().then(r=>{let i=r.resource_response.data||{id:"",title:""};return t(x(e,i)),r}),S=(e,t,r,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:r,pinCount:i}}),C=(e,t,r,i)=>o=>{let a=n.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return o(S(e,t,r,i)),a},j=(e,t,r,o)=>a=>{let l={board_id:e,initial_pins:t,name:r},c="BoardSectionResource";return n.Z.create(c,l).callCreate().then(r=>{let n=r.resource_response.data,p=(0,i.Fv)(n,u.Z[c]);return o({event_type:7100,object_id_str:n.id}),a((0,s.XM)(c,l,r,p)),a(m(e,n)),a((0,d.vX)({feedId:e,feedType:h.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),t.length&&a({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:n.id},pinIds:t}}),r})},A=e=>t=>{let{source:r,target:o,pinIds:a}=e;if(t({type:"PINS_MOVE",payload:e}),r.boardlessPins||o.boardId!==r.boardId){let e={board_id:o.boardId,pin_ids:a,section_id:o.sectionId};return n.Z.create("BulkEditResource",e).callUpdate()}if(o.sectionId){let e={section_id:o.sectionId,pins:a},r="BoardSectionEditResource";return n.Z.create(r,e).callUpdate().then(n=>{let o=(0,i.Fv)(n.resource_response.data,u.Z[r]);return t((0,s.XM)(r,e,n,o)),n})}let l={section_id:r.sectionId,pins:a};return n.Z.create("BoardSectionPinsResource",l).callDelete()},E=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:r,target:i,excludePinIds:o}=e,a={board_id:r.boardId,new_board_id:i.boardId,pin_ids:o,old_section_id:r.sectionId,new_section_id:i.sectionId};return n.Z.create("BulkEditSelectAllResource",a).callUpdate()},T=(e,t,r,i,n)=>o=>o(j(e,[],t,n)).then(t=>{let n=t.resource_response.data.id;return o(E({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:n},excludePinIds:r}))})},254176:(e,t,r)=>{"use strict";r.d(t,{Br:()=>p,Cr:()=>j,K8:()=>y,L1:()=>B,Tq:()=>f,YQ:()=>R,YV:()=>C,ZP:()=>A,aX:()=>E,eo:()=>m,fJ:()=>Z,md:()=>_,oG:()=>g,oL:()=>T,of:()=>v,xH:()=>b,xQ:()=>x,xR:()=>D,xk:()=>P,yT:()=>h,zS:()=>O});var i=r(214494),n=r(27255),o=r(186656),a=r(379725),s=r(414327),l=r(239682),d=r(240265),c=r(956800),u=r(492583);function h(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function m({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:i}}}let g=(e,t)=>r=>r((0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function f(e,t,r){return(0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t,...r?{orbac_subject_id:r}:{}}})}function b(e,t,r){return i=>(0,o.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:r?{orbac_subject_id:r}:{}}).then(()=>Promise.all([i(m({boardId:e})),i(f(t,"pin_count")),i((0,c.N8)(u.Z.BOARD_SECTIONS,t))]))}function y(e){return t=>{e&&(0,d.Q)(e).forEach(e=>{t(e)})}}let v=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),x=e=>g(e,"pin_count");function w(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function P(e,t){return r=>(r(w(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function S(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function C(e,t){return r=>(r(S(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let j=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),A=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function E(e,t,r){let o={name:e,privacy:n.Z.BoardPrivacy.PUBLIC,username:t,...r?{orbac_subject_id:r}:Object.freeze({})};return e=>i.Z.create("BoardResource",o).callCreate().then(r=>{let i=r.resource_response.data;return e(t&&(0,s.jB)("BoardsResource",(0,l.Z)(t,!1))),i})}function T(e={},t,r){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}let I=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),k=(e,t,r)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:r}}),z=(e,t,r,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:r,collaboratingUsers:i}}),D=(e,t,r)=>async n=>{n(I(e,t));let o=await i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return o.resource_response.error||r({event_type:29,object_id_str:e}),o},R=(e,t,r,n,o,a)=>async s=>{let l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";s(k(e,n?.id??"",r));try{let r=await i.Z.create(l,{board_id:e,field_set_key:"boardEdit",invited_user_id:n?.id??"",...a?{orbac_subject_id:a}:{}}).callDelete();r.resource_response.error||o({event_type:"accepted"===t?25:29,object_id_str:e})}catch(i){s(z(e,r,t,[n]))}},B=(e,t,r,n)=>o=>{let a=i.Z.create("BoardResource",{board_id:r}).callDelete();return o(m({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:n})),a},O=(e,t)=>r=>i.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(i=>(r((0,c.Qv)("archived-boards",[{id:e,type:"board"}])),r(w(e,t)),i)),Z=(e,t)=>r=>i.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(i=>(r((0,c.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),r(S(e)),i))},781165:(e,t,r)=>{"use strict";r.d(t,{A8:()=>v,CQ:()=>j,Cf:()=>b,DK:()=>m,GJ:()=>C,RZ:()=>x,SD:()=>w,aN:()=>A,h6:()=>f,tV:()=>S,xx:()=>y,yC:()=>E,zC:()=>g});var i,n,o,a,s,l,d,c=r(702664),u=r(167912),h=r(214494),p=r(407043),_=r(186656);let m=()=>{let e=void 0!==i?i:i=r(29260),[t]=(0,u.useMutation)(e),{logContextEvent:n}=(0,p.v)();return async(e,r,i)=>{let o={boardId:e,collaboratorIds:r,message:i||""};return await new Promise((r,i)=>{t({variables:{...o},onCompleted:(t,o)=>{o&&i(o[0]),n({event_type:28,object_id_str:e}),r()},onError:e=>i(e)})})}},g=()=>{let e=void 0!==n?n:n=r(320926),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r,n)=>{let o={boardId:e,emails:r,message:n||""};return await new Promise((r,n)=>{t({variables:{...o},onCompleted:(t,o)=>{o&&n(o[0]),i({event_type:28,object_id_str:e}),r()},onError:e=>n(e)})})}},f=()=>{let e=void 0!==o?o:o=r(624602),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r)=>{let n={boardId:e,userId:r};return await new Promise((r,o)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&o(n[0]),i({event_type:32,object_id_str:e}),r(t)},onError:e=>o(e)})})}};function b(e,t){return async r=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:t}}),r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}})}}function y(e,t){return async r=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:t}}),r({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,t)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}),x=()=>{let e=void 0!==a?a:a=r(273002),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async e=>{let r={boardId:e};return await new Promise((n,o)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&o(r[0]),i({event_type:32,object_id_str:e}),n(t)},onError:e=>o(e)})})}},w=(e,t,r)=>async i=>{i(v(e,t));let n=await h.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate();n.resource_response.error||r({event_type:32,object_id_str:e})};function P(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}let S=()=>{let e=void 0!==s?s:s=r(925033),[t]=(0,u.useMutation)(e),i=(0,c.useDispatch)();return async e=>{let r={boardId:e};return await new Promise((n,o)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&(i(P(e,!1)),o(r[0])),i(P(e,!0)),n(t)},onError:t=>{i(P(e,!1)),o(t)}})})}};function C(e,t){return r=>{(0,_.Z)({url:`/v3/boards/${e}/collaborators/request/${t}/`,method:"DELETE",data:{board:e,user:t}}).catch(()=>{r(P(e,!0))}),r(P(e,!1))}}let j=()=>{let e=void 0!==l?l:l=r(572163),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r,n)=>{let o={boardId:e,userId:r,ban:!!n&&n};return await new Promise((r,n)=>{t({variables:{...o},onCompleted:(t,o)=>{o&&n(o[0]),i({event_type:29,object_id_str:e}),r(t)},onError:e=>n(e)})})}},A=()=>{let e=void 0!==d?d:d=r(34035),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,p.v)();return async(e,r)=>{let n={board:e,collaboratorIds:[r]};return await new Promise((r,o)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&o(n[0]),i({event_type:29,object_id_str:e}),r(t)},onError:e=>o(e)})})}},E=()=>{let e=j(),t=A();return(r,i,n)=>async()=>{let{invited_user:i,status:o,board:{id:a}}=r;i&&("accepted"===o?await t(a,i.id):await e(a,i.id,n))}}},576028:(e,t,r)=>{"use strict";r.d(t,{V:()=>a,u:()=>o});var i=r(214494),n=r(254176);let o=e=>t=>i.Z.create("BoardResource",{board_id:e}).callGet().then(e=>{let r=e&&e.resource_response&&e.resource_response.data;return r&&t((0,n.yT)(r)),e});function a(e,t,r){return(o,a)=>{let{boards:s}=a(),l=s[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,...t.name&&{name:t.name},privacy:t.privacy,sensitivity:t.sensitivity||null,...r?{orbac_subject_id:r}:Object.freeze({}),...d};return o((0,n.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then(e=>{let r=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(r.allow_homefeed_recommendations=t.allow_homefeed_recommendations),o((0,n.yT)(r)),e}).catch(e=>{throw l&&o((0,n.yT)(l)),e})}}},712055:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o,f:()=>a});var i=r(186656),n=r(254176);function o(e,t){return async r=>{r((0,n.md)(e,!0));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){r((0,n.md)(e,!1))}}}function a(e,t){return async r=>{r((0,n.md)(e,!1));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){r((0,n.md)(e,!0))}}}},956800:(e,t,r)=>{"use strict";function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:()=>a,N8:()=>n,Qv:()=>o,_f:()=>i,vX:()=>s});let o=(e,t,r=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}});function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},563339:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p,S:()=>h});var i=r(214494),n=r(254176),o=r(678638),a=r(956800),s=r(492583),l=r(124237);let d=e=>t=>{l.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},c=e=>(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,t){let{source:r,target:i}=e;i.boardId!==r.boardId?(t((0,n.Tq)(r.boardId,"pin_count")),t((0,n.Tq)(i.boardId,"pin_count"))):r.sectionId&&i.sectionId||t((0,n.Tq)(i.boardId,"pin_count")),r.sectionId&&t((0,o.CE)(r.sectionId)),i.sectionId&&t((0,o.CE)(i.sectionId))}function h(e){return t=>{let{selectedPinIds:r,source:i,target:n}=e;t((0,a.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,a.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),u(e,t)}}function p(e,t){return r=>(function(e,t,r){let{inverseSelection:n,selectedPinIds:o,source:l,target:u,orbacSubjectId:h}=e;if(l.boardId===u.boardId&&(l.sectionId||null)===(u.sectionId||null))return Promise.reject();if(n){let e={board_id:l.boardId,new_board_id:u.boardId,old_section_id:l.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:o,orbac_subject_id:h};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(c(l)),t(c(u))])).catch(d(r))}{let e=(e,r)=>{t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),t((0,a.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"}))};e(l,u);let n=()=>e(u,l);if(u.boardId===l.boardId){if(u.sectionId){let e={section_id:u.sectionId,pins:o,orbac_subject_id:h};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),d(r)(e)})}{let e={section_id:l.sectionId,pins:o,orbac_subject_id:h};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),d(r)(e)})}}{let e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:o,orbac_subject_id:h};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),d(r)(e)})}}})(e,r,t).then(()=>u(e,r))}},537191:(e,t,r)=>{"use strict";function i(e){return{type:"PIN_BETTER_SAVE",payload:e}}function n(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}r.d(t,{ND:()=>a,Vp:()=>o,a1:()=>i,jg:()=>n})},971687:(e,t,r)=>{"use strict";function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function n(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}r.d(t,{L:()=>n,m:()=>i})},461773:(e,t,r)=>{"use strict";r.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>h,yA:()=>l});var i=r(214494),n=r(186656),o=r(90326);function a(e,t,r,n){return i.Z.create("UserFollowResource",{user_id:e,invite_code:n||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:r})}function s(e,t=null,r,i){return n=>{a(e,t,r,i).callCreate().catch(()=>n((0,o.P_)(e,!1))),n((0,o.P_)(e,!0))}}function l(e,t=null,r,i){return async n=>{n((0,o.P_)(e,!0)),await a(e,t,r,i).callCreate().catch(t=>{throw n((0,o.P_)(e,!1)),t})}}function d(e,t=null,r){return i=>{a(e,t,r).callDelete().catch(()=>i((0,o.P_)(e,!0))),i((0,o.P_)(e,!1))}}function c(e,t=null,r){return async i=>{i((0,o.P_)(e,!1)),await a(e,t,r).callDelete().catch(t=>{throw i((0,o.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),h=e=>t=>{e.length>0&&((0,n.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},90326:(e,t,r)=>{"use strict";r.d(t,{Ge:()=>d,JS:()=>a,OF:()=>v,P_:()=>s,Q_:()=>h,b8:()=>p,eR:()=>y,h2:()=>c,h6:()=>u});var i=r(214494),n=r(186656),o=r(735422);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:r,blockContext:n,logContextEvent:o})=>async a=>{a(l(e,!0));let s=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:r,block_context:n}).callCreate().catch(()=>a(l(e,!1)));return o({event_type:54,object_id_str:e}),s},c=(e,t)=>async r=>{r(l(e,!1));let n=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>r(l(e,!0)));return t({event_type:55,object_id_str:e}),n};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let h=(e,t)=>()=>{let r=i.Z.create("UserStateResource",{state:e,value:t});return r.callCreate()},p=(e,t,r)=>(i,a)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:a().session.userId}),e(),(0,o.Dm)()},t)},_=e=>e>=200&&e<400,m=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",g=async(e,t,r)=>{let n=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response.data[e]){let i=n.resource_response.data[e],{status:o,signature:a}=i;if("processing"===o||"registered"===o)setTimeout(async()=>{g(e,t,r)},5e3);else if("succeeded"===o){let e=m(a);t(e)}else r()}else r()},f=(e,t,r,n,o)=>{let a=new FormData;return a.append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:a,upload_parameters:s}=t.resource_response.data,l=new XMLHttpRequest;l.open("POST",a,!0),l.onload=()=>{_(l.status)?(r(100),g(i,n,o)):o()},l.upload.onprogress=e=>{let t=Math.round(100*e.loaded/e.total);r(t)};let d=new FormData;for(let e in s)d.append(e,s[e]);d.append("file",e),l.send(d)}},()=>{o()})},b=e=>new Promise((t,r)=>{f(e,"pinimage",()=>{},e=>{t(e)},e=>{r(e)})}),y=e=>new Promise((t,r)=>{"string"==typeof e?e.startsWith("data")&&b(function(e,t=512){let r=e.split(";"),i=r[0].split(":")[1],n=r[1].split(",")[1],o=atob(n),a=[];for(let e=0;e<o.length;e+=t){let r=o.slice(e,e+t),i=Array(r.length);for(let e=0;e<r.length;e+=1)i[e]=r.charCodeAt(e);let n=new Uint8Array(i);a.push(n)}let s=new Blob(a,{type:i});return s}(e)).then(e=>t(e)):r("Invalid Image")}),v=e=>()=>(0,n.Z)({url:"/v3/register/exists/",data:{email:e}})},492583:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},469857:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h,o:()=>u});var i=r(667294),n=r(883119),o=r(112690),a=r(946984),s=r(444445),l=r(898781),d=r(19121),c=r(785893);let u="AddPinRep";function h({ctaText:e,handleClick:t,height:r,iconSize:u,textSize:h,component:p}){let _=(0,o.Z)(),m=(0,l.ZP)(),g=(0,d.Z)(),f=(0,a.Z)();return(0,i.useEffect)(()=>{_({event_type:120,component:p??0,element:10643})},[_,p]),(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.Tg,{href:"/pin-builder/",onTap:()=>{if(f){f();return}g.isPartner&&_({event_type:101,component:0,element:10643}),t&&t()},children:(0,c.jsxs)(n.st,{children:[(0,c.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:r||s.yF,justifyContent:"center",rounding:2,width:r||void 0,children:(0,c.jsx)(n.xu,{color:"default",height:u||40,rounding:"circle",width:u||40,children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:u||40})})}),(0,c.jsx)(n.xu,{padding:2,children:(0,c.jsx)(n.xv,{color:"subtle",size:h||"300",weight:"bold",children:e||m._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},30709:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(319915),o=r(947599),a=r(785893);let s=(0,i.lazy)(()=>Promise.all([r.e(48937),r.e(56058)]).then(r.bind(r,563996)));function l(e){return(0,a.jsx)(n.Z,{name:"SafeSuspense_EditPinModalLoader_EditPinModal",children:(0,a.jsx)(o.Z,{children:(0,a.jsx)(s,{...e})})})}},594354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(702664);r(883119);var n=r(407043),o=r(946984);let a=({pinId:e,carouselSlotCurrentIndexProp:t,component:r,setShowEditModal:a})=>{let s;let{logContextEvent:l}=(0,n.v)(),d=(0,o.Z)(),c=(0,i.useSelector)(({pins:e})=>e),{carousel_data:u}=c&&e&&c[e]||{},{index:h}=u||{};return void 0!==t&&(s=h||t||0),{onClick:({event:e})=>{if(d){d();return}e.stopPropagation(),l({event_type:101,element:3,...r?{component:r}:Object.freeze({})}),a(!0)},carouselSlotCurrentIndex:s}}},70815:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(702664),n=r(92331),o=r(469857),a=r(883119),s=r(785893);function l({story:e}){let{action:{text:t,url:r},custom_properties:{image:i,image_alt:n}}=e;return(0,s.jsxs)(a.xu,{position:"relative",children:[(0,s.jsx)(a.zd,{height:285,rounding:4,width:228,children:(0,s.jsx)(a.Ee,{alt:n,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),(0,s.jsx)(a.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:228,children:(0,s.jsx)(a.ZP,{color:"white",fullWidth:!0,href:r,text:t})})]})}function d(e){let t=(0,i.useSelector)(t=>t.desktopStories[e.storyId]);if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,s.jsx)(n.Z,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,s.jsx)(l,{story:t});case"add_pin":return(0,s.jsx)(o.Z,{});default:return null}}},711262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var i=r(667294),n=r(702664),o=r(616550),a=r(214494),s=r(768559),l=r(946984),d=r(124237),c=r(79264),u=r(558068),h=r(898781),p=r(349700),_=r(140582),m=r(342877),g=r(19121),f=r(916062),b=r(830065),y=r(825067),v=r(254176),x=r(678638),w=r(956800),P=r(537191),S=r(90326),C=r(492583),j=r(350118),A=r(785893);function E(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let T="236x";class I extends i.PureComponent{constructor(...e){super(...e),E(this,"state",{step:"unsaved"}),E(this,"deletePin",e=>a.Z.create("PinResource",{id:e,client_tracking_params:this.clientTrackingParams}).callDelete()),E(this,"repin",()=>{let{pin:e,target:{board:t,boardSection:r},eventContext:i}=this.props,{clientTrackingParams:n}=this,o=!e.id&&e.image_url?(0,_.Z)(e.image_url,e.link):"",s=r&&r.id,l={board_id:t.id||"",clientTrackingParams:n,description:e.description||"",image_base64:e.image_base64,link:e.link,image_url:o,is_buyable_pin:!1,is_removable:e.promoted_is_removable,media_upload_id:e.media_upload_id,pin_id:e.id||"",section:s,title:e.title||"",eventContext:i};return a.Z.create("RepinResource",l).callCreate({showError:!1})}),E(this,"handleSave",()=>{let{requireAuth:e,onSave:t,makeCancelablePromise:r,mountAfterActionPlacement:i}=this.props,{step:n}=this.state;if(e){e();return}if("unsaving"===n){this.setState({step:"saving"});return}this.setState({step:"saving"});let o=this.repin().then(({resource_response:{data:e}})=>{this.shouldCompleteSave(e),i("Save")});r(o).then(t).catch(({isCanceled:e})=>{if(!e){let{target:{board:e,boardSection:t}}=this.props;d.Z.showError(t?(0,p.nk)(this.props.i18n._('Failed to save the Pin to {{sectionName}}', 'Error message when failed to save to a section within a board', 'Error message when failed to save to a section within a board'),{sectionName:t.title}).join(""):(0,p.nk)(this.props.i18n._('Failed to save the Pin to {{boardName}}', 'Error message when failed to save to a board', 'Error message when failed to save to a board'),{boardName:e.name}).join(""))}})}),E(this,"shouldCompleteSave",e=>{let{saveToBoard:t,pin:r,dispatch:i,target:{board:n,boardSection:o}}=this.props,{step:a}=this.state,s=o&&o.id,l={pinId:r.id,boardId:n.id,sectionId:s,title:r.title||""};if("saving"===a){this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id}),t(n),i((0,w.vX)({feedId:s||n.id,feedType:s?C.Z.BOARD_SECTION_PINS:C.Z.BOARDFEED,itemIds:[r.id],itemType:"pin"}));let{image_url:a,images:d}=r,c=a||d?.[T]&&d[T].url||"";return(o||!n.image_cover_url)&&(n.image_cover_url=c,i((0,v.yT)(n))),i((0,P.a1)({...l,localPinId:e.id,nodeId:r.node_id})),i((0,v.Br)({boardId:n.id,sectionId:o?o.id:void 0,increment:1})),i((0,S.JS)({userId:e.pinner.id,increment:1})),this.setState({step:"saved"}),e}"unsaving"===a&&this.handleUnsave(e.id)}),E(this,"handleUnsave",e=>{let{step:t}=this.state,{savedInfo:r}=this.props;if("unsaved"===t)return;if("saving"===t){this.setState({step:"unsaving"});return}let i=r&&r.localPinId||e;i&&(this.setState({step:"unsaving"}),this.deletePin(i).then(()=>this.shouldCompleteUnsave()))}),E(this,"shouldCompleteUnsave",()=>{let{pin:e,savedInfo:t,target:{board:r,boardSection:i},dispatch:n,onDelete:o,viewerId:a}=this.props,{step:s}=this.state;if("unsaving"===s){if(t){let t=i?.id;n((0,P.jg)({pinId:e.id,nodeId:e.node_id})),n((0,v.Br)({boardId:r.id,sectionId:t,increment:-1})),n((0,S.JS)({userId:a,increment:-1})),n((0,v.xQ)(r.id)),n((0,w.EX)({feedId:t||r.id,feedType:t?C.Z.BOARD_SECTION_PINS:C.Z.BOARDFEED,itemIds:[e.id],itemType:"pin"})),t&&n((0,x.CE)(t)),o&&o()}this.setState({step:"unsaved"})}"saving"===s&&this.handleSave()})}get clientTrackingParams(){let{location:e,pin:t,previousHistory:r}=this.props;return(0,s.Z)({boardUrl:t.board?.url,location:e,pinId:t.id,pinnerUserName:t.pinner?.username,previousHistory:r,storyPinDataId:t.story_pin_data_id,trackingParams:t.tracking_params,trackingParamsMap:t.tracking_params_map})||`${t.tracking_params||""}-0`}render(){let{children:e,savedInfo:t}=this.props,{step:r}=this.state;return e({save:this.handleSave,saved:"saved"===r||"saving"===r||!!(t&&t.localPinId),savedInfo:t,unsave:this.handleUnsave})}}function k(e){let{previous:t}=(0,u.Hv)(),{saveToBoard:r}=(0,b.N)(),i=(0,n.useDispatch)(),a=y.W()?.onPinCreate,s=(0,h.ZP)(),d=(0,m.Z)(),p=(0,o.TH)(),_=(0,l.Z)(),v=(0,g.Z)(),x=(0,f.Z)({hasPin:!!e.pin,pinId:e.pin.id,boardLayout:e.pin.board?.layout,boardUrl:e.pin.board?.url}),w=(0,c.c)(),P=(0,j.S6)()(e.pin.id),S=P?.savedInfo;return(0,A.jsx)(I,{...e,dispatch:i,i18n:s,location:p,makeCancelablePromise:d,mountAfterActionPlacement:w,onDelete:()=>{x(),e.onDelete?.()},onPinCreate:a,previousHistory:t,requireAuth:_,savedInfo:S,saveToBoard:r,viewerId:v.isAuth?v.id:""})}},621354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i,n=r(667294);r(167912);var o=r(693967),a=r.n(o),s=r(883119),l=r(916117),d=r(898781),c=r(435326),u=r(785893);let h={sm:32,md:40,lg:48},p=void 0!==i?i:i=r(704614),_=(0,n.memo)((0,n.forwardRef)(({disabled:e=!1,iconOnly:t,isCloseupPin:r,onBoardUpdated:i,onClick:n,onSavedClick:o,onToggleModal:_,onUnsaved:m,renderSavedStatus:g,saveButtonType:f="classic",saved:b,size:y="md",variant:v="classic",viewParameter:x,pinKey:w},P)=>{let S=(0,d.ZP)(),C=(0,l.Z)(p,w);if(b&&"controlled"===f)return(0,u.jsx)(s.zx,{disabled:!0,fullWidth:!0,size:"sm",text:S._('Saved', ' - ', ' -- ')});let{carouselData:j,savedInfo:A}=C||{};return!r&&A&&g&&m&&i&&"classic"===f?(0,u.jsx)(c.Z,{currentCarouselIndex:j&&j.index,onDeleteSavedState:m,onEditSubmit:i,onToggleModal:_,pinId:A.localPinId,variant:"pin",viewParameter:x,children:g()}):b&&"classic"===f&&r?(0,u.jsx)(s.zx,{accessibilityLabel:S._('Saved button', 'saveButton.saved.label', 'Saved state label on save button'),color:"white",fullWidth:!0,onClick:o,size:"md",text:S._('Saved!', 'saveButton.saved', 'Saved state text on save button')}):t?(0,u.jsx)(s.xu,{ref:P,"data-test-id":"SaveButton",children:(0,u.jsx)(s.hU,{accessibilityLabel:S._('Save', 'Accessibility label for the save button', 'Accessibility label for the save button'),bgColor:"white",icon:"pin",iconColor:"darkGray",onClick:({event:e})=>n(e),size:"md"})}):(0,u.jsx)(s.xu,{display:r?void 0:"flex",justifyContent:"end",children:(0,u.jsx)("div",{ref:P,className:a()("SaveButton",e?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===v}),"data-test-id":"SaveButton",onClick:e?void 0:n,onKeyPress:e?void 0:e=>{(32===e.charCode||13===e.charCode)&&(e.preventDefault(),n(e))},role:"button",tabIndex:"0",children:(0,u.jsx)("div",{className:a()("SaveButton__background",e?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===v}),children:(0,u.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",minHeight:h[y],children:(0,u.jsx)(s.xv,{color:e?"subtle":"inverse",size:"lego"===v?"100":"200",weight:"bold",children:(0,u.jsx)("span",{className:a()("SaveButton__label",{"SaveButton__label--lego":"lego"===v}),children:S._('Save', 'Pin save button label', 'Pin save button label')})})})})})})})),m=_},419302:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,c:()=>d});var i=r(667294),n=r(883119),o=r(898781),a=r(349700),s=r(780280),l=r(785893);let d=48,c=(0,i.forwardRef)((e,t)=>{let{addButtonRef:r,collaboratorCount:i,nonDisplayedCollaboratorCount:c,displayedCollaborators:u,onClick:h,showAddButton:p,avatarSize:_}=e,m=(0,o.ZP)(),{isRTL:g}=(0,s.B)(),f=u.map(e=>e.name),b="",y=c?"default":f.length;switch(y){case 3:b=(0,a.Wc)(m._('{{ first }}, {{ second }}, and {{ last }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames'),{first:`${f[0]}`,second:`${f[1]}`,last:`${f[2]}`});break;case 2:b=(0,a.Wc)(m._('{{ first }} and {{ second }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.'),{first:`${f[0]}`,second:`${f[1]}`});break;default:b=f.join(", ")}let v=c?(0,a.Wc)(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', c, 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:b,leftCount:`${c}`}):(0,a.Wc)(m._('Collaborators: {{ userNames }}.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators', 'Accessibility label that lists the names of collaborators'),{userNames:b}),x=u.length>1?[...u,...Array(c).fill({name:"",src:""})]:u,w=(u.length>1||0===i)&&p,P=m._('Invite collaborators.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.');return(0,l.jsxs)(n.xu,{"data-test-id":"user-rep-avatar",position:"relative",rounding:"pill",children:[w?(0,l.jsx)(n.xu,{ref:r,height:"sm"===_?32:d,left:g,position:"absolute",right:!g,rounding:"circle",top:!0,width:"sm"===_?32:d}):null,(0,l.jsx)(n.HE,{ref:t,accessibilityLabel:w?`${v} ${P}`:`${v}`,addCollaborators:w,collaborators:x,onClick:h,role:"button",size:_||"md"})]})});c.displayName="BoardAvatarGroup";let u=c},25297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(898781),o=r(698003),a=r(960278),s=r(641388),l=r(785893);function d({avatarSize:e,board:t,displayedCollaboratorsMaxCount:r,handleTapOnInviteAvatarGroup:d,label:c}){let u=(0,n.ZP)(),h=(0,a.Z)({boardId:t.id??"",ownerName:t.owner?.full_name??"",ownerUsername:t.owner?.username??"",ownerImgSrc:t.owner?.image_medium_url||t.owner?.image_small_url||""}),{displayedCollaborators:p,nonDisplayedCollaboratorCount:_}=(0,s.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:h});return(0,l.jsx)(i.kC,{children:(0,l.jsx)(i.iP,{onMouseDown:d,onTap:d,children:(0,l.jsxs)(i.kC,{children:[(0,l.jsx)(o.Z,{avatarSize:e,board:t,displayedCollaborators:r?p.slice(0,r):p,handleShowCollabAndPermissionsModal:()=>{},nonDisplayedCollaboratorCount:r?0:_,showPersonAddIconForInvite:!0}),(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},marginStart:"sm"===e?-2:-4,position:"relative",rounding:"circle",children:(0,l.jsx)(i.hU,{accessibilityLabel:u._('Board Invite Icon', 'BoardToolHeader.InviteFriends.Icon.Accessibilitylabel', 'icon showing that user can invite their friends to the board'),bgColor:"lightGray",icon:"person-add",size:e||void 0})}),c&&(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginStart:"sm"===e?1:2,children:(0,l.jsx)(i.xv,{lineClamp:1,weight:"bold",children:c})})]})})})}},698003:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var i=r(667294),n=r(616550),o=r(883119),a=r(221263),s=r(407043),l=r(319915),d=r(333312),c=r(636803),u=r(773285),h=r(947599),p=r(19121),_=r(717615),m=r(231947),g=r(419302),f=r(328573),b=r(785893);let y=(0,i.lazy)(()=>Promise.all([r.e(741),r.e(13562)]).then(r.bind(r,868899)));function v({avatarSize:e,board:t,displayedCollaborators:r,nonDisplayedCollaboratorCount:v,handleShowCollabAndPermissionsModal:x,showPersonAddIconForInvite:w}){let P;let[S,C]=(0,i.useState)(!1),j=(0,p.Z)(),A=(0,i.useRef)(),E=(0,i.useRef)(),T=(0,n.k6)(),I=(0,_.Z)(),{logContextEvent:k}=(0,s.v)(),{anyEnabled:z}=(0,u.F)().checkExperiment("web_m10n_business_access_orbac_ga"),D=z?(0,m.KY)(j,t,I):(0,a.Z)(j,t.owner?.id),R=(D||t.collaborator_invites_enabled&&t.collaborated_by_me)&&!w,B=(P=()=>T.push(r[0].href??"/"),r[0].is_ads_only_profile&&r[0].ads_only_profile_site&&(P=()=>{k({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(r[0].ads_only_profile_site,"_blank")}),r.length>1&&(P=()=>C(!S)),(D||t.collaborated_by_me)&&(P=x),P),O=[501003];D&&t.is_collaborative&&O.push(502335);let Z=r.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[!t.collaborator_count||t.collaborator_count<=101?(0,b.jsx)(g.Z,{ref:A,addButtonRef:E,avatarSize:e,collaboratorCount:t.collaborator_count||0,displayedCollaborators:Z,nonDisplayedCollaboratorCount:v,onClick:B,showAddButton:R??!1}):(0,b.jsx)(f.Z,{addButtonRef:E,displayedCollaborators:Z,nonDisplayedCollaboratorCount:v,onClick:B,pileRef:A,showAddButton:R??!1}),(0,b.jsx)(c.Z,{anchors:{3002:E.current},placementId:18,positionRelativeToAnchor:!1}),(0,b.jsx)(d.default,{anchor:E.current,customWrapper:({children:e})=>(0,b.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(2),children:e}),experienceIds:O,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),S&&(0,b.jsx)(l.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,b.jsx)(h.Z,{children:(0,b.jsx)(y,{anchor:A.current,board:t,onDismiss:()=>{C(!1),A.current&&A.current.focus()}})})})]})}},328573:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(667294),n=r(883119),o=r(898781),a=r(892819),s=r(349700),l=r(780280),d=r(419302),c=r(785893);function u({addButtonRef:e,nonDisplayedCollaboratorCount:t,displayedCollaborators:r,onClick:u,pileRef:h,showAddButton:p}){let[_,m]=(0,i.useState)(!1),g=(0,o.ZP)(),f=(0,a.Z)(),{locale:b}=(0,l.B)(),y=g._('Invite collaborators.', 'DeprecatedBoardCollaboratorFacepile.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.'),v=(0,s.Wc)(g.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', t, 'DeprecatedBoardCollaboratorFacepile.accessibilityLabel', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:r.map(e=>e.name).join(", "),leftCount:`${t}`}),x=({children:e,hovered:t})=>(0,c.jsxs)(n.xu,{position:"relative",children:[(0,c.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0}),e]}),w=r.map(({name:e,src:t},r)=>(0,c.jsx)(n.xu,{"aria-hidden":"true",marginStart:0!==r?-4:void 0,children:(0,c.jsx)(x,{hovered:_&&!!u,children:(0,c.jsx)(n.xu,{color:"default",height:d.c,rounding:"circle",width:d.c,children:(0,c.jsx)(n.qE,{name:e,outline:!0,src:t})})})},`face-${r}`));return w.length>1&&t&&w.push((0,c.jsx)(n.xu,{"aria-hidden":"true",zIndex:new n.Ry(1),children:(0,c.jsx)(n.xu,{marginStart:-4,children:(0,c.jsx)(x,{hovered:_&&!!u,children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,c.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:d.c,justifyContent:"center",position:"relative",rounding:"circle",width:d.c,children:(0,c.jsx)(n.xv,{size:"300",weight:"bold",children:f(b,t,{shortform:!0})})})})})})},"additionalCount")),w.length>1&&p&&w.push((0,c.jsx)(n.xu,{ref:e,"aria-hidden":"true",zIndex:new n.Ry(1),children:(0,c.jsx)(n.xu,{marginStart:-4,children:(0,c.jsx)(x,{hovered:_,children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,c.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:d.c,justifyContent:"center",rounding:"circle",width:d.c,children:(0,c.jsx)(n.JO,{accessibilityLabel:"Add",color:"default",icon:"add",size:20})})})})})},"addIcon")),(0,c.jsx)(n.kC,{alignItems:"center",children:(0,c.jsx)(n.iP,{ref:h,accessibilityLabel:p?`${v} ${y}`:`${v}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onTap:u,rounding:"pill",children:(0,c.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:w})})})}},960278:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,Z:()=>s});var i=r(773285),n=r(784590),o=r(845772);let a=({boardId:e,ownerUsername:t,ownerName:r,ownerImgSrc:a})=>{let{anyEnabled:s}=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_ga"),l=(0,o.Z)(),{data:d,isLoaded:c}=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...s&&l?{orbac_subject_id:l}:{}}}),u=[{name:r,src:a,href:`/${t}/`,isDim:!1}];return c&&d&&d.length>0&&d.forEach(e=>{u.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),u},s=a;function l({children:e,...t}){let r=a(t);return e(r)}},785859:(e,t,r)=>{"use strict";r.d(t,{Z:()=>el});var i=r(667294),n=r(883119),o=r(407043),a=r(946984),s=r(50286),l=r(19121),d=r(99137),c=r(130460),u=r(898781),h=r(640262),p=r(978213),_=r(784590),m=r(785893);function g({selected:e}){let t=(0,u.ZP)();return(0,m.jsx)(n.JO,{accessibilityLabel:t._('Dense', 'Label for selecting the dense pin density view', 'Label for selecting the dense pin density view'),color:e?"default":"subtle",icon:"view-type-dense",size:24})}function f({selected:e}){let t=(0,u.ZP)();return(0,m.jsx)(n.JO,{accessibilityLabel:t._('Regular', 'Label for selecting the regular pin density view', 'Label for selecting the regular pin density view'),color:e?"default":"subtle",icon:"view-type-default",size:24})}var b=r(120973),y=r(656061);class v extends i.Component{constructor(...e){var t,r,i;super(...e),t="handleItemChange",r=({activeIndex:e})=>{let{viewType:t,component:r,pinView:i,logContextEvent:n}=this.props,o=0===e?"regular":"dense";(0,b.Z)({boardDensity:o,component:r,viewType:t},n),(0,y.Z)({density:o,surface:i}),"board"===i?this.props.updateBoardPinDensity?.(o):this.props.updateProfilePinDensity?.(o)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidUpdate(){let{metadata:e,pinView:t,updatedBoardPinDensity:r,updateBoardPinDensity:i,updateProfilePinDensity:n}=this.props;if(e&&e.data&&""===r){let{profile_pin_rep_view_type:r,board_pin_rep_view_type:o}=e.data;"board"===t&&(r?i?.(r):i?.("regular")),"profile"===t&&(o?n?.(o):n?.("regular"))}}render(){let{metadata:e,updatedBoardPinDensity:t}=this.props;return e&&e.data?(0,m.jsx)("div",{className:"OwnBoardSelector",children:(0,m.jsx)(n.sY,{items:[(0,m.jsx)(f,{selected:"regular"===t}),(0,m.jsx)(g,{selected:"dense"===t})],onChange:this.handleItemChange,responsive:!0,selectedItemIndex:"dense"===t?1:0})}):null}}function x(e){let t=(0,d.x)(),{logContextEvent:r}=(0,o.v)(),i=(0,l.Z)(),n=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:i.isAuth?i.username:""}},noCache:!0}),a=("board"===e.pinView?t?.boardPinDensity:t?.profilePinDensity)??"";return(0,m.jsx)(v,{...e,logContextEvent:r,metadata:n,updateBoardPinDensity:t?.setBoardPinDensity,updatedBoardPinDensity:a,updateProfilePinDensity:t?.setProfilePinDensity})}function w({board:e,currentView:t,inBoardOrganizationMode:r,onContentViewChange:o,onOrganizeClick:a,pinCount:s,showSortOptions:d}){let c=(0,u.ZP)(),_=(0,l.Z)();return(0,m.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,m.jsx)(n.xu,{flex:"grow",paddingX:1,children:(0,m.jsx)(n.X6,{children:c._('Pins', 'Heading for Pins outside of board sections on board page', 'Heading for Pins outside of board sections on board page')})}),d&&(0,h.tk)(s)&&(0,m.jsx)(n.xu,{paddingX:2,children:(0,m.jsx)(h.ZP,{board:e,currentView:t,onChange:o,viewer:_})}),s>=p.Ev&&(0,m.jsxs)(i.Fragment,{children:[s>=p.IK&&(0,m.jsx)(x,{component:13183,pinView:"board",viewType:5}),!r&&(0,m.jsx)(n.xu,{paddingX:2,children:(0,m.jsx)(n.zx,{fullWidth:!0,onClick:a,text:c._('Organize', 'The board organization button', 'The board organization button')})})]})]})}var P=r(702664),S=r(830944),C=r(932995),j=r(717615),A=r(231947),E=r(678638),T=r(492583),I=r(583421),k=r(278380),z=r(274319),D=r(345221),R=r(215292);let B=({children:e,shouldNavigate:t,to:r})=>t?(0,m.jsx)(n.Tg,{href:r,children:e}):e;var O=r(66699);let Z=e=>{let t=(0,u.ZP)(),{numberOfSelectedPins:r}=e;return(0,m.jsx)(n.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(n.xu,{color:"default",padding:3,rounding:"pill",children:(0,m.jsx)(n.xv,{weight:"bold",children:(0,O.Z)(t.ngettext('Move {{ count }} Pin here', 'Move {{ count }} Pins here', r, 'Call to action overlay on a section to move selected Pins', 'Call to action overlay on a section to move selected Pins'),{count:r})})})})},L={compact:157,wide:141},M={compact:118,wide:106};function N(e){return"dense"===e?2:3}function F(e){let t="dense"===e?M.compact:M.wide;return(t+1)*N(e)-1}function U({ariaLabel:e,isHovered:t,mode:r,pins:i}){let o=N(r),a="dense"===r,s=a?L.compact:L.wide,l=a?M.compact:M.wide,d=F(r),c=Array.from(Array(o),(e,t)=>{let r=t===o-1,a=i[t],{description:d,image_large_url:c,image_large_size_pixels:u,image_medium_url:h,image_medium_size_pixels:p}=a||{},_=d?d.trim():"";return(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:r?void 0:1}},"data-test-id":_?"pin-with-alt-text":"pin-missing-alt-text",children:(0,m.jsx)(n.zd,{height:s,rounding:0,wash:!0,width:l,children:u&&(0,m.jsx)(n.Ee,{alt:d??"",color:"transparent",fit:"cover",naturalHeight:(p?p.height:u.height)??1,naturalWidth:(p?p.width:u.width)??1,src:h??c??""})})},t)});return(0,m.jsx)(n.zd,{rounding:4,width:d,children:(0,m.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,m.jsx)(n.xu,{"aria-label":e,"aria-required":"true",bottom:!0,dangerouslySetInlineStyle:{__style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,top:!0}),c]})})}var H=r(780280),$=r(826007);function V({children:e,mode:t}){return"dense"===t?(0,m.jsx)(n.xv,{weight:"bold",children:e}):(0,m.jsx)(n.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:e})}function W({children:e,displayEditIcon:t,mode:r,mouseCursor:i,onEditClick:o,onTouch:a,pinCount:s,title:l}){let d=(0,u.ZP)(),{isRTL:c}=(0,H.B)(),h=(0,m.jsxs)(n.xu,{children:[(0,m.jsxs)(n.xu,{position:"relative",children:[e,t&&(0,m.jsx)(n.xu,{bottom:!0,left:c,position:"absolute",right:!c,children:(0,m.jsx)(n.xu,{padding:2,children:(0,m.jsx)(n.hU,{accessibilityHaspopup:!0,accessibilityLabel:d._('Edit', 'BoardSectionCard.SectionRep.EditIcon', 'accessibility label for the board section name edit button'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:o,size:"sm"})})})]}),(0,m.jsx)(n.kC,{alignItems:"start",justifyContent:"between",width:F(r),children:(0,m.jsxs)(n.xu,{flex:"grow",padding:2,children:[(0,m.jsx)(V,{mode:r,children:l}),(0,m.jsx)(n.xu,{marginTop:1,children:(0,m.jsx)($.i,{count:s,size:"100"})})]})})]});return a?(0,m.jsx)(n.iP,{fullWidth:!1,mouseCursor:i,onTap:a,rounding:4,children:h}):h}let G=e=>{let t;let{board:r,boardSection:o,canEdit:a,focused:s,hovered:c,inOrganizationMode:u,isDragging:h,isMergeTarget:p,onBlur:_,oneTapMovePinsHandler:g,onFocus:f,onMouseEnter:b,onMouseLeave:y,onShowEditSectionModal:v}=e,x=(0,l.Z)(),w=(0,j.Z)(),P=(0,A.lJ)(x,w),C=P&&(0,S.Z)(r.privacy)?`?orbac_subject_id=${P}`:"",{slug:E,title:T,preview_pins:I=[]}=o,k=d.x()?.boardPinDensity??"",z=g&&g.numberOfSelectedPins;z&&g&&(t=()=>{g.moveToSection(o)});let D="pointer";h?D="grabbing":!z&&u&&(D="grab");let R=g&&g.numberOfSelectedPins>0&&!!z&&c&&!h&&(0,m.jsx)(Z,{numberOfSelectedPins:g.numberOfSelectedPins});return(0,m.jsxs)(n.xu,{alignItems:"center",color:"default","data-test-id":`section-${o.title??""}`,direction:"row",display:"flex",onBlur:_,onFocus:f,onMouseEnter:b,onMouseLeave:y,position:"relative",rounding:2,children:[(0,m.jsx)(B,{shouldNavigate:!u,to:`${r.url??""}${E??""}/${C}`,children:(0,m.jsx)(W,{displayEditIcon:!!a&&!h&&(c||s),mode:k,mouseCursor:D,onEditClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),v(o)},onTouch:t,pinCount:o.pin_count??0,title:T??"",children:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(U,{ariaLabel:`section-${o.title??""}`,isHovered:c||p||s,mode:k,pins:I??[]}),R]})})}),(0,m.jsx)("div",{className:"sectionHoverSurface"})]})};function q(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class K extends i.Component{constructor(...e){super(...e),q(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id??"")}),q(this,"cancelHoverTimeout",()=>{let{dragHoverTimeout:e}=this;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),q(this,"dragHoverTimeout",null),q(this,"isDragging",()=>!!this.state.dragDrop),q(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),q(this,"handleSectionDragHover",(e,t)=>{let{dragDrop:r}=this.state,i=this.props.allowReordering;if(!t||!r)return;let{previewIndex:n}=r,o=(0,k.TI)({hoverRelativePosition:t,centerEnabled:e!==n&&i}),a={itemIndex:e,regionWithinItem:o};if(this.dragHoverTimeout&&(0,k.Lz)(a,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();let s="center"===o?"merge":"reorder",l={action:s,index:(0,k.X3)({hoverLocation:a,sourceIndex:n})};if(l.index===n){r.target&&r.target.index!==l.index&&this.setState({dragDrop:{...r,target:l}});return}this.dragHoverTimeout={hoverLocation:a,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===s?this.setState(({dragDrop:e,sectionIds:t})=>({dragDrop:{...e,target:l,previewIndex:l.index},sectionIds:(0,C.Z)(t,n,l.index)})):this.setState(({dragDrop:e})=>({dragDrop:{...e,target:l}}))},"reorder"===s?200:20)}}),q(this,"handleSectionDragEnd",e=>{let{sections:t,onShowMergeSectionsConfirmationModal:r,onSectionReorder:i}=this.props,{dragDrop:n,sectionIds:o}=this.state,a=n&&n.target;if(this.cancelHoverTimeout(),!e||!n||!a||a.index===n.sourceIndex){this.setState({dragDrop:null,sectionIds:t.map(e=>e.id??"")});return}let{previewIndex:s,sourceIndex:l}=n,{action:d,index:c}=a;if(this.setState({dragDrop:null}),"merge"===d){let e=e=>{let r=o[e];return r&&t.find(({id:e})=>e===r)},i=e(s),n=e(c);i&&n&&r(i,n)}else i(l,c)}),q(this,"renderSection",(e,t)=>{let{allowReordering:r,board:i,canEdit:o,oneTapMovePinsHandler:a,onShowEditSectionModal:s,organizeMode:l}=this.props,{dragDrop:d}=this.state,c=d&&d.target;return(0,m.jsx)(n.xu,{padding:2,children:(0,m.jsx)(R.q,{children:({focused:n,hovered:d,onBlur:u,onFocus:h,onMouseEnter:p,onMouseLeave:_})=>(0,m.jsx)(G,{allowReordering:r,board:i,boardSection:e,canEdit:o,focused:n,hovered:d,inOrganizationMode:l,isDragging:this.isDragging(),isMergeTarget:!!c&&"merge"===c.action&&t===c.index,onBlur:e=>{let{currentTarget:t}=e;setTimeout(()=>{t.contains(document.activeElement)||u()},0)},oneTapMovePinsHandler:a,onFocus:h,onMouseEnter:p,onMouseLeave:_,onShowEditSectionModal:s})})})})}componentDidUpdate(e){let{sections:t}=e,{sections:r}=this.props,i=e=>e.map(({id:e})=>e).join(",");if(t.length!==r.length&&i(t)!==i(r)){this.cancelHoverTimeout();let e=r.map(e=>e.id??"");this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){let{allowReordering:e,connectDropTarget:t,isDragWithinBounds:r,sections:i}=this.props,{sectionIds:o}=this.state,a=this.isDragging(),s=i.reduce((e,t)=>t.id?{...e,[t.id]:t}:e,{}),l=(0,m.jsx)(n.xu,{display:"flex",justifyContent:"center",marginEnd:6,marginStart:6,wrap:!0,children:o.map(e=>s[e]).filter(e=>!!e).map((t,i)=>(0,m.jsx)(n.xu,{children:e?(0,m.jsx)(I.Z,{index:i,onDragBegin:this.handleSectionDragBegin,onDragEnd:this.handleSectionDragEnd,onDragHover:this.handleSectionDragHover,type:I.y.Section,children:(0,m.jsx)("div",{style:{opacity:a&&!r?.5:1},children:this.renderSection(t,i)})}):(0,m.jsx)(n.xu,{children:this.renderSection(t,i)})},t.id))});return(0,m.jsxs)(n.xu,{width:"100%",children:[e&&t?t((0,m.jsx)("div",{children:l})):l,a&&(0,m.jsx)(z.Z,{})]})}}let Y=(0,D.Z)(I.y.Section)(K);function X(e){let t=(0,u.ZP)(),{allowReordering:r,fetchMore:i,isAtEnd:o,isFetching:a}=e;return(0,m.jsxs)(n.xu,{width:"100%",children:[(0,m.jsx)(n.gr,{fetchMore:i,isAtEnd:o,isFetching:a}),r?(0,m.jsx)(Y,{...e}):(0,m.jsx)(K,{...e}),a&&!o&&(0,m.jsx)(n.xu,{paddingY:6,position:"relative",children:(0,m.jsx)(n.$j,{accessibilityLabel:t._('Loading sections', 'loading state for board sections', 'loading state for board sections'),show:!0})})]})}class J extends i.Component{constructor(...e){var t,r,i;super(...e),t="handleSectionReorder",r=(e,t)=>{var r,i;let{board:n,dispatch:o,enableReordering:a,sections:s,viewParameter:l}=this.props;if(!a)return;let d=s[e].id,c=s[t].id,u=(0,C.Z)(s,e,t).map(e=>e.id),h=u.indexOf(d),p={boardId:n.id,sourceSectionId:d,targetSectionId:c,...(r=h+1)>=0&&r<u.length?{sectionIdAfter:u[h+1]}:{},...(i=h-1)>=0&&i<u.length?{sectionIdBefore:u[h-1]}:{}},_={object_id_str:d,view_type:5,view_parameter:l};o((0,E.e1)(p)).then(()=>this.props.logContextEvent({event_type:7133,..._}))},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidMount(){let{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:r,refresh:i,isAtEnd:n}}=this.props;e&&!r&&i(),n&&t()}componentDidUpdate(e){!this.props.sectionsInvalidated||e.sectionsInvalidated||this.props.isFetching||this.props.refreshData(),!e.sectionsResource.isAtEnd&&this.props.sectionsResource.isAtEnd&&this.props.onLoadedAll()}render(){let{board:e,enableReordering:t,inBoardOrganizationMode:r,oneTapMovePinsHandler:i,onShowEditSectionModal:o,onShowMergeSectionsConfirmationModal:a,sections:s,sectionsResource:l,viewer:d,orbacActingAs:c}=this.props,{isLoaded:u,isFetching:h,fetchMore:p,isAtEnd:_}=l;if(!u)return this.props.i18n._('Board sections loading spinner', 'BoardPage.BoardSections.loadingSpinner', 'Accessibility label for the spinner on board sections'),(0,m.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Board sections loading spinner', ' - ', ' -- '),show:!0});let g=(e.access||[]).includes("write")||(0,A.D3)(d,e.owner?.id||"",c);return(0,m.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,m.jsx)(X,{allowReordering:t,board:e,canEdit:g,fetchMore:p,isAtEnd:_,isFetching:h,oneTapMovePinsHandler:i,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:o,onShowMergeSectionsConfirmationModal:a,organizeMode:r,sections:s})})}}function Q(e){let{logContextEvent:t}=(0,o.v)(),r=(0,u.ZP)(),i=(0,l.Z)(),n=(0,j.Z)(),a=(0,A.lJ)(i,n),{board:s}=e,d=(0,_.Z)({name:"BoardSectionsResource",options:{board_id:e.board.id,redux_normalize_feed:!0,...(0,S.Z)(s.privacy)&&a?{orbac_subject_id:a}:{}}}),c=(0,P.useSelector)(t=>t.feeds[`${T.Z.BOARD_SECTIONS}:${e.board.id}`]),h=(0,P.useSelector)(e=>(c||[]).reduce((t,r)=>"boardsection"===r.type&&e.boardsections[r.id]?t.concat([e.boardsections[r.id]]):t,[])),p=(0,P.useDispatch)();return(0,m.jsx)(J,{...e,dispatch:p,i18n:r,logContextEvent:t,orbacActingAs:n,sections:h,sectionsInvalidated:null===c,sectionsResource:d,viewer:i})}var ee=r(596493),et=r(616421),er=r(793234),ei=r(337024),en=r(354332);function eo(e){let t=(0,l.Z)(),r=(0,j.Z)(),i=(0,A.lJ)(t,r),n=(0,_.Z)({name:"BoardFeedResource",options:(0,er.q)(e.board,e.viewer,e.currentView,e.currentFilter,i)}),o=(0,P.useSelector)(({feeds:t,desktopStories:r})=>(0,en.Z)(t[`${T.Z.BOARDFEED}:${e.board.id}`],r));return(0,m.jsx)(ei.Z,{...e,...o,resource:n})}eo.displayName="BoardSectionlessPinGrid";var ea=r(516721),es=r(563173);function el({actions:e,board:t,bulkEditSelectedPins:r,currentFilter:u,currentView:h,displayActionBar:_,enableReordering:g,inBoardOrganizationMode:f,inSectionOrganizationMode:b,inSelectAll:y,isOwnBoard:v,isPinGridSorted:x,onBulkEditPinClick:P,onContentViewChange:S,oneTapMovePinsHandler:C,onShowEditSectionModal:j,onShowMergeSectionsConfirmationModal:A,refreshFilteredFeed:E,viewParameter:T}){let I=(0,c.gC)()(t.id),k=(I?I.section_count:t.section_count)||0,z=d.x()?.boardPinDensity,{logContextEvent:D}=(0,o.v)(),[R,B]=(0,i.useState)(0===k),O=(0,a.Z)(),Z=(0,ea.Z)(t.url),L=(0,l.Z)(),M=(0,s.ZP)(),{is_collaborative:N,pin_count:F}=t,U=(t.access||[]).includes("write"),H=v||t.collaborated_by_me,$=!!("number"==typeof F&&F>=p.Oj&&N&&H);return(0,m.jsxs)(n.xu,{marginBottom:12,children:[(0,m.jsx)(et.Z,{setMaxWidth:!1,children:(0,m.jsxs)(n.xu,{children:[k>0&&(!u||u===ee.cg)&&(0,m.jsx)(Q,{board:t,enableReordering:g,inBoardOrganizationMode:f,oneTapMovePinsHandler:C,onLoadedAll:()=>B(!0),onShowEditSectionModal:j,onShowMergeSectionsConfirmationModal:A,viewParameter:T}),_&&R&&H&&k>0&&(0,m.jsx)(w,{board:t,currentView:h,inBoardOrganizationMode:f,onContentViewChange:S,onOrganizeClick:()=>{if(O){O();return}let{onBoardOrganizeClick:t}=e;D({event_type:101,component:69,element:400}),t&&t(!0)},pinCount:F??0,showSortOptions:$})]})}),"desktop"===M&&R&&(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},"data-test-id":"board-feed",paddingX:3,position:"relative",children:(0,m.jsx)(eo,{board:t,bulkEditSelectedPins:r,currentFilter:u,currentView:h,denseViewSelected:U&&"dense"===z,inBoardOrganizationMode:f,inSectionOrganizationMode:b,inSelectAll:y,isOwnBoard:v,isPinGridSorted:x,onBulkEditPinClick:P,refreshFilteredFeed:E,renderFooterStory:e=>!f&&!t.archived_by_me_at&&H&&(0,m.jsx)(n.xu,{marginBottom:6,children:(0,m.jsx)(et.Z,{children:(0,m.jsx)(es.Z,{collection:t,storyId:e,url:Z})})}),viewer:L,viewParameter:T})})]})}},529868:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(667294),n=r(883119),o=r(407043),a=r(898781),s=r(978213),l=r(785893);function d({anchor:e,hideAddSectionTooltip:t}){let r=(0,a.ZP)();return(0,l.jsx)(n.mh,{children:(0,l.jsx)(n.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(n.Li,{anchor:e,idealDirection:"down",message:r._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:t})})})}var c=r(237056);function u({anchor:e,idealDirection:t,onAddOrEditDate:r,onAddSection:o,onClose:s,onCreateBoard:d,onCreatePin:u,onCreateStoryPin:h,surface:p,isWithinFixedContainer:_}){let m=(0,a.ZP)(),g=(0,c.Z)(!0),f=(0,i.useMemo)(()=>({pin:m._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:m._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:m._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:m._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:m._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:m._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:m._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}),[m]);return(0,l.jsxs)(n.Lt,{anchor:e,id:"board_actions",idealDirection:t||"down",isWithinFixedContainer:_,onDismiss:s,zIndex:new n.Ry(1),children:[(0,l.jsx)(n.Lt.Section,{label:m._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[!g&&(0,l.jsx)(n.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{u(),s()},option:{label:f.pin,value:f.pin}},"actions-create-0"),h&&(0,l.jsx)(n.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{h(),s()},option:{label:g?f.pin:f.rename,value:g?f.pin:f.rename}},"actions-create-1"),"profileBoards"===p&&d&&(0,l.jsx)(n.Lt.Item,{dataTestId:"Create board",onSelect:()=>{d(),s()},option:{label:f.board,value:f.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,l.jsx)(n.Lt.Section,{label:m._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[o&&(0,l.jsx)(n.Lt.Item,{dataTestId:"addSection",onSelect:()=>{o(),s()},option:{label:f.section,value:f.section}},"actions-add-1"),!!r&&(0,l.jsx)(n.Lt.Item,{onSelect:()=>{r(),s()},option:{label:f.date,value:f.date}},"actions-add-2")].filter(Boolean)})]})}var h=r(333312),p=r(408329);function _({anchor:e}){let t=(0,p.JI)();return(0,l.jsx)(n.mh,{children:(0,l.jsx)(n.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(h.default,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function m({anchor:e}){return(0,l.jsx)(n.mh,{children:(0,l.jsx)(n.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(h.default,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var g=r(320056);function f({children:e,idealDirection:t,onAddOrEditDate:r,onAddSection:s,onCreateBoard:c,onCreatePin:h,onCreateStoryPin:p,onOpen:f=()=>{},surface:b,isWithinFixedContainer:y}){let v;let x=(0,a.ZP)(),{showCreateSectionTooltip:w,setShowCreateSectionTooltip:P}=(0,g.L)()??{},{logContextEvent:S}=(0,o.v)(),C=()=>P(!1),j=(0,i.useRef)(),[A,E]=(0,i.useState)(!1),T=()=>{f(),w&&C(),E(!0),S({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},I=()=>E(!1),k=()=>{A?I():T()},z={board:x._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:x._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:x._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:x._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},D=e&&e({active:A,openFlyout:k})||(0,l.jsx)(n.hU,{accessibilityLabel:z[b],icon:"add",iconColor:"gray",onClick:"section"===b?h:k,size:"lg"});return!A&&"board"===b&&(w?v="addSectionTooltip":r&&(v="planningActionsExperience")),A||"profileBoards"!==b||(v="createBoardTooltip"),(0,l.jsxs)(n.xu,{"data-test-id":"boardActionsButton",children:[(0,l.jsx)(n.xu,{ref:j,children:D}),A&&(0,l.jsx)(u,{anchor:j.current,idealDirection:t,isWithinFixedContainer:!!y,onAddOrEditDate:r,onAddSection:s,onClose:I,onCreateBoard:c,onCreatePin:h,onCreateStoryPin:p,surface:b}),"addSectionTooltip"===v&&(0,l.jsx)(d,{anchor:j.current,hideAddSectionTooltip:C}),"planningActionsExperience"===v&&(0,l.jsx)(m,{anchor:j.current}),"createBoardTooltip"===v&&(0,l.jsx)(_,{anchor:j.current})]})}},979798:(e,t,r)=>{"use strict";r.d(t,{Z:()=>eW});var i=r(667294),n=r(995228),o=r(197713),a=r(883119),s=r(121151),l=r(898781),d=r(773285),c=r(784590),u=r(19121),h=r(717615),p=r(845772),_=r(231947),m=r(694379),g=r(349700),f=r(758119),b=r(785893);let y=({handleClick:e,selectedBoard:t,sourceBoard:r,targetBoardCandidates:i})=>{let n=(0,l.ZP)(),o=(0,b.jsx)(a.xv,{inline:!0,weight:"bold",children:r?.name}),s=(0,b.jsx)(a.xv,{inline:!0,weight:"bold",children:r?.pin_count});return 0===i.length?(0,b.jsx)(a.xv,{children:n._('There is no board to merge this board into.', 'BoardMergeModal.NoBoards.Text', 'helper text for selecting merge target board')}):r?(0,b.jsxs)(a.xu,{marginEnd:4,marginStart:4,maxHeight:532,maxWidth:540,children:[(0,b.jsx)(a.xv,{align:"center",size:"300",children:(0,g.nk)(n._('Your board {{ sourceBoardName }} and all {{ sourceBoardPinCount }} pins will be gone for good. You won\u2019t be able to get them back.', 'BoardMergeModal.Merge.Text', 'helper text for merging board'),{sourceBoardName:o,sourceBoardPinCount:s})}),(0,b.jsx)(a.xu,{marginStart:2,marginTop:4,children:(0,b.jsx)(a.xv,{size:"100",children:n._('All boards', 'MergeModal.AllBoards.Text', 'all boards section title')})}),i.map(r=>(0,b.jsx)(a.iP,{onTap:()=>e(r),children:(0,b.jsxs)(a.xu,{alignItems:"center",color:t?.id===r.id?"secondary":"transparent",display:"flex",height:64,justifyContent:"between",padding:2,rounding:2,children:[(0,b.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:[(0,b.jsx)(a.zd,{height:48,rounding:2,width:48,children:(0,b.jsx)(a.Ee,{alt:n._('Board Cover Image', 'MergeModal.Board.CoverImage', 'board cover image'),color:"steelblue",fit:"cover",naturalHeight:48,naturalWidth:48,src:r.image_cover_url||""})}),(0,b.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,children:[(0,b.jsx)(a.xu,{marginBottom:1,children:(0,b.jsx)(a.xv,{size:"300",weight:"bold",children:r.name})}),(0,b.jsx)(a.xv,{size:"100",children:(0,g.nk)(n.ngettext('{{ count }} Pin', '{{ count }} Pins', r.pin_count ?? 0, 'boardEdit.boardMergeModalBody.pinCount', 'label for n amount of pins'),{count:(0,b.jsx)(m.Z,{value:r.pin_count??0})})})]})]}),(0,b.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:["secret"===r.privacy&&(0,b.jsx)(a.xu,{marginEnd:3,children:(0,b.jsx)(a.JO,{accessibilityLabel:n._('Private board icon', 'MergeModal.Board.Private.Icon', 'private board accesibility label'),color:"default",icon:"lock"})}),r.is_collaborative&&(0,b.jsx)(a.xu,{marginEnd:3,children:(0,b.jsx)(f.Z,{board:r,isCompact:!0})}),!!r.section_count&&(0,b.jsx)(a.JO,{accessibilityLabel:n._('Board section icon', 'MergeModal.Board.Section.Icon', 'board secetion accesibility label'),color:"default",icon:"arrow-forward"})]})]})},r.id))]}):null};function v(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends i.Component{constructor(...e){super(...e),v(this,"state",{selectedTargetBoard:null}),v(this,"handleChange",e=>{this.setState({selectedTargetBoard:e})}),v(this,"handleSubmit",()=>{let{onSubmit:e}=this.props,{selectedTargetBoard:t}=this.state;t&&e(t)}),v(this,"renderModalBody",()=>{let{boardsResource:e,sourceBoardId:t}=this.props,{selectedTargetBoard:r}=this.state,{data:i}=e;if(!i)return(0,b.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('Loading board list', 'spinner accessibility label', 'spinner accessibility label'),show:!0});let n=i.find(e=>e.id===t),o=i.filter(e=>e.id!==t&&!e.is_ads_only);return(0,b.jsx)(y,{handleClick:this.handleChange,selectedBoard:r,sourceBoard:n,targetBoardCandidates:o})})}render(){let{onCancel:e}=this.props,{selectedTargetBoard:t}=this.state,r=(0,b.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",padding:6,children:[(0,b.jsx)(a.xu,{}),(0,b.jsx)(a.X6,{size:"500",children:this.props.i18n._('Combine boards', 'BoardMergeModal.CombineBoards', 'title for board merging modal')}),(0,b.jsx)(a.iP,{accessibilityLabel:this.props.i18n._('Close merge boards modal', 'BoardMergeModal.Close.TapArea', 'close icon for board merging modal'),fullWidth:!1,onTap:e,children:(0,b.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Close merge boards modal', 'BoardMergeModal.Close.Label', 'close icon for board merging modal'),color:"default",icon:"cancel",size:18})})]});return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Move Pins to', 'BoardEdit.BoardMergeModal.accessibilityLabel', 'accessibility label for board merging modal'),footer:(0,b.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(a.zx,{color:"red",disabled:!t,onClick:this.handleSubmit,size:"lg",text:this.props.i18n._('Done', 'BoardMergeModal.Button.Submit', 'button for merging a board')})}),heading:r,onDismiss:e,children:(0,b.jsx)(a.xu,{padding:8,children:this.renderModalBody()})})}}function w(e){let t=(0,l.ZP)(),r=(0,p.Z)(),i=(0,u.Z)(),n=(0,h.Z)(),o=(0,_.Ms)(i,n),{anyEnabled:a}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),s={privacy_filter:"all",sort:"alphabetical",field_set_key:"detailed",username:"me",...a?{orbac_subject_id:r,username:o}:{}},m=(0,c.Z)({name:"BoardsResource",options:s,noCache:!0});return(0,b.jsx)(x,{...e,boardsResource:m,i18n:t})}var P=r(616550),S=r(407043),C=r(444445),j=r(50286),A=r(391254),E=r(685909),T=r(621354);function I(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let k=`.jumpstart-undo-icon {
  transform: scaleX(-1) rotate(90deg);
}`,z=()=>{};class D extends i.PureComponent{constructor(...e){super(...e),I(this,"state",{isHovered:!1}),I(this,"hover",()=>this.setState({isHovered:!0})),I(this,"unhover",()=>this.setState({isHovered:!1})),I(this,"handlePinClick",({event:e})=>{let{save:t,unsave:r,saved:i}=this.props;e.preventDefault(),e.stopPropagation(),i?r():t()})}render(){let{children:e,boardName:t,pinDescription:r,saved:i}=this.props,{isHovered:n}=this.state,o=r||this.props.i18n._('Save this Pin', 'jumpstartBoardPinWrapper.tapArea.accessibilityLabel', 'Accessibility label describing purpose of tap area');return(0,b.jsxs)(a.xu,{position:"relative",children:[(0,b.jsx)(A.Z,{unsafeCSS:k}),(0,b.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(a.iP,{accessibilityLabel:o,fullHeight:!0,fullWidth:!0,onMouseEnter:this.hover,onMouseLeave:this.unhover,onTap:this.handlePinClick,children:(n||i)&&(0,b.jsx)(a.xu,{paddingX:4,paddingY:4,position:"absolute",top:!0,width:C.yF,zIndex:new a.Ry(1),children:i?(0,b.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[(0,b.jsx)(a.xu,{flex:"grow",children:(0,b.jsx)(E.Z,{isNewlySaved:!0,name:t,url:null})}),(0,b.jsx)("div",{className:"jumpstart-undo-icon",children:(0,b.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Undo', 'Undo saving a pin to a board', 'Undo saving a pin to a board'),bgColor:"transparentDarkGray",icon:"refresh",iconColor:"white",onClick:z,size:"md"})})]}):(0,b.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(a.xu,{children:(0,b.jsx)(T.Z,{onClick:z,pinKey:null,saved:i,variant:"lego"})})})})})}),(0,b.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}}function R(e){let t=(0,l.ZP)();return(0,b.jsx)(D,{...e,i18n:t})}var B=r(8742),O=r(711262);function Z(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class L extends i.PureComponent{constructor(...e){super(...e),Z(this,"scollRef",(0,i.createRef)()),Z(this,"clickLogging",e=>{let{board:t}=this.props;this.props.logContextEvent({event_type:101,component:13380,element:10599,aux_data:{reason:e,board_id:t.id}})}),Z(this,"handleSave",()=>{this.clickLogging("save")}),Z(this,"handleDelete",()=>{this.clickLogging("delete")})}render(){let{resource:e,isDesktop:t,board:r}=this.props,{data:i}=e,n=e=>{if(e.description||e.grid_title){if(e.description&&e.description.trim())return e.description;if(e.grid_title&&e.grid_title.trim())return e.grid_title}return""};return(0,b.jsxs)(a.xu,{ref:this.scollRef,maxHeight:600,maxWidth:1112,overflow:"auto",padding:4,children:[t&&e.isLoaded&&i&&(0,b.jsx)(a.Rk,{columnWidth:C.yF,gutterWidth:C.$H,items:i,loadItems:e.fetchMore,renderItem:({data:e,itemIdx:t})=>(0,b.jsx)(O.Z,{eventContext:{viewType:5,viewParameter:3173,element:10599},onDelete:this.handleDelete,onSave:this.handleSave,pin:e,target:{board:r},children:({save:i,unsave:o,saved:a})=>(0,b.jsx)(R,{boardName:r.name??"",pinDescription:n(e)||"",save:i,saved:a,unsave:o,children:(0,b.jsx)(B.ZP,{attributionOption:"hide",authDesktopSurface:"JumpstartBoard",blockClickEvents:!0,duploQueryRef:null,pin:e,pinId:e.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},slotIndex:t,viewParameter:3173,viewType:5})})}),scrollContainer:()=>this.scollRef.current}),(0,b.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('Loading pins', 'Loading indicator', 'Loading indicator'),show:e.isFetching})]})}}function M({board:e}){let{logContextEvent:t}=(0,S.v)(),r=(0,l.ZP)(),i=(0,c.Z)({name:"BoardContentRecommendationResource",options:{type:"board",id:e.id,__track__referrer:21}}),n=(0,j.ZP)();return(0,b.jsx)(L,{board:e,i18n:r,isDesktop:"desktop"===n,logContextEvent:t,resource:i})}function N({board:e,onDismiss:t}){let r=(0,l.ZP)(),i=(0,P.k6)(),n=(0,P.TH)(),o=()=>{let e={...n&&n.state||{}};e.newBoard&&(delete e.newBoard,i.replace({...n,state:e})),t()};return(0,b.jsx)(s.ZP,{accessibilityModalLabel:r._('add pins to empty board modal', 'accessibility label for modal', 'accessibility label for modal'),allowScroll:!0,footer:(0,b.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsx)(a.xu,{"data-test-id":"done-button",children:(0,b.jsx)(a.zx,{accessibilityLabel:r._('Done', 'done adding pins to empty board', 'done adding pins to empty board'),color:"red",onClick:o,text:r._('Done', 'done adding pins to empty board', 'done adding pins to empty board')})})}),heading:r._('Save some Pins to your new board', 'jumpstartBoardModal.heading', 'heading for modal to add Pins to an empty board'),onDismiss:o,size:1112,children:(0,b.jsx)(M,{board:e})})}var F=r(558986);let U="474x",H=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),$=e=>["236x",U,"736x"].map((t,r)=>`${H(t)(e)} ${r+1}x`).join(", ");function V({boardId:e,customizable:t}){let r=(0,c.Z)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),i=!r.isLoaded,n=(r.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return(0,b.jsx)(F.ZP,{customizable:t,getDownloadImageURL:H("1200x"),getMainImageURL:H(U),getThumbnailImageSrcSet:$,id:e,images:n,isLoadingImages:i})}var W=r(601961),G=r(505132),q=r(702664),K=r(499128),Y=r(343341),X=r(607989),J=r(254176);function Q({shouldArchive:e,board:t,onClose:r,onConfirm:i}){let n=(0,l.ZP)(),o=(0,q.useDispatch)(),{showOneToast:s}=(0,Y.F9)(),{anyEnabled:c}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),p=(0,u.Z)(),m=(0,h.Z)(),f=c?(0,_.lJ)(p,m):"";return(0,b.jsx)(X.Z,{confirmButtonLabel:e?n._('Archive', 'BoardPage.ModalContents.BoardModalManager', 'button label on confirming board archive'):n._('Unarchive', 'BoardUnarchiveConfirmation.BoardEditConfirmation.buttonLabel', 'button label on confirming board unarchive'),heading:e?n._('Archive this board?', 'BoardPage.ModalContents.BoardModalManager', 'modal heading for board archive confirmation'):n._('Unarchive this board?', 'BoardUnarchiveConfirmation.BoardEditConfirmation.heading', 'modal heading for board unarchive confirmation'),message:(0,g.nk)(e?n._('If you archive {{ boardName }}, we\u2019ll hide it from your profile and you won\'t be able to save Pins to it. If you change your mind, you can restore it at the bottom of your profile, below your active boards.', 'BoardPage.ModalContents.BoardModalArchiveMessage', 'boardName:Confirmation message when archiving boards'):n._('If you unarchive {{ boardName }}, it will show up on your profile and you\u2019ll be able to save new Pins to it.', 'BoardUnarchiveConfirmation.BoardEditConfirmation.message', 'Confirmation message when unarchiving a board'),{boardName:(0,b.jsx)(a.xv,{inline:!0,weight:"bold",children:t.name},t.name)}),onCancel:r,onConfirm:()=>{e?o((0,J.xk)(t.id,f)):o((0,J.YV)(t.id,f)),i(),r(),s(({hideToast:r})=>(0,b.jsx)(K.ZP,{imageUrl:t.image_cover_url??"",onHide:r,text:e?(0,g.nk)(n._('Archived {{ boardName }}', 'board.BoardPage.ModalContents.BoardArchiveConfirmation', 'Toast text on complete archiving board'),{boardName:t.name}).join(""):(0,g.nk)(n._('Unarchived {{ boardName }}', 'BoardUnarchiveConfirmation.handleConfirmUnarchive.message', 'Toast text on completing unarchiving board'),{boardName:t.name}).join("")}))}})}var ee=r(27255),et=r(331974),er=r(876921);function ei({fetchMore:e,followers:t,followersCount:r,isFetching:n,onDismiss:o}){let d=(0,l.ZP)();return(0,b.jsx)(s.ZP,{accessibilityModalLabel:d._('Board Followers', 'boardFollowersList.modal.accessibilityLabelForModal', 'Accessibility label for modal'),heading:(0,b.jsx)(a.xu,{display:"flex",justifyContent:"center",padding:8,children:(0,b.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:(0,g.nk)(d.ngettext('{{ followersCount }} Follower', '{{ followersCount }} Followers', r, 'Label for the number of people following a board', 'Label for the number of people following a board'),{followersCount:r.toLocaleString()})})}),onDismiss:o,size:"sm",children:(0,b.jsx)(a.xu,{maxHeight:600,overflow:"auto",paddingX:6,children:t&&t.length>0?(0,b.jsxs)(i.Fragment,{children:[t.map(e=>(0,b.jsx)(er.Z,{user:e},e.id)),r-t.length>0?(0,b.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,padding:5,children:(0,b.jsx)(a.zx,{disabled:n,onClick:e,size:"lg",text:d._('See more', 'BoardFollowerList.SeeMore', 'Button to load more items in the board follower list')})}):null]}):(0,b.jsx)(a.xu,{marginBottom:8,children:(0,b.jsx)(a.$j,{accessibilityLabel:d._('Loading board followers', 'BoardModalManager.Spinner', 'Spinner which shows when loading board followers'),show:!0})})})})}function en({boardId:e,followersCount:t,onDismiss:r}){let i=(0,et.Z)({boardId:e});if(!i)throw Error(`Board URL: Required arguments are missing. ${JSON.stringify({boardId:e})}`);let{data:n=[],fetchMore:o,isFetching:a}=(0,c.Z)({name:"ApiResource",options:{url:i.concat("followers/"),data:{page_size:ee.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE}}});return(0,b.jsx)(ei,{fetchMore:o,followers:n,followersCount:t,isFetching:a,onDismiss:r})}function eo({onCompleteBulkDelete:e,onClearModal:t,pinCountToDelete:r}){let i=(0,l.ZP)(),n=1===r?i._('Delete this Pin', ' - ', ' -- '):i._('Delete these Pins', ' - ', ' -- '),o=1===r?i._('Are you sure you want to permanently delete this Pin?', ' - ', ' -- '):i._('Are you sure you want to permanently delete these Pins?', ' - ', ' -- ');return(0,b.jsx)(s.ZP,{accessibilityModalLabel:i._('delete Pins', 'accessibility label for bulk delete modal', 'accessibility label for bulk delete modal'),footer:(0,b.jsxs)(a.xu,{children:[(0,b.jsx)(a.xu,{marginBottom:2,children:(0,b.jsx)(a.zx,{fullWidth:!0,onClick:t,text:i._('Cancel', ' - ', ' -- ')})}),(0,b.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{e(),t()},text:i._('Delete', ' - ', ' -- ')})]}),heading:n,onDismiss:t,children:(0,b.jsx)(a.xu,{paddingX:8,children:(0,b.jsx)(a.xv,{children:o})})})}var ea=r(897103);function es(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class el extends i.Component{constructor(...e){super(...e),es(this,"state",{chosenBoardId:null}),es(this,"handleChosenBoardChange",e=>{this.setState({chosenBoardId:e.id})}),es(this,"handleConfirm",()=>{let{onCopyToBoard:e,onClearModal:t}=this.props,{chosenBoardId:r}=this.state;r&&(e(r),t())})}render(){let{onClearModal:e,pinCountToCopy:t}=this.props,{chosenBoardId:r}=this.state,i=1===t?this.props.i18n._('Pick another board for this Pin', ' - ', ' -- '):this.props.i18n._('Pick another board for these Pins', ' - ', ' -- ');return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Copy your pins to a different board', 'BoardPage.ModalContents.BulkEditBoardPicker.accessibilityModalLabel', 'Accessiblilty modal label'),footer:(0,b.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,b.jsx)(a.xu,{paddingX:1,children:(0,b.jsx)(a.zx,{fullWidth:!0,onClick:e,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,b.jsx)(a.xu,{paddingX:1,children:(0,b.jsx)(a.zx,{color:"red",disabled:!r,fullWidth:!0,onClick:this.handleConfirm,text:this.props.i18n._('Copy', ' - ', ' -- ')})})]}),heading:i,onDismiss:e,children:(0,b.jsx)(a.xu,{minHeight:400,padding:8,children:(0,b.jsx)(ea.Z,{onBoardChosen:this.handleChosenBoardChange})})})}}function ed(e){let t=(0,l.ZP)();return(0,b.jsx)(el,{...e,i18n:t})}var ec=r(515990),eu=r(400669),eh=r(414327),ep=r(563339),e_=r(130460),em=r(350118),eg=r(958290);function ef({previewPin:e,extraPinCount:t,showFullImage:r}){if(!e)return(0,b.jsx)(eg.Z,{height:214,pin:null,rounded:!0,width:142});let{description:i,images:n={},dominant_color:o}=e,a=n["474x"],s=Math.min(217*a.height/a.width,450);return(0,b.jsx)(eg.Z,{additionalPinCount:t,height:r?s:214,pin:{description:i,dominantColor:o,imageUrl:a.url},rounded:!0,width:r?217:142})}function eb({pins:e}){let t=e.length>0&&e.length<=2?e.length:4,r=[...Array(t).keys()].map(r=>(0,b.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{padding:3}},display:"inlineBlock",children:(0,b.jsx)(ef,{extraPinCount:3===r?Math.max(e.length-t,0):0,previewPin:e[r],showFullImage:1===e.length})},r));return(0,b.jsx)(a.xu,{alignItems:"center",display:0===e.length||e.length>2?"inlineBlock":"flex",height:440,justifyContent:"center",width:296,children:r})}var ey=r(793234),ev=r(553751),ex=r(411547),ew=r(984206),eP=r(363333),eS=r(615298);function eC(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ej extends i.Component{constructor(...e){super(...e),eC(this,"getSections",e=>{let{board:t,canMoveToOtherBoards:r}=this.props,i=this.props.boardsResource.data?.all_boards??[],n=this.props.sectionsResource.data??[],o=i.filter(e=>e.id!==t.id);return e.length>=ew.Z?[n.length?{items:(0,eS.j)([t],e),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},{items:(0,eS.j)(n,e,"title"),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}},r?{items:(0,eS.j)(o,e)}:{items:[]}]:[n.length?{title:this.props.i18n._('Current board', 'title in move pins flow', 'title in move pins flow'),items:[t,...n],customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},r?{title:this.props.i18n._('Other boards', 'heading text for a list of a user\'s other boards in the move pins flow', 'heading text for a list of a user\'s other boards in the move pins flow'),items:o}:{items:[]}]}),eC(this,"isDisabled",e=>e.id===this.props.selectedRowId)}render(){let{board:e,boardsResource:{error:t,isLoaded:r},boardSavedTo:i,onRowSelected:n,onSectionCreate:o,pinId:a,sectionsResource:{error:s,isLoaded:l},selectedRowId:d,createButtonLabel:c}=this.props;return(0,b.jsx)(eP.Z,{boardSavedTo:i,createButtonLabel:c,disabledRowId:d,getSections:this.getSections,hasLoadError:!!t||!!s,isLoaded:r&&l,onCreate:o,onSelected:n,pinId:a},e.id)}}function eA(e){let t=(0,l.ZP)(),r=(0,p.Z)(),i=(0,u.Z)(),n=(0,h.Z)(),{anyEnabled:o}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),a=(0,_.Ms)(i,n),s=(0,c.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id,orbac_subject_id:o?r:""}}),m=(0,c.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",onlyFetchBoards:!0,orbac_subject_id:o?r:"",...o&&o?{username:a}:{}}});return(0,b.jsx)(ej,{...e,boardsResource:m,i18n:t,sectionsResource:s})}function eE({board:e,boardSavedTo:t,onMove:r,onSectionedBoardSelect:i,onSectionCreate:n,selectedRowId:o,showOtherBoards:s}){let d=(0,l.ZP)(),c=s&&!e.section_count?d._('Choose board', ' - ', ' -- '):d._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'),u=d._('Add section', 'Button for creating a board section', 'Button for creating a board section');return(0,b.jsx)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:"relative",right:!0,rounding:2,top:!0,width:330,children:!e.section_count&&e.is_ads_only?(0,b.jsxs)(a.kC,{direction:"column",flex:"grow",overflow:"auto",children:[(0,b.jsx)(a.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,b.jsx)(a.xu,{padding:4,children:(0,b.jsx)(a.xv,{align:"center",size:"400",weight:"bold",children:d._('Add a section to organize your Ad-only Pins', 'moveSectionPane.sections.adOnly', 'Description for empty list of sections for Ad Only Pins board')})})}),(0,b.jsx)(a.xu,{borderStyle:"shadow",children:(0,b.jsx)(ex.Z,{buttonLabel:u,hasHoverState:!0,onClick:()=>n("")})})]}):(0,b.jsxs)(a.kC,{direction:"column",flex:"grow",children:[(0,b.jsx)(a.xu,{paddingX:3,paddingY:3,children:(0,b.jsx)(a.X6,{size:"400",children:c})}),(0,b.jsx)(eA,{board:e,boardSavedTo:t,canMoveToOtherBoards:s,createButtonLabel:u,onRowSelected:t=>{"board_section"===t.type?r(e,t):"board"===t.type&&(t&&t.id!==e.id&&(t.section_count||0)>0?i(t):r(t,null))},onSectionCreate:n,selectedRowId:o})]})})}var eT=r(920912);function eI(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ek extends i.Component{constructor(e){super(e),eI(this,"showSuccessToast",()=>{let{movedBoard:e,movedSection:t}=this.state,{board:r,inSelectAll:i,toastManagerContext:n}=this.props;if(i)n.showOneToast(({hideToast:e})=>(0,b.jsx)(K.ZP,{duration:eT.A,onHide:e,text:this.props.i18n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.')}));else if(e){let i=t?(0,g.nk)(this.props.i18n._('Moved to {{sectionName}} in {{boardName}}', 'Toast for successfully moving pins to a section within a board', 'Toast for successfully moving pins to a section within a board'),{sectionName:t.title,boardName:e.name}).join(""):(0,g.nk)(this.props.i18n._('Moved to {{boardName}}', 'Toast for successfully moving pins to a different board', 'Toast for successfully moving pins to a different board'),{boardName:e.name}).join(""),o=t?`${e.url??""}${t.slug??""}`:e.url;n.showOneToast(({hideToast:e})=>(0,b.jsx)(K.ZP,{duration:eT.A,href:o,imageUrl:r.image_cover_url??"",onHide:e,text:i}))}}),eI(this,"handleMove",(e,t)=>{let{board:r,boardSection:i,dispatch:n,inSelectAll:o,onCompleteMove:a,selectedPinIds:s,orbacSubjectId:l}=this.props,d={boardId:r.id,sectionId:i&&i.id||null},c={boardId:e.id,sectionId:t&&t.id||null};if(d.boardId===c.boardId&&d.sectionId===c.sectionId)return;let u=c.sectionId||c.boardId;this._setBoardSavedTo(u,eT.S.LOADING),n((0,ep.Z)({inverseSelection:o,selectedPinIds:s,source:d,target:c,orbacSubjectId:l},this.props.i18n)).then(()=>{this._setBoardSavedTo(u,eT.S.SUCCESS),this.setState({movedBoard:e,movedSection:t}),a()})}),eI(this,"handleSectionedBoardSelect",e=>{this.setState({initialBoardName:"",selectedBoard:e})}),eI(this,"handleSectionCreateComplete",e=>{let t;let{onCompleteMove:r,toastManagerContext:i}=this.props;e.preview_pins&&e.preview_pins[0]&&(t=e.preview_pins[0].image_square_url),r();let n=(0,g.nk)(this.props.i18n._('Moved to {{sectionName}} in {{boardName}}', 'moveSectionModal.handleSectionCreate.toast', 'Toast for successfully moving pins to a section within a board'),{sectionName:e.title,boardName:e.board?.name??""});i.showOneToast(({hideToast:r})=>(0,b.jsx)(K.ZP,{duration:eT.A,href:`${e.board?.url??""}${e.slug??""}`,imageUrl:t??"",onHide:r,text:n.join("")}))}),eI(this,"handleShowCreate",e=>{this.setState({initialBoardName:e,showCreate:!0})}),eI(this,"handleHideCreate",()=>{let{onClearModal:e,sectionCount:t}=this.props;0===t?e():this.setState({initialBoardName:"",showCreate:!1})});let{board:t,viewer:r,showCreateOnly:i,orbacSubjectId:n}=e;this.state={boardSavedTo:null,initialBoardName:"",movedBoard:null,movedSection:null,selectedBoard:e.board,showCreate:i||![r.id,n].includes(t.owner?.id)&&0===t.section_count}}componentWillUnmount(){let{dispatch:e,viewer:t}=this.props,{movedBoard:r,movedSection:i}=this.state;r&&(!i&&t.isAuth&&e((0,eh.jB)("BoardFeedResource",(0,ey.q)(r,t))),this.showSuccessToast())}_setBoardSavedTo(e,t){this.setState({boardSavedTo:{board:e,state:t}})}render(){let{board:e,boardSection:t,inSelectAll:r,onClearModal:i,selectedPinIds:n,selectedPins:o,shouldShowOtherBoards:l}=this.props,{boardSavedTo:d,initialBoardName:c,selectedBoard:u,showCreate:h}=this.state,p=r?330:660;return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Choose the section or board you want to move pins to', 'moveSectionModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),onDismiss:i,size:p,children:(0,b.jsxs)(a.xu,{color:"default",display:"flex",height:540,rounding:2,width:p,children:[!r&&(0,b.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},marginBottom:6,paddingX:2,children:(0,b.jsx)(eb,{pins:o})}),h?(0,b.jsx)(ev.Z,{board:u,completeCreateSectionAction:this.handleSectionCreateComplete,initialName:c,onClearModal:this.handleHideCreate,pinImport:{all:r,pinIds:n},showTitle:!0,sourceBoard:e,sourceSection:t}):(0,b.jsx)(eE,{board:u,boardSavedTo:d,onMove:this.handleMove,onSectionCreate:this.handleShowCreate,onSectionedBoardSelect:this.handleSectionedBoardSelect,selectedRowId:t&&t.id||e&&e.id,showOtherBoards:l})]})})}}function ez(e){let t=(0,l.ZP)(),r=(0,q.useDispatch)(),i=(0,u.Z)(),n=i.isAuth?i.id:"",o=(0,em.S6)(),{anyEnabled:a}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),s=(0,p.Z)(),c=(0,h.Z)(),m=e.selectedPinIds.reduce((e,t)=>{let r=o(t);return r?e.concat([r]):e},[]).filter(Boolean),{board:g}=e,{canPerformAction:f}=(0,eu.Z)({boardKey:{type:"deprecated",data:g}}),y=!g.is_ads_only&&(f({action:2,viewer:i})||!e.selectedPinIds.some(e=>{let t=o(e);return t?.pinner?.id!==n})||a&&(0,_.KY)(i,g,c)),v=(0,e_.gC)()(g.id),x=v?.section_count??0;return(0,b.jsx)(ek,{...e,dispatch:r,i18n:t,orbacSubjectId:a?s:"",sectionCount:x,selectedPins:m,shouldShowOtherBoards:y,toastManagerContext:(0,Y.F9)(),viewer:i})}var eD=r(124237),eR=r(185845),eB=r(678638),eO=r(241563);function eZ(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eL extends i.Component{constructor(...e){super(...e),eZ(this,"state",{section:null}),eZ(this,"handleSectionChange",e=>{this.setState({section:e})}),eZ(this,"handleSubmit",()=>{let{onSubmit:e}=this.props,{section:t}=this.state;t&&e(t)})}render(){let{board:e,boardSection:t,onCancel:r}=this.props,{section:i}=this.state;return(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Move Pins', 'BoardPage.ModalContents.SectionMergeModal', 'accessibility label for merging modal'),footer:(0,b.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsxs)(a.hE,{children:[(0,b.jsx)(a.zx,{onClick:r,size:"lg",text:this.props.i18n._('Cancel', ' - ', ' -- ')}),(0,b.jsx)(a.zx,{color:"red",disabled:!i,onClick:this.handleSubmit,size:"lg",text:this.props.i18n._('Move Pins and delete section', 'button for merging a board section', 'button for merging a board section')})]})}),heading:i?this.props.i18n._('Move Pins and delete section?', 'title for board section merging modal', 'title for board section merging modal'):this.props.i18n._('Move all Pins to...', 'title for board section merging modal', 'title for board section merging modal'),onDismiss:()=>{r()},size:"md",children:(0,b.jsx)(a.xu,{minHeight:400,padding:8,children:(0,b.jsx)(eO.Z,{board:e,mergingFromSectionId:t.id,onSectionChange:this.handleSectionChange,selectedSectionId:i?i.id:null})})})}}function eM(e){let t=(0,l.ZP)();return(0,b.jsx)(eL,{...e,i18n:t})}function eN(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eF extends i.Component{constructor(...e){super(...e),eN(this,"state",{deleting:!1,editMode:"main",title:this.props.boardSection.title??""}),eN(this,"handleSaveSection",e=>{if(e.preventDefault(),this.saveDisabled())return;let{board:t,boardSection:r,dispatch:i,onSaveSection:n,viewer:o,orbacActingAs:a}=this.props,{title:s}=this.state,l=(0,_.lJ)(o,a);i((0,eB.$n)(t.id,r.id??"",s.trim(),l)).then(n).catch(e=>this.setState({titleErrorMessage:e.message||this.props.i18n._('Invalid section name', 'error message of section name input field', 'error message of section name input field')}))}),eN(this,"saveDisabled",()=>this.state.title===this.props.boardSection.title||""===this.state.title.trim()),eN(this,"handleChangeTitle",({value:e})=>{this.setState({title:e,titleErrorMessage:void 0})}),eN(this,"handleDeleteSectionButtonClick",()=>{this.setState({editMode:"confirmDelete"})}),eN(this,"handleMergeButtonClick",()=>{this.setState({editMode:"merge"})}),eN(this,"handleBackToMainMenu",()=>{this.setState({editMode:"main"})}),eN(this,"handleDeleteSection",()=>{let{board:e,boardSection:t,dispatch:r,onDeleteSection:i,toastManagerContext:n,viewer:o,orbacActingAs:a}=this.props;if(this.state.deleting)return;let{id:s}=t;this.setState({deleting:!0}),r((0,eB.F$)(e.id,s??"",(0,_.lJ)(o,a))).then(()=>{i(),n.showToast(({hideToast:e})=>(0,b.jsx)(K.ZP,{onHide:e,text:this.props.i18n._('Section deleted!', 'Toast for successfully deleting a board section', 'Toast for successfully deleting a board section')}))}).catch(e=>eD.Z.showError(e.message||this.props.i18n._('Failed to delete the section', 'error message for failed to delete section', 'error message for failed to delete section')))}),eN(this,"handleMergeSection",e=>{let{board:t,boardSection:r,dispatch:i,showBlockingActionToast:n,onDeleteSection:o}=this.props;this.state.deleting||(this.setState({deleting:!0}),this.props.logContextEvent({event_type:7173,object_id_str:r.id,aux_data:{merge_flow:"menu"}}),i((0,eB.d9)(t.id,r.id??"",e.id??"")).then(o).then(()=>{n({actionType:"merge",board:t,section:e})}).catch(e=>eD.Z.showError(e.message||this.props.i18n._('Failed to merge the section', 'error message for failed to merge section', 'error message for failed to merge section'))))})}componentDidMount(){window.requestAnimationFrame(()=>{let e=this._textField;e&&(e.focus(),e.select())})}render(){let{board:e,boardSection:t,onClearModal:r,viewer:i,orbacActingAs:n,canPerformAction:o}=this.props,{title:l,titleErrorMessage:d,editMode:c}=this.state,u=o({action:10,viewer:i})||(0,_.KY)(i,e,n),h=e.section_count>1&&o({action:13,viewer:i});return"confirmDelete"===c?(0,b.jsx)(X.Z,{confirmButtonLabel:this.props.i18n._('Delete section', 'button for deleting a board section', 'button for deleting a board section'),message:this.props.i18n._('Once you delete a section and all its Pins, you can\'t undo it!', ' - ', ' -- '),onCancel:this.handleBackToMainMenu,onConfirm:this.handleDeleteSection}):"merge"===c?(0,b.jsx)(eM,{board:e,boardSection:t,onCancel:this.handleBackToMainMenu,onSubmit:this.handleMergeSection}):(0,b.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Edit your section', ' - ', ' -- '),footer:(0,b.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,b.jsx)(a.sg,{span:6,children:(u||h)&&(0,b.jsxs)(a.xu,{display:"flex",marginEnd:-1,marginStart:-1,children:[u&&(0,b.jsx)(a.xu,{"data-test-id":"delete-section-button",paddingX:1,children:(0,b.jsx)(a.zx,{onClick:this.handleDeleteSectionButtonClick,text:this.props.i18n._('Delete', 'Delete button', 'Delete button')})}),h&&(0,b.jsx)(a.xu,{paddingX:1,children:(0,b.jsx)(a.zx,{onClick:this.handleMergeButtonClick,text:this.props.i18n._('Merge', 'button for merging a board section', 'button for merging a board section')})})]})}),(0,b.jsx)(a.sg,{span:6,children:(0,b.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,b.jsx)(a.xu,{marginEnd:3,children:(0,b.jsx)(a.zx,{onClick:r,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,b.jsx)(a.zx,{color:"red",disabled:this.saveDisabled(),onClick:({event:e})=>{this.handleSaveSection(e)},text:this.props.i18n._('Save', ' - ', ' -- '),type:"submit"})]})})]}),heading:this.props.i18n._('Edit your section', ' - ', ' -- '),onDismiss:r,size:"md",children:(0,b.jsx)("form",{onSubmit:this.handleSaveSection,children:(0,b.jsx)(a.xu,{direction:"column",display:"flex",padding:8,children:(0,b.jsx)(a.nv,{ref:e=>{this._textField=e},errorMessage:d,id:"title",label:this.props.i18n._('Name', ' - ', ' -- '),onChange:this.handleChangeTitle,size:"lg",value:l})})})})}}function eU(e){let{board:t}=e,{logContextEvent:r}=(0,S.v)(),i=(0,l.ZP)(),n=(0,u.Z)(),o=(0,h.Z)(),{showBlockingActionToast:a}=(0,eR.Z)(),s=(0,q.useDispatch)(),{canPerformAction:d}=(0,eu.Z)({boardKey:{type:"deprecated",data:t}});return(0,b.jsx)(eF,{...e,canPerformAction:d,dispatch:s,i18n:i,logContextEvent:r,orbacActingAs:o,showBlockingActionToast:a,toastManagerContext:(0,Y.F9)(),viewer:n})}function eH({source:e,target:t,onConfirm:r,onCancel:i}){let n=(0,l.ZP)();return(0,b.jsx)(s.ZP,{accessibilityModalLabel:n._('Move Pins and delete section?', 'title for board section merging confirmation', 'title for board section merging confirmation'),footer:(0,b.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,b.jsxs)(a.hE,{children:[(0,b.jsx)(a.zx,{onClick:i,text:n._('Cancel', ' - ', ' -- ')}),(0,b.jsx)(a.zx,{color:"red",onClick:r,text:n._('Move Pins and delete section', 'button for merging a board section', 'button for merging a board section')})]})}),heading:n._('Move Pins and delete section?', 'title for board section merging confirmation', 'title for board section merging confirmation'),onDismiss:i,children:(0,b.jsx)(a.xu,{padding:8,children:(0,b.jsx)(a.xv,{children:(0,g.nk)(n._('You\'re about to move all Pins from your {{ sourceName }} section to your {{ targetName }} section.', 'helper text for section merge confirmation modal', 'helper text for section merge confirmation modal'),{sourceName:(0,b.jsx)(a.xv,{inline:!0,weight:"bold",children:e.title},"source"),targetName:(0,b.jsx)(a.xv,{inline:!0,weight:"bold",children:t.title},"target")})})})})}var e$=r(638044);let eV=(0,i.lazy)(()=>Promise.all([r.e(10966),r.e(741),r.e(49510),r.e(49426),r.e(57156)]).then(r.bind(r,357156)));function eW({actions:e,board:t,boardSection:r,bulkEditSelectedPins:i,currentModal:a,groupPinsData:s,inSelectAll:l,onClearModal:d,mergeConfirmationModalProps:c}){let{completeCreateSectionAction:u,completeMoveAction:h,onBoardArchiveChange:p,onBoardDelete:_,onBoardLeave:m,onBoardSectionDelete:g,onBoardSectionSave:f,onConfirmMergeSection:y,onCopyPinsToBoard:v,onDeletePins:x,onBoardMerge:P}=e;switch(a){case ec.s.boardArchiveConfirmation:return p?(0,b.jsx)(Q,{board:t,onClose:d,onConfirm:p,shouldArchive:!0}):null;case ec.s.boardUnarchiveConfirmation:return p?(0,b.jsx)(Q,{board:t,onClose:d,onConfirm:p,shouldArchive:!1}):null;case ec.s.boardEdit:return(0,b.jsx)(o.default,{boardId:t.id,onBoardDelete:_,onBoardLeave:m,onClose:d});case ec.s.bulkDelete:return x?(0,b.jsx)(eo,{onClearModal:d,onCompleteBulkDelete:x,pinCountToDelete:i&&i.length||0}):null;case ec.s.bulkCopy:return v?(0,b.jsx)(ed,{currentBoardId:t.id,onClearModal:d,onCopyToBoard:v,pinCountToCopy:i&&i.length||0}):null;case ec.s.collaboratorsAndPermissions:return(0,b.jsx)(n.Z,{children:(0,b.jsx)(eV,{board:t,onDismiss:d})});case ec.s.editSection:return r?(0,b.jsx)(eU,{board:t,boardSection:r,onClearModal:d,onDeleteSection:g,onSaveSection:f}):null;case ec.s.mergeBoard:return P?(0,b.jsx)(w,{onCancel:d,onSubmit:P,sourceBoardId:t.id}):null;case ec.s.createSection:case ec.s.moveSection:return!!i&&!!h&&(0,b.jsx)(ez,{board:t,boardSection:r,inSelectAll:!!l,onClearModal:d,onCompleteMove:h,selectedPinIds:i,showCreateOnly:a===ec.s.createSection});case ec.s.sectionMergeConfirm:return c&&y?(0,b.jsx)(eH,{onCancel:d,onConfirm:y,source:c.source,target:c.target}):null;case ec.s.followers:return(0,b.jsx)(en,{boardId:t.id,followersCount:t.follower_count??0,onDismiss:d});case ec.s.pincode:return(0,b.jsx)(W.Z,{objectId:t.id,onHide:d,children:(0,b.jsx)(V,{boardId:t.id,customizable:!!t.owner?.is_partner})});case ec.s.jumpstartBoard:return(0,b.jsx)(N,{board:t,onDismiss:d});case ec.s.simpleCreateSection:return u?(0,b.jsx)(G.Z,{onClose:d,onSectionCreate:u,selectedBoard:t}):null;case ec.s.groupPins:return(0,b.jsx)(e$.Z,{boardId:t.id,clusterId:s?.clusterId,onDismiss:d,suggestedSectionTitle:s?.suggestedSectionName||""});default:return null}}},515990:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});let i={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},796968:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(667294),n=r(702664),o=r(616550),a=r(507712),s=r(971687);function l(){let e=(0,n.useDispatch)(),t=(0,o.k6)(),{pathname:r}=(0,o.TH)(),l=(0,n.useSelector)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,i.useEffect)(()=>{(0,a.Z)();let i=r.split("/"),n=`/${i[1]}/`;l[r]&&(e((0,s.m)(n,l[r])),t.replace(n))},[])}},337586:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(667294),n=r(702664),o=r(407043),a=r(946984),s=r(124237),l=r(898781),d=r(185845),c=r(678638);function u({board:e}){let{logContextEvent:t}=(0,o.v)(),r=(0,l.ZP)(),[u,h]=(0,i.useState)(null),p=(0,n.useDispatch)(),{showBlockingActionToast:_}=(0,d.Z)(),m=(0,a.Z)();return{handleShowMergeSectionsConfirmationModal:(e,t)=>{if(m){m();return}h({source:e,target:t})},mergeConfirmationModalProps:u,onConfirm:()=>{if(m){m();return}if(!u)return;let{source:i,target:n}=u;h(null),t({event_type:7173,object_id_str:i.id,aux_data:{merge_flow:"dnd"}}),p((0,c.d9)(e.id,i.id??"",n.id??"")).then(()=>{_({actionType:"merge",board:e,section:n})}).catch(e=>{s.Z.showError(e.message||r._('Failed to merge sections', 'useSectionMergeAction.errorMessage', 'Error message when failed to merge sections'))})}}}},488430:(e,t,r)=>{"use strict";r.d(t,{Z:()=>tj});var i=r(667294),n=r(702664),o=r(616550),a=r(883119),s=r(219286),l=r(237056),d=r(830944),c=r(4294),u=r(407043),h=r(946984),p=r(784450),_=r(558068),m=r(773285),g=r(430323),f=r(343341),b=r(829407),y=r(19121),v=r(717615),x=r(231947),w=r(965900),P=r(320415),S=r(391254),C=r(785893);function j({layoutType:e,thumbnails:t}){switch(e){case 4:let r=t&&t[0]&&t[0]["236x"];return(0,C.jsx)(a.zd,{height:80,rounding:4,width:80,children:r?(0,C.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:r.height,naturalWidth:r.width,src:r.url||""}):(0,C.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,C.jsx)(a.xu,{color:"secondary",height:80,width:39.4}),(0,C.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,C.jsx)(a.xu,{color:"secondary",height:39.4,width:39.4}),(0,C.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,C.jsx)(a.zd,{height:80,rounding:4,width:80,children:(0,C.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let r=!!t&&t.length>0&&t[e];return(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,C.jsx)(a.xu,{height:80,width:39.4,children:r&&(0,C.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:r["236x"].url||""})})},e)})})});default:return null}}let A=[502043,502085],E=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function T({boardId:e,displayData:t,complete:r,dismiss:n,handleShowArchiveConfirmation:o,handleShowGroupPinsModal:s}){let{logContextEvent:l}=(0,u.v)(),d=t.custom_properties,[c,h]=(0,i.useState)(null),p=e=>{if(!c){let t=setTimeout(()=>{e()},2e4);h(t)}};(0,i.useEffect)(()=>()=>clearTimeout(c),[c]);let _={2:o,3:()=>{d&&s(d.cluster_id,d.section_name)}};return(0,i.useEffect)(()=>{p(n),l({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,C.jsxs)(a.mh,{children:[(0,C.jsx)(S.Z,{unsafeCSS:E}),(0,C.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,C.jsx)(a.xu,{flex:"none",children:(0,C.jsx)(j,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,C.jsxs)(a.xu,{marginStart:4,children:[(0,C.jsx)(a.xv,{inline:!0,children:(0,C.jsx)(a.X6,{size:"400",children:t.text})}),(0,C.jsxs)(a.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,C.jsx)(a.zx,{color:"gray",onClick:()=>{l({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),n()},text:t.dismiss_button.text}),(0,C.jsx)(a.xu,{paddingX:2,children:(0,C.jsx)(a.zx,{color:"red",onClick:()=>{_[t.complete_button.action_type](),l({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),r()},text:t.complete_button.text})})]})]})]})]})}function I({boardId:e,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:r}){return(0,C.jsx)(P.Z,{eligibleIds:A,placementId:18,children:({experience:i,complete:n,dismiss:o})=>(0,C.jsx)(T,{boardId:e,complete:n,dismiss:o,displayData:i.display_data,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:r})})}var k=r(612263),z=r(640262),D=r(730654),R=r(534991),B=r(254176),O=r(979798),Z=r(515990),L=r(337586),M=r(121151),N=r(898781),F=r(349700);function U(){let e=(0,N.ZP)(),t=(0,C.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,C.jsx)(a.xv,{children:(0,F.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,C.jsx)(a.xu,{display:"inlineBlock",children:(0,C.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})}),r=t=>(0,C.jsx)(a.kC,{justifyContent:"end",children:(0,C.jsx)(a.zx,{onClick:()=>t(),text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),i=t=>(0,C.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,C.jsx)(a.xu,{maxWidth:400,children:(0,C.jsx)(a.X6,{align:"center",size:"500",children:(0,F.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,C.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,C.jsx)(a.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,C.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,C.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,C.jsx)(a.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,C.jsx)(a.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"md"})})]});return(0,C.jsx)(P.Z,{eligibleIds:[503077],placementId:18,children:({complete:n,dismiss:o})=>(0,C.jsx)(M.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:r(n),heading:i(o),onDismiss:o,size:"sm",children:t})})}var H=r(99137),$=r(956800),V=r(492583),W=r(785859),G=r(596493),q=r(120973),K=r(656061);function Y({board:e,currentFilter:t,eligibleFilters:r,isOwnBoard:n,surface:o,setCurrentFilter:s,setTitle:l}){let d=(0,H.x)(),{logContextEvent:c}=(0,u.v)(),h=(0,N.ZP)(),p=(0,i.useRef)(null),_=d?.boardPinDensity,[m,g]=(0,i.useState)(!1),f=()=>{g(!1)},b=e=>{(0,q.Z)({boardDensity:e,component:"board"===o?13183:13187,viewType:"board"===o?5:164},c),(0,K.Z)({density:e,surface:"board"}),d?.setBoardPinDensity(e)},y=[],v={[G.cg]:12111,[G.c7]:12110,[G.Ac]:12227};if(r){let i={items:r.map(r=>({isSelected:r.pin_type===t,onClick:()=>{c({event_type:101,component:13475,element:v[r.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:n?3069:3070}),s(r.pin_type??-1),l(r.pin_type===G.cg?null:r.text),f()},text:r.text??""})),label:h._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};y.push(i)}return y.push({items:[{isSelected:"regular"===_,onClick:()=>{f(),b("regular")},text:h._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===_,onClick:()=>{f(),b("dense")},text:h._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:h._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(a.xu,{ref:p,children:(0,C.jsx)(a.hU,{accessibilityLabel:h._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),icon:"filter",iconColor:"darkGray",onClick:()=>{c({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:n?3069:3070}),g(!m)},selected:m,size:"lg"})}),m&&(0,C.jsx)(a.Lt,{anchor:p.current,disableMobileUI:!0,id:"filter_board",onDismiss:f,children:y.map(({items:e,label:t})=>(0,C.jsx)(a.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:r})=>(0,C.jsx)(a.Lt.Item,{onSelect:t,option:{label:r,value:r},selected:e?{label:r,value:r}:null},r))},t))})]})}let X=(0,p.Z)(1000332)(function({board:e,currentFilter:t,isOwnBoard:r,section:n,setCurrentFilter:o,showExperienceTooltip:s}){let l=(0,N.ZP)(),{eligible_pin_type_filters:d}=n??e,[c,u]=(0,i.useState)(null),h=(0,i.useRef)(null),p=n?n.pin_count:e.pin_count,_=(e,t)=>(h&&h.current?.scrollIntoView(!1),(0,C.jsx)(a.Li,{anchor:h.current,idealDirection:"down",message:t.text,onDismiss:e}));return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",paddingX:8,children:[(0,C.jsx)(a.xu,{flex:"grow",children:(0,C.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:t>0&&c?c:(0,F.nk)(l.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', p ?? 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:p})})}),(0,C.jsx)(a.xu,{ref:h,children:(0,C.jsx)(Y,{board:e,currentFilter:t,eligibleFilters:d,isOwnBoard:r,setCurrentFilter:o,setTitle:u,surface:n?"section":"board"})})]}),s&&h&&(0,C.jsx)(a.mh,{children:(0,C.jsx)(P.Z,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>_(e,t)})})]})});var J=r(852025),Q=r(963148),ee=r(616421),et=r(673832),er=r(425937),ei=r(516721),en=r(563173);let eo=()=>{};function ea({board:e,currentView:t,handleContentViewChange:r,handleSetCurrentModal:o,handleShowEditSectionModal:s,handleShowMergeSectionsConfirmationModal:l,isOwnerOrCollaborator:d,isOwnBoard:c,isPinGridSorted:h,refreshBoardData:p=eo,refreshSectionData:_=eo,section:m}){let g=(0,y.Z)(),f=(0,Q.Z)({board:e,viewer:g}),v=(e.access||[]).includes("write"),x=H.x()?.boardPinDensity,w=(0,ei.Z)(m?(0,er.Z)(e,m):""),[P,S]=(0,i.useState)(G.cg),[j,A]=(0,i.useState)(!1),E=(0,n.useDispatch)(),{logContextEvent:T}=(0,u.v)();(0,i.useEffect)(()=>()=>{P!==G.cg&&(m?E((0,$.N8)(V.Z.BOARD_SECTION_PINS,m.id??"")):E((0,$.N8)(V.Z.BOARDFEED,e.id)))},[e,P,E,m]),(0,b.Z)(()=>{T({event_type:13,view_parameter:f,view_type:5,component:178,aux_data:{board_id:e.id,board_pin_count:e.pin_count}})});let I=(0,i.useCallback)(()=>{P>0&&(S(G.cg),m?_():p())},[P,_,p,m]),k=(0,i.useMemo)(()=>m?{currentFilter:P,eligibleFilters:m.eligible_pin_type_filters,refreshData:_,sectionId:m.id}:{currentFilter:P,eligibleFilters:e.eligible_pin_type_filters,refreshData:p,setShowExperienceTooltip:A},[m,e.eligible_pin_type_filters,P,p,_]);return m?(0,C.jsx)(J.k,{value:k,children:(0,C.jsxs)(i.Fragment,{children:[d&&(0,C.jsx)(X,{board:e,currentFilter:P,isOwnBoard:c,section:m,setCurrentFilter:S,showExperienceTooltip:!1}),(0,C.jsx)(et.Z,{board:e,boardSectionId:m.id,currentFilter:P,denseViewSelected:v&&"dense"===x,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:c,refreshFilteredFeed:I,renderFooterStory:t=>!e.archived_by_me_at&&d&&(0,C.jsx)(a.xu,{marginBottom:12,children:(0,C.jsx)(ee.Z,{children:(0,C.jsx)(en.Z,{collection:m,storyId:t,url:w})})}),viewer:g,viewParameter:f})]})}):(0,C.jsx)(J.k,{value:k,children:(0,C.jsxs)(i.Fragment,{children:[d&&(0,C.jsx)(X,{board:e,currentFilter:P,isOwnBoard:c,setCurrentFilter:S,showExperienceTooltip:j}),(0,C.jsx)(W.Z,{actions:{onBoardOrganizeClick:eo},board:e,currentFilter:P,currentView:t,enableReordering:d,isOwnBoard:c,isPinGridSorted:h,onContentViewChange:r,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:(e,t)=>{o(Z.s.sectionMergeConfirm),l(e,t)},refreshFilteredFeed:I,viewParameter:f}),d&&(0,C.jsx)(U,{})]})})}var es=r(845772),el=r(901787),ed=r(691456),ec=r(759723),eu=r(439333),eh=r(201616),ep=r(777851),e_=r(386872);function em({onDismiss:e,boardId:t}){let{showErrorToast:r,showSuccessToast:n}=(0,e_.Z)(),[o,a]=(0,i.useState)(null);(0,b.Z)(()=>{let e=async()=>{try{let e=await (0,eh.Z)(t);e?a(e):r()}catch{r()}};e()});let s=async({reasonKey:i})=>{try{await (0,ep.Z)(t,{reason:i}),e(),n()}catch{e(),r()}};return(0,C.jsx)(eu.ZP,{handleSubmitReport:s,objectToReport:{type:"board",id:t},onDismiss:e,reportingReasons:o})}var eg=r(41345),ef=r(784590),eb=r(331974);function ey({boardId:e,ownerUsername:t,ownerName:r,ownerImgSrc:i,ownerIsAdsOnlyProfile:n,ownerAdsOnlyProfileSite:o,children:a}){let{data:s,isLoaded:l}=(0,ef.Z)({name:"ApiResource",options:{url:eb.Z({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),d=[{name:r,src:i,href:`/${t}/`,is_ads_only_profile:n,ads_only_profile_site:o}];return l&&s&&s.length>0&&s.forEach(e=>{let t=e.image_medium_url||e.image_small_url;d.push({name:e.full_name??"",src:t??"",href:`/${e.username}/`})}),a(d)}var ev=r(960278),ex=r(112690),ew=r(652602),eP=r(499128);function eS(e){let{boardImage:t,boardName:r,boardUrl:i,onHide:n}=e,o=(0,N.ZP)(),s=(0,C.jsx)(a.xv,{children:(0,F.nk)(o._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,C.jsx)(a.xv,{weight:"bold",children:r},"boardName")})});return(0,C.jsx)(eP.ZP,{href:i,imageUrl:t,onHide:n,text:s})}var eC=r(712055),ej=r(604356);class eA extends i.Component{constructor(...e){var t,r,i;super(...e),r={flyoutOpen:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:String(i))in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}render(){let{board:e,bgColor:t="white",children:r,iconColor:n="gray",onCreatePincode:o}=this.props,{flyoutOpen:s}=this.state,l={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url},d=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},c=r&&r({active:s,onClick:()=>d()})||(0,C.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,icon:"share",iconColor:n,onClick:({event:e})=>d(e),size:"lg"});return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(a.xu,{ref:e=>{this.anchor=e},children:c}),this.state.flyoutOpen&&(0,C.jsx)(a.mh,{children:(0,C.jsx)(a.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>d(),positionRelativeToAnchor:!1,size:"flexible",children:(0,C.jsx)(ej.Z,{component:13216,onCreatePincodeClick:o?()=>{d(),o()}:void 0,onHide:()=>d(),sendType:"board",sharedObject:l,viewType:5})})})]})}}function eE(e){let t=(0,N.ZP)(),r=(0,h.Z)();return(0,C.jsx)(eA,{...e,i18n:t,requireAuth:r})}function eT(e){let t=(0,N.ZP)(),{bgColor:r,board:o,canCreatePincode:s,canEdit:l,handleCreatePincode:d,handleOpenSendBoardFlyout:c,onEditClick:u,onReportClick:p,showFollow:_,showShare:g,size:b}=e,{checkExperiment:y}=(0,m.F)(),{anyEnabled:v}=y("web_board_user_reporting"),{id:x,name:w,url:P,image_cover_url:S}=o,[j,A]=(0,i.useState)(o.followed_by_me),{showOneToast:E}=(0,f.F9)(),T=(0,n.useDispatch)(),I=(0,h.Z)(),k=(0,ex.Z)(),z=({event:e})=>{if(I){e.stopPropagation(),I();return}j?(T((0,eC.f)(x,k)),A(!1)):(T((0,eC.Z)(x,k)),A(!0),E(({hideToast:e})=>(0,C.jsx)(eS,{boardImage:S??"",boardName:w,boardUrl:P,onHide:e})))},D={edit:t._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:t._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:t._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:t._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:t._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:t._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,C.jsx)(ew.Z,{bgColor:r,icon:"ellipsis",id:"more-board-options",label:t._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:b,children:()=>(0,C.jsxs)(a.Lt.Section,{label:t._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[l&&u&&(0,C.jsx)(a.Lt.Item,{onSelect:()=>{u()},option:{label:D.edit,value:D.edit}}),l&&s&&d&&(0,C.jsx)(a.Lt.Item,{onSelect:()=>{d()},option:{label:D.create_pincode,value:D.create_pincode}}),g&&c&&(0,C.jsx)(eE,{board:o,onCreatePincode:d,onOpen:c,children:({onClick:e})=>(0,C.jsx)(a.Lt.Item,{onSelect:e,option:{label:D.share,value:D.share}})}),_&&(0,C.jsx)(i.Fragment,{children:j?(0,C.jsx)(a.Lt.Item,{onSelect:z,option:{label:D.unfollow,value:D.unfollow}}):(0,C.jsx)(a.Lt.Item,{onSelect:z,option:{label:D.follow,value:D.follow}})}),v&&(0,C.jsx)(a.Lt.Item,{onSelect:p,option:{label:D.report,value:D.report}})]})})}var eI=r(85141),ek=r(221263),ez=r(27255),eD=r(939106),eR=r(25297),eB=r(698003),eO=r(826007),eZ=r(826067),eL=r(214494),eM=r(298361),eN=r(414327),eF=r(50286),eU=r(356997),eH=r(985913);let e$=e=>e>99?"99+":e;function eV(e){let{faces:t,maxFaces:r,numFaces:i,onOverflowClick:n,shouldNavigate:o=!0}=e,s=[...t].reverse(),l=t.length>r?s.slice(0,r+1):s,d=i-r;return(0,C.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:l.map((e,t)=>{let{name:r,src:i,href:s,isDim:l}=e;if(0===t&&d>0)return(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:(0,C.jsx)(a.Ee,{alt:r,fit:"contain",naturalHeight:44,naturalWidth:44,src:i||"",children:(0,C.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:n,rounding:"circle",children:(0,C.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,C.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:e$(d)})})})})},t);{let e=(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:l?.5:1}},marginStart:-2,children:(0,C.jsx)(eU.qE,{name:r,outline:!0,size:"sm",src:i})},t);return o?(0,C.jsx)(a.Tg,{href:s,rounding:"circle",children:e},t):e}})})}function eW({invitedByUser:e,isAccepted:t,onDecline:r,onAccept:i,createdAt:n}){let o=(0,N.ZP)(),s=(0,y.Z)(),{first_name:l,full_name:d,username:c,image_medium_url:u}=e||{},h=l||d||o._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,C.jsx)(a.W2,{children:t?(0,C.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,C.jsx)(eV,{faces:[{href:s.isAuth?`/${s.username}`:"",name:s.isAuth?s.fullName:"",src:s.isAuth?s.imageMediumUrl:""},{href:`/${c}`,name:d,src:u}],maxFaces:2,numFaces:2}),(0,C.jsxs)(a.xu,{marginStart:2,children:[(0,C.jsx)(a.xv,{weight:"bold",children:o._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,C.jsx)(a.xv,{children:(0,eH.Z)(o._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:h})})]})]}):(0,C.jsx)(a.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,C.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,C.jsx)(a.xu,{marginEnd:2,children:(0,C.jsx)(eU.qE,{name:d,size:"md",src:u})}),(0,C.jsx)(a.xu,{flex:"grow",children:(0,C.jsx)(a.xv,{color:"default",inline:!0,children:(0,F.nk)(o._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,C.jsx)(a.xv,{color:"default",inline:!0,weight:"bold",children:(0,C.jsx)(a.rU,{display:"inlineBlock",href:`/${c}`,underline:"hover",children:d})},c),createdAt:(0,C.jsx)(a.xv,{color:"subtle",inline:!0,children:n})})})}),(0,C.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,C.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,C.jsx)(a.zx,{color:"gray",onClick:r,size:"lg",text:o._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,C.jsx)(a.zx,{color:"red",onClick:i,size:"lg",text:o._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var eG=r(781165);function eq({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:r,userInviterId:o}){let s=(0,N.ZP)(),l=(0,f.F9)(),d=(0,eM.Z)(),[c,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(null),{checkExperiment:_}=(0,m.F)(),g=(0,eF.HG)(),b=(0,y.Z)(),v=b.isAuth?g&&_("web_board_invite_landing_fix").anyEnabled:g&&_("dweb_unauth_board_invite_landing").anyEnabled,x=(0,n.useDispatch)(),w={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:b.isAuth&&b.id},P=(0,eG.RZ)(),S=(0,eG.CQ)();(0,i.useEffect)(()=>{o&&r&&(P(e).then(()=>{x((0,eG.A8)(e)),v&&l.showToast(({hideToast:e})=>(0,C.jsx)(eP.ZP,{duration:5e3,onHide:e,text:s._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))}),eL.Z.create("UserResource",{field_set_key:"grid_item",user_id:o}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&p(t)}))},[r,o]);let{data:j}=(0,ef.Z)({name:"BoardInviteResource",options:w}),A=!!(o&&r)||c,E=!["new","contact_request_not_approved"].includes(j?.status),T=t=>{(t?P(e):S(e,w.invited_user_id||"")).then(()=>{t&&(x((0,eG.A8)(e)),u(!0),l.showToast(({hideToast:e})=>(0,C.jsx)(eP.ZP,{duration:5e3,onHide:e,text:s._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))),x((0,eN.jB)("BoardInviteResource",w))})},I=j?.invited_by_user||h;return!I||E&&!A||v&&A?null:(0,C.jsx)(a.xu,{marginTop:3,paddingY:0,children:(0,C.jsx)(eW,{createdAt:d(j?.created_at||"",!0),invitedByUser:I,isAccepted:A,onAccept:()=>T(!0),onDecline:()=>T(!1)})})}function eK({boardId:e}){let t=(0,o.TH)(),r=t&&t.search?(0,eZ.mB)(t.search):{},i=r.invite_code,n=r.accept_invite,a=r.inviter_user_id;return(0,C.jsx)(eq,{boardId:e,inviteCode:i,shouldAutoAcceptBoardInvite:n,userInviterId:a})}let eY=function(e){let{board:t}=e,{id:r,sensitivity:n}=t,o=(0,el.Uz)(n);return(0,C.jsxs)(i.Fragment,{children:[!o&&(0,C.jsx)(eK,{boardId:r}),o&&(0,ed.ZP)(n)&&n&&(0,C.jsx)(a.xu,{paddingY:10,children:(0,C.jsx)(ec.Z,{notices:n.notices,sensitivity:n,viewType:5})})]})};function eX(e){let t=(0,N.ZP)(),{color:r,size:i}=e;return(0,C.jsx)(a.JO,{accessibilityLabel:t._('secret board', 'accessible label for secret board icon', 'accessible label for secret board icon'),color:r,icon:"lock",size:i})}function eJ({color:e,paddingX:t}){return(0,C.jsx)(a.xu,{display:"inlineBlock",paddingX:t,children:(0,C.jsx)(a.xv,{color:e,inline:!0,size:"200",weight:"bold",children:"\xb7"})})}function eQ({archived:e,secret:t}){let r=(0,N.ZP)();return(0,C.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[t&&(0,C.jsx)(eX,{color:"subtle",size:16}),t&&(0,C.jsx)(a.xu,{"data-test-id":"secret-board",paddingX:1,children:(0,C.jsx)(a.xv,{color:"subtle",inline:!0,size:"300",children:r._('Secret board', 'LegoBoardPageHeader.BoardStatus.secret', 'Label for a secret board')})}),t&&e&&(0,C.jsx)(eJ,{color:"subtle",paddingX:1}),e&&(0,C.jsx)(a.xu,{paddingX:1,children:(0,C.jsx)(a.xv,{color:"subtle",inline:!0,size:"300",children:r._('Archived board', 'LegoBoardPageHeader.BoardStatus.archived', 'Label for a secret board')})})]})}var e0=r(641388),e1=r(512465),e2=r(868899);function e8({board:e,collaborators:t,overflowNumber:r}){let n=(0,N.ZP)(),o=(0,i.useRef)(),{logContextEvent:s}=(0,u.v)(),[l,d]=(0,i.useState)(!1),c=t.map((e,t)=>{if(e.isDim)return null;let r=e.is_ads_only_profile&&e.ads_only_profile_site,i=(r?e.ads_only_profile_site:e.href)||"",n=e.href?e.href:e.name+t;return(0,C.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,C.jsx)(a.rU,{display:"inlineBlock",href:i,onClick:()=>{r&&s({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:r?"nofollow":"none",target:r?"blank":null,underline:"none",children:e.name})},n)}).filter(Boolean);return r&&c.push((0,C.jsx)(a.xu,{ref:o,display:"inlineBlock",children:(0,C.jsx)(a.iP,{onTap:()=>d(!0),children:(0,C.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,F.nk)(n.ngettext('{{ overflowNumber }} other', '{{ overflowNumber }} others', r, 'LegoBoardPageHeader.CollaboratorNames.others', 'number of additional collaborators not listed'),{overflowNumber:r})})})},"overflowText")),(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(a.xv,{inline:!0,children:(0,e1.Z)(c,n)}),l&&(0,C.jsx)(e2.default,{anchor:o.current,board:e,onDismiss:()=>d(!1)})]})}var e3=r(815299);function e6({board:e,handleCreatePincode:t}){let{logContextEvent:r}=(0,u.v)(),i=(0,N.ZP)(),n=(0,h.Z)();return(0,C.jsx)(eE,{board:e,onCreatePincode:t,onOpen:()=>{if(n){n();return}(0,e3.Z)(r)},children:({onClick:e})=>(0,C.jsx)(a.xu,{"data-test-id":"board-share-button-auth",children:(0,C.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:e,size:"lg",text:i._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')})})})}var e9=r(187279);function e4(e){let t=(0,N.ZP)(),{onClick:r,requested:i,size:n,useAlternateText:o}=e;return(0,C.jsx)(a.zx,{fullWidth:!0,onClick:r,size:n||"md",text:(i?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,o)})}function e7(e){let t=(0,N.ZP)(),{boardImage:r,boardName:i,boardUrl:n,onHide:o}=e,s=(0,C.jsx)(a.xv,{children:(0,F.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,C.jsx)(a.xv,{inline:!0,weight:"bold",children:i})})});return(0,C.jsx)(eP.ZP,{duration:3e3,href:n,imageUrl:r,onHide:o,text:s})}function e5(e){let t=(0,N.ZP)(),{boardImage:r,boardName:i,boardUrl:n,onHide:o}=e,s=(0,C.jsx)(a.xv,{children:(0,F.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,C.jsx)(a.xv,{inline:!0,weight:"bold",children:i})})});return(0,C.jsx)(eP.ZP,{href:n,imageUrl:r,onHide:o,text:s})}function te(e){let{boardId:t,boardImage:r,boardName:i,boardUrl:o,isRequestedByMe:s,showPulsar:l,size:d,variant:c}=e,{logContextEvent:p}=(0,u.v)(),_=(0,n.useDispatch)(),m=(0,y.Z)(),g=(0,f.F9)(),b=m.isAuth&&m.id||"",v=(0,h.Z)(),x=(0,eG.tV)(),w=({event:e})=>{e.preventDefault(),e.stopPropagation(),v?v():s?(_((0,eG.GJ)(t,b)),g.showOneToast(({hideToast:e})=>(0,C.jsx)(e7,{boardImage:r,boardName:i,boardUrl:o,onHide:e}))):(_(x(t)),g.showOneToast(({hideToast:e})=>(0,C.jsx)(e5,{boardImage:r,boardName:i,boardUrl:o,onHide:e}))),function(e){let{action:t,id:r,logContextEvent:i,url:n}=e;i({event_type:101,component:1,element:"request"===t?7499:7547,object_id_str:r,view_type:4,aux_data:{current_page_url:n}})}({action:s?"request":"cancel",id:t,logContextEvent:p,url:o})};return b?(0,C.jsxs)(a.xu,{display:"flex",position:"relative",children:[(0,C.jsx)(e4,{onClick:w,requested:s,size:d,useAlternateText:"lego"===c}),l&&(0,C.jsx)(a.iP,{onTap:e=>{w(e)},children:(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,C.jsx)(a.o3,{paused:s})})})]}):null}function tt(e){let{board:t,collaborators:r,handleCreatePincode:i,handleShowCollabAndPermissionsModal:n,hideFollowers:o,isToolsBoard:s,onFollowersClick:l,overFlowActionsButton:d,showPulsar:u,userBlocked:h}=e,{access:p,archived_by_me_at:_,collaborator_requests_enabled:g,description:f,follower_count:b,id:w,image_cover_url:P,owner:S,name:j,privacy:A,url:E,viewer_collaborator_join_requested:T}=t,{displayedCollaborators:I,nonDisplayedCollaboratorCount:k}=(0,e0.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:r}),z=(0,y.Z)(),{checkExperiment:D}=(0,m.F)(),R=(0,v.Z)(),B=(0,x.D3)(z,t.owner?.id||"",R),O=p&&p.includes("write")||B,Z=(0,c.Z)(t.collaborated_by_me,t.owner?.id,z)||B,L=(0,ek.Z)(z,t.owner?.id),M=!!_,N=A===ez.Z.BoardPrivacy.PROTECTED,F=A===ez.Z.BoardPrivacy.SECRET,U=L&&!!S?.is_private_profile&&D("web_hide_u16_group_board").anyEnabled&&!D("web_hide_u16_group_board_v2").anyEnabled,H=!O&&!h,$=H&&g&&!z.isPrivateProfile&&D("web_hide_u16_group_board").anyEnabled,V=H&&!!i,W=!U&&(L||t.collaborator_invites_enabled&&t.collaborated_by_me)&&D("web_update_board_invite_icon").anyEnabled;return(0,C.jsx)(a.xu,{direction:"column",display:"flex",justifyContent:"center",marginBottom:s?4:7,paddingX:8,width:"100%",children:(0,C.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,C.jsxs)(a.xu,{"data-test-id":"LegoBoardHeader__main",direction:"column",display:"flex",maxWidth:488,children:[(0,C.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,C.jsx)(a.xu,{maxWidth:800,children:(0,C.jsx)(eY,{board:t})})}),(0,C.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginStart:10,marginTop:4,children:(0,C.jsx)(a.X6,{align:"center",children:(0,C.jsxs)(a.xu,{"data-test-id":"board-title",display:"inlineBlock",maxWidth:400,children:[j,(0,C.jsx)(a.xu,{display:"inlineBlock",paddingX:2,children:d})]})})}),!U&&(0,C.jsx)(e9.Z,{children:(0,C.jsx)(a.xu,{marginTop:2,children:W?(0,C.jsx)(eR.Z,{board:t,handleTapOnInviteAvatarGroup:n}):(0,C.jsx)(eB.Z,{board:t,displayedCollaborators:I,handleShowCollabAndPermissionsModal:n,nonDisplayedCollaboratorCount:k})})}),(!Z||f)&&(0,C.jsx)(e9.Z,{children:(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,children:(0,C.jsx)(eD.Z,{inline:!0,items:[Z?null:(0,C.jsx)(e8,{board:t,collaborators:I,overflowNumber:k},"collaborators"),f?(0,C.jsx)(a.xv,{inline:!0,children:f}):null]})})}),(0,C.jsx)(e9.Z,{children:(0,C.jsx)(a.xu,{marginTop:2,children:(M||F)&&(0,C.jsx)(eQ,{archived:M,secret:F})})}),(0,C.jsx)(e9.Z,{children:!!b&&!o&&!M&&!F&&!N&&(0,C.jsx)(eO.P,{bold:!0,count:b??0,onClick:l,shortform:!0,size:"300"})}),(0,C.jsx)(e9.Z,{children:($||V)&&(0,C.jsxs)(a.xu,{direction:"row",display:"flex",justifyContent:"center",marginTop:5,width:"100%",children:[$&&(0,C.jsx)(a.xu,{paddingX:1,children:(0,C.jsx)(te,{boardId:w,boardImage:P??"",boardName:j,boardUrl:E,isRequestedByMe:!!T,showPulsar:u,size:"lg",variant:"lego"})}),V&&!!i&&(0,C.jsx)(a.xu,{paddingX:1,children:(0,C.jsx)(e6,{board:t,handleCreatePincode:i})})]})})]})})})}var tr=r(215292);let ti=(0,i.forwardRef)((e,t)=>{let{boardName:r,boardUrl:i,children:n,overFlowActionsButton:o,sectionName:s}=e;return(0,C.jsxs)(a.xu,{ref:t,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,C.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxWidth:488,children:[(0,C.jsx)(e9.Z,{children:(0,C.jsx)(a.xu,{marginTop:4,children:(0,C.jsx)(tr.q,{children:({active:e,focused:t,hovered:n,onBlur:o,onFocus:s,onMouseEnter:l,onMouseLeave:d})=>(0,C.jsx)(a.Tg,{href:i??"",onBlur:o,onFocus:s,onMouseEnter:l,onMouseLeave:d,children:(0,C.jsx)(a.X6,{align:"center",color:e||t||n?"default":"subtle",children:r})})})})}),(0,C.jsx)(e9.Z,{children:(0,C.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,children:[(0,C.jsx)(a.X6,{align:"center",children:s}),!!o&&(0,C.jsx)(a.xu,{paddingX:1,children:o})]})})]}),n&&(0,C.jsx)(a.xu,{marginTop:8,children:n})]})});function tn({board:e,handleBoardEditClick:t,handleFollowersClick:r,handleSectionEditClick:n,handleShowBoardArchiveConfirmation:o,handleShowBoardUnarchiveConfirmation:s,handleShowCollabAndPermissionsModal:l,handleShowCreatePincodeModal:u,handleShowMergeModal:h,section:p,showPulsar:_}){let g=(0,y.Z)(),f=(0,v.Z)(),b=(0,es.Z)(),w=b&&(0,d.Z)(e.privacy)?`?orbac_subject_id=${b}`:"",{name:P,sensitivity:S,access:j,url:A=""}=e,[E,T]=(0,i.useState)(!1),{checkExperiment:I}=(0,m.F)(),{anyEnabled:k}=I("web_board_reporting"),z=(0,x.D3)(g,e.owner?.id||"",f),D=j&&j.includes("write")||z,R=D?ev.I:ey,B=(0,el.Uz)(S),O=(0,c.Z)(e.collaborated_by_me,e.owner?.id,g)||z,Z=null;Z=O?(0,C.jsx)(eI.Z,{board:e,onArchiveClick:o,onCreatePincode:u,onEditBoardClick:t,onEditSectionClick:n,onMergeClick:h,onUnarchiveClick:s,showCreatePinCodeOption:g.isAuth&&g.isPartner,surface:p?"section":"board"}):(0,C.jsx)(eT,{bgColor:"lightGray",board:e,onReportClick:()=>T(!0),showFollow:!0,size:"sm"});let L=B&&(0,ed.ZP)(S),M=k?(0,C.jsx)(em,{boardId:e.id,onDismiss:()=>T(!1)}):(0,C.jsx)(eg.Z,{onDismiss:()=>T(!1),userId:e.owner?.id||""});return(0,C.jsxs)(i.Fragment,{children:[E&&M,p?(0,C.jsx)(ti,{boardName:P,boardUrl:`${A}${w}`,overFlowActionsButton:Z,sectionName:p.title??"",children:L&&(0,C.jsx)(e9.Z,{children:(0,C.jsx)(a.xu,{maxWidth:800,paddingY:10,children:S&&(0,C.jsx)(ec.Z,{notices:S.notices,sensitivity:S,viewType:5})})})}):(0,C.jsx)(a.xu,{"data-test-id":"board-header",children:(0,C.jsx)(R,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,C.jsx)(tt,{board:e,collaborators:t,handleCreatePincode:u,handleShowCollabAndPermissionsModal:l,hideFollowers:z,isToolsBoard:!0,onFollowersClick:r,overFlowActionsButton:Z,showPulsar:_,userBlocked:!!e.owner?.blocked_by_me})})})]})}ti.displayName="SectionHeader";var to=r(186656);function ta({boardId:e,collaboratorId:t,collaboratorUsername:r}){let i=(0,n.useDispatch)(),s=(0,o.k6)(),l=(0,N.ZP)();return(0,C.jsx)(a.kC,{justifyContent:"center",width:"100%",children:(0,C.jsx)(a.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,C.jsx)(a.XA,{message:l._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:l._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:l._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:()=>{(0,to.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"PUT",data:{collaborator:t}}),i((0,B.K8)(r)),s.push(`/${r}/`)}},secondaryAction:{accessibilityLabel:l._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:l._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:()=>{i((0,eG.xx)(e,t))}},title:l._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}var ts=r(636803),tl=r(529868);let td=e=>()=>{e({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})};function tc({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:r,surface:n}){let{logContextEvent:o}=(0,u.v)(),s=(0,N.ZP)(),l=(0,i.useRef)(),d="board"===n?s._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):s._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,C.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,C.jsx)(tl.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:r,onOpen:td(o),surface:n,children:({active:e,openFlyout:t})=>(0,C.jsxs)(a.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,C.jsx)(a.xG,{ref:l,accessibilityExpanded:e,accessibilityLabel:d,accessibilityPopupRole:"dialog",icon:"add",onClick:t,selected:e,tooltip:{text:d}}),(0,C.jsx)(ts.Z,{anchors:{3006:l.current},idealDirection:"up",placementId:18})]})})})}var tu=r(81636),th=r(833991);let tp=th.HW+1;function t_({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:r}){let i=(0,N.ZP)();return(0,tu.Q)({component:13860,view_type:5,aux_data:r}),(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(tp),children:(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,C.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,C.jsx)(a.X6,{align:"center",color:"light",children:i._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,C.jsxs)(a.kC,{gap:{row:6,column:0},children:[(0,C.jsx)(a.zx,{color:"red",onClick:e,size:"lg",text:i._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,C.jsx)(a.zx,{color:"white",onClick:t,size:"lg",text:i._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,C.jsx)(a.xu,{paddingY:4,children:(0,C.jsx)(a.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,F.nk)(i._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,C.jsx)(a.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,C.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:i._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var tm=r(558874),tg=r(124237),tf=r(185845),tb=r(780280),ty=r(313951),tv=r(858521);let tx=(0,i.forwardRef)(({boardTool:{icon:e,link:t,text:r}},n)=>{let[s,l]=(0,i.useState)(!1),{isRTL:d}=(0,tb.B)(),c=(0,i.useRef)(null),{setGroupBoardMessageButton:u}=(0,tv.b)(),{conversations:{showConversationsDropdown:h},conversationOpen:p,dropdownOpen:_,dropdownClose:m}=(0,ty.Z5)(),g=(0,o.TH)(),f=(0,eZ.mB)(g.search),{conversation_id:b,tab:y}=f,v="Message"===r&&!!b&&"inbox"===y;return v&&u(c.current),(0,C.jsx)(a.Tg,{ref:v?c:n,accessibilityLabel:r,href:v?"":t,onBlur:()=>l(!1),onFocus:()=>l(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:v?()=>{h?m():(_(),p(b))}:void 0,rounding:6,children:(0,C.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,C.jsx)(a.xu,{alignItems:"center",alignSelf:"center",color:s?"lightWash":"secondary",display:"flex",height:88,justifyContent:"center",rounding:6,width:88,children:(0,C.jsx)(a.JO,{accessibilityLabel:r,color:"default",icon:"text-align-left"===e&&d?"text-align-right":e,size:30})}),(0,C.jsx)(a.xu,{paddingY:1,width:88,children:(0,C.jsx)(a.xv,{align:"center",overflow:"normal",size:"100",weight:"bold",children:r})})]})})});function tw({boardId:e,sectionId:t}){let r=(0,i.useRef)(),n=(0,i.useRef)(),o=(0,i.useRef)(),s=(0,i.useRef)(),{anyEnabled:l}=(0,m.F)().checkExperiment("web_m10n_business_access_orbac_ga"),d=(0,es.Z)(),c=!!t,{data:u,isLoaded:h}=(0,ef.Z)({name:c?"SectionToolsFeedResource":"BoardToolsFeedResource",options:c?{sectionId:t,orbacSubjectId:l?d:""}:{boardId:e,orbacSubjectId:l?d:""}});if(h&&(!u||!u.length))return null;let p=[r,n,o,s],_=u?.filter(({tool:e})=>!(l&&d)||2===e),g=_?.map(({id:e})=>{let t=e.split("-");return t&&t.length>1?Number(t[1]):-1});return h&&_?.length?(0,C.jsx)(a.xu,{"data-test-id":"board-tools",children:(0,C.jsxs)(a.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:[_.map((e,t)=>{let r=g?g[t]:-1;return(0,C.jsx)(a.xu,{"data-test-id":e.text,padding:1,children:(0,C.jsx)(tx,{ref:p[r],boardTool:e})},e.id)}),(0,C.jsx)(ts.Z,{anchors:{3003:r.current,3004:n.current,3005:o.current,3007:s.current},placementId:18,positionRelativeToAnchor:!1})]})}):null}function tP(e){let t=(0,N.ZP)(),{boardUrl:r="",onHide:i,slug:n}=e;return(0,C.jsx)(eP.ZP,{duration:2e3,href:`${r}${n}`,onHide:i,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}tx.displayName="BoardTool";let tS=(0,i.lazy)(()=>Promise.all([r.e(97750),r.e(88885),r.e(87170)]).then(r.bind(r,852541))),tC=()=>{},tj=(0,p.Z)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:r,refreshBoardData:p=tC,refreshSectionData:P=tC,setPlacementExtraContext:S,section:j,showPulsar:A}){let{logContextEvent:E}=(0,u.v)(),T=(0,n.useDispatch)(),M=(0,h.Z)(),{setFooterPlusButtonVisible:F}=(0,w.I)(),U=(0,y.Z)(),$=(0,v.Z)(),V=(0,k.W$)(U,e),W=e.owner?.id||"",G=(0,x.q6)(U,W,$),q=(0,c.Z)(e.collaborated_by_me,e.owner?.id,U)||G,K=U.isAuth&&U.id===e.pending_ownership_transfer,{checkExperiment:Y}=(0,m.F)(),X=!q&&Y("web_board_sensitivity_screen").anyEnabled,J=(0,x.lJ)(U,$),ee=J&&(0,d.Z)(e.privacy)?`?orbac_subject_id=${J}`:"",et=(0,l.Z)(!0);(0,i.useEffect)(()=>{let t="other";V?t="own":(0,k.Df)(U,e)&&(t="collaborator"),S({board_ownership:t})},[t]),(0,i.useEffect)(()=>(q&&F(!1),()=>{F(!0)}),[F,q]);let{showOneToast:er}=(0,f.F9)(),ei=(0,o.k6)(),{previous:en}=(0,_.Hv)(),eo=0===en.length;!function(){let e=(0,H.x)(),t=(0,y.Z)(),r=(0,ef.Z)({name:"UserMetadataResource",options:{user:t}});(0,i.useEffect)(()=>{if(r&&r.data&&!e?.boardPinDensity){let{profile_pin_rep_view_type:t}=r.data;e?.setBoardPinDensity(t??"regular")}})}();let{handleShowMergeSectionsConfirmationModal:el,mergeConfirmationModalProps:ed,onConfirm:ec}=(0,L.Z)({board:e}),eu=function(){let e=(0,N.ZP)(),{logContextEvent:t}=(0,u.v)(),r=(0,n.useDispatch)(),{showBlockingActionToast:i}=(0,tf.Z)(),o=(0,es.Z)();return({board:n,targetBoard:a})=>{t({event_type:7172,object_id_str:n.id,aux_data:{merge_flow:"menu"}}),r((0,B.xH)(n.id,a.id,o)).then(()=>{i({actionType:"merge",board:a})}).catch(t=>{tg.Z.showError(t.message||e._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}}(),eh={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[ep,e_]=(0,i.useState)(!!e.sensitivity_screen?.show_warning&&X),[em,eg]=(0,i.useState)(null),[eb,ey]=(0,i.useState)(r||null),[ev,ex]=(0,i.useState)(null),[ew,eP]=(0,i.useState)(e&&(0,z.VV)(U,e)||"custom"),eS=()=>ey(Z.s.boardArchiveConfirmation),eC=()=>ey(Z.s.boardUnarchiveConfirmation),ej=()=>{let e=U.isAuth?`/${(0,x.Ms)(U,$)}`:"/";ei.replace(e)},eA=e=>{if(M){M();return}ey(Z.s.editSection),eg(e)},eE=t=>{er(({hideToast:r})=>(0,C.jsx)(tP,{boardUrl:e.url,onHide:r,slug:t.slug??""}))},eT={board_id:e.id,board_pin_count:e.pin_count},eI=!1;if(Y("web_hide_u16_group_board_v2").anyEnabled)eI=!!e.is_temporarily_disabled;else{let t=e.is_temporarily_disabled&&Y("web_hide_u16_group_board").anyEnabled,r=!V&&e.owner?.is_private_profile&&Y("web_hide_u16_board").anyEnabled;eI=t||!!r}return(0,b.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=ei.location.state||Object.freeze({});e&&(ey(Z.s.collaboratorsAndPermissions),ei.replace({...ei.location,state:{...ei.location.state,shouldOpenCollaboratorsModal:!1}}))}),(0,C.jsx)(g.Z,{auxData:eT,objectId:e.id,view:5,viewParameter:(0,Q.Z)({board:e,viewer:U}),children:(0,C.jsxs)(i.Fragment,{children:[(0,C.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:ep?{filter:"blur(30px)"}:{}},children:[eI?(0,C.jsx)(tm.Z,{board:e,boardName:e.name||"",handleShowBoardArchiveConfirmation:eS,handleShowBoardUnarchiveConfirmation:eC,isOwnerOrCollaborator:q,showOverflowButton:q}):(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(tn,{board:e,handleBoardEditClick:()=>{E({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),ey(Z.s.boardEdit)},handleFollowersClick:()=>{ey(Z.s.followers)},handleSectionEditClick:()=>eA(),handleShowBoardArchiveConfirmation:eS,handleShowBoardUnarchiveConfirmation:eC,handleShowCollabAndPermissionsModal:()=>ey(Z.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(M){M();return}E({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),ey(Z.s.pincode)},handleShowMergeModal:()=>{if(M){M();return}ey(Z.s.mergeBoard)},section:j,showPulsar:A}),q&&(0,C.jsx)(a.xu,{marginBottom:6,marginTop:6,children:(0,C.jsx)(tw,{boardId:e.id,sectionId:j?.id})}),K&&(0,C.jsx)(ta,{boardId:e.id,collaboratorId:U.isAuth?U.id:"",collaboratorUsername:U.isAuth?U.username:""}),eb!==Z.s.jumpstartBoard&&(0,C.jsx)(g.Z,{auxData:eT,component:178,objectId:e.id,view:5,viewParameter:V?3069:3070,children:(0,C.jsx)(ea,{board:e,currentView:ew,handleContentViewChange:e=>eP(e),handleSetCurrentModal:ey,handleShowEditSectionModal:eA,handleShowMergeSectionsConfirmationModal:el,isOwnBoard:V,isOwnerOrCollaborator:q,isPinGridSorted:"custom"!==ew,refreshBoardData:p,refreshSectionData:P,section:j})}),(0,C.jsx)(I,{boardId:e.id,handleShowArchiveConfirmation:eS,handleShowGroupPinsModal:(e,t)=>{ey(Z.s.groupPins),ex({clusterId:e,suggestedSectionName:t})}}),q&&(0,C.jsx)(tc,{handleAddSection:()=>{if(M){M();return}E({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),ey(Z.s.simpleCreateSection)},handleCreatePin:()=>{if(M){M();return}E({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),ei.push({pathname:"/pin-builder/",state:{board:e,boardSection:j}})},handleCreateStoryPin:()=>{if(M){M();return}E({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),ei.push({pathname:(0,s.Z)(et),state:{board:e,entry_type:"board_plus_button",boardSection:j}})},surface:j?"section":"board"})]}),eb&&(0,C.jsx)(O.Z,{actions:{completeCreateSectionAction:e=>{if(M){M();return}ey(null),eE(e)},onBoardArchiveChange:()=>{T((0,B.K8)(U.isAuth?U.username:""))},onBoardDelete:()=>{p(),ej()},onBoardLeave:()=>{T((0,B.K8)(U.isAuth?U.username:"")),ej()},onBoardMerge:t=>{eu({board:e,targetBoard:t}),ej()},onBoardSectionDelete:()=>{if(eg(null),ey(null),j){let t=e.url??"";ei.replace(`${t}${ee}`)}},onBoardSectionSave:({slug:t})=>{if(eg(null),ey(null),j){let r=`${e.url??""}${t}/${ee}`;ei.replace(r)}},onConfirmMergeSection:ec},board:e,boardSection:j||em,currentModal:eb,groupPinsData:ev,mergeConfirmationModalProps:ed,onClearModal:()=>ey(null)}),(0,C.jsx)(D.Z,{placementId:18}),(0,C.jsx)(R.Z,{placementId:18}),(0,C.jsx)(tS,{placementId:18})]}),ep&&(0,C.jsx)(t_,{handleGoBack:()=>{E({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eh}}),eo&&ei.replace("/"),ei.goBack()},hideSensitivityScreen:()=>{T((0,B.of)(e.id)),E({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eh}}),e_(!1)},sensitivityScreenAuxData:eh})]})})})},852025:(e,t,r)=>{"use strict";r.d(t,{k:()=>o,s:()=>a});var i=r(667294);let n=(0,i.createContext)(Object.freeze({})),o=n.Provider;function a(){return(0,i.useContext)(n)}},558874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(883119),n=r(444691),o=r(898781),a=r(349700),s=r(85141),l=r(785893);function d({board:e,boardName:t,handleShowBoardArchiveConfirmation:r,handleShowBoardUnarchiveConfirmation:d,isOwnerOrCollaborator:c,showOverflowButton:u}){let h=(0,o.ZP)(),p=()=>{};return(0,l.jsx)(i.xu,{height:"100%",width:"100%",children:(0,l.jsxs)(i.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(i.xu,{marginTop:4,children:(0,l.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:4,children:[u&&(0,l.jsx)(i.xu,{width:44}),(0,l.jsx)(i.X6,{align:"center",children:t}),u&&!!e&&!!r&&!!d&&(0,l.jsx)(i.xu,{marginTop:2,children:(0,l.jsx)(s.Z,{board:e,onArchiveClick:r,onCreatePincode:p,onEditBoardClick:p,onEditSectionClick:p,onMergeClick:p,onUnarchiveClick:d,showArchiveOnly:!0,showCreatePinCodeOption:!1,surface:"board"})})]})}),(0,l.jsx)(i.xu,{height:105}),(0,l.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:8,children:[n.Z,(0,l.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,l.jsx)(i.X6,{align:"center",size:"400",children:h._('Sorry, this board is currently unavailable', 'temporarilyDisabledBoard.unavailableText', 'Unavailable board text')}),c&&(0,l.jsx)(i.xv,{children:(0,a.nk)(h._('Learn more about some of our {{ recentUpdates }}', 'temporarilyDisabledBoard.descriptionText', 'text explaining why board is unavailable. recentUpdates:link to recent privacy policy updates'),{recentUpdates:(0,l.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/teen-safety-options",target:"blank",underline:"always",children:h._('recent updates', 'temporarilyDisabledBoard.link', 'Text for link to view teen safety options')},"helpLink")})})]})]})]})})}},596493:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>o,c7:()=>n,cg:()=>i});let i=-1,n=5,o=6},963148:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(221263);function n({board:e,viewer:t}){return(0,i.Z)(t,e.owner?.id)?3069:3070}},793234:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var i=r(596493);function n(e,t,r,n,o){let{owner:a}=e,s=a?.id===t.id,l="react_grid_pin";return t.isPartner&&s&&(l="partner_react_grid_pin"),{board_id:e.id,board_url:e.url??"",currentFilter:n,field_set_key:l,filter_section_pins:!n||n===i.cg,sort:"most_reactions"===r?"most_reactions":"default",layout:e.layout??"",page_size:25,redux_normalize_feed:!0,...o?{orbac_subject_id:o}:Object.freeze({})}}},616421:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(785893);function o({children:e,setMaxWidth:t=!0}){return(0,n.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:t?(0,n.jsx)(i.xu,{maxWidth:774,paddingX:2,width:"100%",children:e}):(0,n.jsx)(i.xu,{width:"100%",children:e})})}},337024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>V});var i=r(667294),n=r(883119),o=r(361259),a=r(81482),s=r(583421),l=r(329734),d=r(8742),c=r(499659);let u=e=>null===e,h=e=>e?164:5,p=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),_=(e,t)=>e+(e>=t?1:0),m=(0,c.Q6)(e=>e);var g=r(785893);function f(e){let{allowReordering:t,auxData:r,boardSectionId:i,gridItem:n,handlePinDragBegin:o,handlePinDragEnd:c,handlePinDragHover:u,index:p,lfvExperiences:_,onBulkEditPinClick:m,source:f,target:b,viewParameter:y}=e,{inBulkEditMode:v,isCollaborator:x,isGroupBoard:w,isOwnBoard:P,isSelected:S,itemKey:{id:C}}=n,j=b===p,A={pinId:C,duploQueryRef:null,imageOnlyOption:!P&&(0,l.Z)(_)?"image-only":"default",attributionOption:w?"show":"hide",pinImageCrop:"none",authDesktopSurface:v?"BulkEditMode":"BaseBoardPinGrid",slotIndex:p,viewParameter:y,viewType:h(i),auxData:r};if(!P&&!x)return(0,g.jsx)(d.ZP,{...A});let E="no-selection";v&&(E=S?"selected":"deselected");let T=(0,g.jsx)(d.ZP,{...A,authDesktopSelectionState:E,disableHover:-1!==f||v});return v&&(T=(0,g.jsx)(a.Z,{isSelected:S,onClick:()=>m(C),children:T})),t&&(T=(0,g.jsx)(s.Z,{index:p,isDragging:j,onDragBegin:o,onDragEnd:c,onDragHover:u,type:s.y.Pin,children:T})),T}var b=r(407043),y=r(274319),v=r(784450),x=r(186656),w=r(724617),P=r(444445),S=r(898781),C=r(773285),j=r(317254),A=r(932995),E=r(786871),T=r(845772),I=r(187279);function k({isSection:e}){let t=(0,S.ZP)(),r=e?t._('There aren\u2019t any Pins in this section yet', 'EmptyBoard.EmptyText.section', 'Statement that there are no pins in the section'):t._('There aren\u2019t any Pins on this board yet', 'EmptyBoard.EmptyText.board', 'Statement that there are no pins on the board');return(0,g.jsx)(I.Z,{children:(0,g.jsx)(n.xu,{paddingY:8,children:(0,g.jsx)(n.xv,{color:"default",size:"300",children:r})})})}function z({hasSections:e,isSection:t}){return(0,g.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!t&&e?null:(0,g.jsx)(k,{isSection:t})})}var D=r(825067),R=r(254176),B=r(678638),O=r(956800),Z=r(492583),L=r(70815);function M(e){let{boardSectionId:t,gridItem:r,index:i,paddingBottom:o,renderPinItem:a,viewParameter:s}=e,{itemKey:l}=r,d=null;switch(l.type){case"story":d=(0,g.jsx)(L.Z,{slot:i,storyId:l.id,viewParameter:s,viewType:h(t)});break;case"pin":d=(0,g.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:o}},children:a(r,i)});break;default:d=null}return(0,g.jsx)(n.xu,{children:d},`${l.type}:${l.id}`)}var N=r(345221);let F=(0,N.Z)(s.y.Pin)(function(e){let{allowReordering:t,children:r,connectDropTarget:i,index:n,isDragWithinBounds:o}=e;return t&&i?i((0,g.jsx)("div",{style:{opacity:-1===n||o?1:.5},children:r})):r});function U(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class H extends i.Component{constructor(...e){super(...e),U(this,"state",{reorderSource:-1,reorderTarget:-1}),U(this,"handlePinAdded",e=>{let{board:t,boardSectionId:r,dispatch:i}=this.props;e===t.id&&(i((0,R.xQ)(t.id)),r&&i((0,B.CE)(r)))}),U(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),U(this,"handlePinDragHover",e=>{let{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),U(this,"handlePinDragEnd",e=>{let{board:t,boardSectionId:r,dispatch:i,feed:n,viewParameter:o,orbacSubjectId:a}=this.props,{reorderSource:s,reorderTarget:l}=this.state;if(n&&e&&-1!==l&&-1!==s&&l!==s){let e=this.hiddenItemIndex,[d,c]=-1===e?[s,l]:[_(s,e),_(l,e)],u=(0,A.Z)(n,d,c),p=n[d].id;i((0,O._f)({feedType:r?Z.Z.BOARD_SECTION_PINS:Z.Z.BOARDFEED,feedId:r||t.id,itemType:"pin",targetItemId:n[c].id,sourceItemId:n[d].id}));let m=u.filter(e=>"pin"===e.type).map(e=>e.id),g=m.indexOf(p),f=g-1,b=g+1,y={pin:p};f>=0&&f<m.length&&(y={...y,before_pin:m[f]}),b>=0&&b<m.length&&(y={...y,after_pin:m[b]}),a&&(y={...y,orbac_subject_id:a}),(0,x.Z)({url:`/v3/boards/${t.id}/reorder_pin/`,method:"POST",data:y}).then(()=>this.props.logContextEvent({event_type:7122,object_id_str:p,view_type:h(r),view_parameter:o}))}this.setState({reorderSource:-1,reorderTarget:-1})}),U(this,"handleFetchMore",()=>{let{resource:{fetchMore:e,isAtEnd:t,isFetching:r}}=this.props;t||r||e()}),U(this,"renderPinItem",(e,t)=>{let{lfvExperiences:r,onBulkEditPinClick:i,viewer:n,viewParameter:o,boardSectionId:a,board:s}=this.props,{reorderSource:l,reorderTarget:d}=this.state,c={board_id:s.id,board_pin_count:s.pin_count};return(0,g.jsx)(f,{allowReordering:this.allowReordering,auxData:c,boardSectionId:a,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,lfvExperiences:r,onBulkEditPinClick:i,source:l,target:d,viewer:n,viewParameter:o})})}componentDidMount(){let{feed:e,resource:{isFetching:t,refresh:r}}=this.props;u(e)&&!t&&r()}componentDidUpdate(e){let{feed:t,resource:{isFetching:r,refresh:i}}=this.props,n=u(t)&&!u(e.feed);n&&!r&&i()}get allowReordering(){let{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:r}=this.props;return!r&&(t||e)}get hiddenItemIndex(){let{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(p):-1}render(){let{bulkEditSelectedPins:e,board:t,boardSectionId:r,feed:o,footerStoryId:a,denseViewSelected:s,hasSimplifiedPinGridExpLoaded:l,inBoardOrganizationMode:d,inSectionOrganizationMode:c,isDragWithinBounds:u,inSelectAll:h,renderFooterStory:p,resource:{isAtEnd:_,isFetching:f,refresh:b,isLoaded:v},isOwnBoard:x,refreshFilteredFeed:S}=this.props,{access:C,collaborated_by_me:E=!1,collaborator_count:T=0,section_count:I}=t,{reorderSource:k,reorderTarget:R}=this.state;if(!o||!o.find(e=>"pin"===e.type))return f?(0,g.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0}):(v&&o&&0===o.length&&S&&S(),E&&!o?.length&&(t.pin_count||0)>0&&b(),(0,g.jsxs)(i.Fragment,{children:[v&&o&&0===o.length&&(0,g.jsx)(z,{hasSections:!!I,isSection:!!r}),p&&a&&p(a)]}));let{allowReordering:B}=this,O=B&&k!==R&&-1!==k&&-1!==R,Z=o||[],{hiddenItemIndex:L}=this;if(-1!==L&&(Z=[...Z.slice(0,L),...Z.slice(L+1)]),O&&(Z=(0,A.Z)(Z,k,R)),!Z.length)return(0,g.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0});let N={inBulkEditMode:d||c,inDenseView:s||!1,isGroupBoard:T>0,userCanEdit:(C||[]).includes("write"),isOwnBoard:x,isCollaborator:E},U=Z.map(t=>{let{inBulkEditMode:r}=N,i="pin"===t.type&&!!e?.includes(t.id);return m({...N,isSelected:r&&(h?!i:i),itemKey:t})});return(0,g.jsx)(D.H,{value:{onPinCreate:({boardId:e})=>this.handlePinAdded(e)},children:(0,g.jsxs)(n.xu,{"data-test-id":"base-board-pin-grid",minHeight:s?800:"",children:[(0,g.jsx)(F,{allowReordering:B,index:R,isDragWithinBounds:u,children:l&&(0,g.jsx)(j.Z,{isAtEndOfFeed:_,itemCount:U.length,children:(0,g.jsx)(w.default,{columnWidth:s?P.Lo:P.yF,gutterWidth:s?2*P.$H/3:void 0,isFetching:f,items:U,layout:"basic",loadItems:this.handleFetchMore,renderItem:({data:e,itemIdx:t})=>(0,g.jsx)(n.xu,{children:(0,g.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:s?-10:0}},children:(0,g.jsx)(M,{boardSectionId:this.props.boardSectionId,gridItem:e,index:t,paddingBottom:this.props.denseViewSelected?6:0,renderPinItem:this.renderPinItem,viewParameter:this.props.viewParameter})})})},`${String(s)}-${String(d)}-${String(c)}`)})}),B&&-1!==k&&(0,g.jsx)(y.Z,{}),(f||!l)&&(0,g.jsx)(n.xu,{paddingY:3,position:"relative",children:(0,g.jsx)(n.$j,{accessibilityLabel:this.props.i18n._('Loading Board Feed', ' - ', ' -- '),show:!0})}),_&&a&&p&&p(a)]})})}}let $=(0,v.Z)(1000182)(function(e){let{logContextEvent:t}=(0,b.v)(),r=(0,S.ZP)(),{checkExperiment:i}=(0,C.F)(),{anyEnabled:n}=i("web_m10n_business_access_orbac_ga"),a=(0,T.Z)(),{hasSimplifiedPinGridExpLoaded:s}=(0,o.$)(),l=(0,E.Z)();return(0,g.jsx)(H,{...e,hasSimplifiedPinGridExpLoaded:s,i18n:r,lfvExperiences:l,logContextEvent:t,orbacSubjectId:n?a:""})});$.displayName="BaseBoardPinGrid";let V=$},673832:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var i=r(702664),n=r(784590),o=r(19121),a=r(717615),s=r(231947),l=r(239682),d=r(492583),c=r(337024),u=r(354332),h=r(785893);function p(e){let t=(0,o.Z)(),r=(0,a.Z)(),p=(0,s.lJ)(t,r),_=(0,n.Z)({name:"BoardSectionPinsResource",options:function(e,t,r,i=""){return{currentFilter:r,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:i}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,p)}),m=(0,n.Z)({name:"BoardsResource",options:(0,l.Z)(e.viewer.username,!0)}),g=(0,i.useSelector)(({feeds:t,desktopStories:r})=>(0,u.Z)(t[`${d.Z.BOARD_SECTION_PINS}:${e.boardSectionId}`],r));return(0,h.jsx)(c.Z,{...e,...g,boardsResource:m,resource:_})}p.displayName="BoardSectionPinGrid";let _=p},354332:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(e,t)=>e?e.reduce(({feed:e,footerStoryId:r},i)=>{let n="story"===i.type,o=n&&"board_ideas_preview_detailed"===t[i.id].story_type;return{feed:e.concat(o?[]:[i]),footerStoryId:o?i.id:r}},{feed:[],footerStoryId:void 0}):{feed:e,footerStoryId:void 0}},425937:(e,t,r)=>{"use strict";function i(e,t){let{url:r}=e,{slug:i}=t;return`${r??""}${i??""}/`}r.d(t,{Z:()=>i})},516721:(e,t,r)=>{"use strict";function i(e=""){return`${e}_tools/more-ideas/`}r.d(t,{Z:()=>i})},433113:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(667294),n=r(883119),o=r(8742),a=r(785893);function s({index:e,isSelected:t,pin:r,handlePinSelectionChanged:s}){let l=r.id,d=(0,i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),s(l,!t)},[l,t]);return(0,a.jsx)(n.iP,{onTap:d,rounding:4,children:(0,a.jsx)(o.ZP,{attributionOption:"hide",authDesktopSelectionState:t?"selected-image-only":"deselected-image-only",authDesktopSurface:"SectionSuggestedPins",blockClickEvents:!0,duploQueryRef:null,pin:r,pinId:r.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},slotIndex:e})})}},638044:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(667294),n=r(702664),o=r(883119),a=r(407043),s=r(121151),l=r(898781),d=r(773285),c=r(784590),u=r(845772),h=r(254176),p=r(678638),_=r(563339),m=r(433113),g=r(320056),f=r(785893);function b({boardId:e,clusterId:t,handleAddClick:r,isBoardOrganizeFeed:b,onDismiss:y,suggestedSectionTitle:v}){let{logContextEvent:x}=(0,a.v)(),w=(0,l.ZP)(),P=(0,i.useRef)(null),[S,C]=(0,i.useState)([]),[j,A]=(0,i.useState)(v),E=(0,u.Z)(),{anyEnabled:T}=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga"),{data:I,fetchMore:k,isFetching:z,isLoaded:D}=(0,c.Z)({name:"SectionSuggestionsPinsResource",options:{boardId:e,clusterId:t}}),R=b?3541:3069,B=(0,n.useDispatch)(),{setShowCreateSectionTooltip:O}=(0,g.L)()??{},Z=(0,i.useCallback)(()=>{if(I){let t=I.map(e=>e.id),i=t.length,n=t.filter(e=>!S.includes(e));r&&r(j),B((0,p.vB)({boardId:e,name:j},w,T?E:"",x)).then(t=>{B((0,_.Z)({inverseSelection:!1,selectedPinIds:n,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:t.id},...T&&E?{orbacSubjectId:E}:Object.freeze({})},w))}).then(()=>{B((0,h.Tq)(e,"pin_count",T?E:"")),x({event_type:8606,object_id_str:e,view_type:5,view_parameter:R,aux_data:{number_pins_suggested:i,number_pins_selected:n.length,section_title:j,suggested_section_name:v}}),y(),b||O(!0)})}},[S,j,I]),L=(e,t)=>{let r=[...S],i=r.indexOf(e);t&&-1!==i?r.splice(i,1):t||-1!==i||r.push(e),C(r)};return(0,f.jsx)(s.ZP,{accessibilityModalLabel:w._('Add suggested pins to your newly created section modal', 'sectionSuggestionPinsModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),allowScroll:!0,footer:(0,f.jsxs)(o.xu,{display:"flex",justifyContent:"end",paddingX:2,children:[(0,f.jsx)(o.xu,{display:"inlineBlock",marginEnd:2,children:(0,f.jsx)(o.zx,{onClick:()=>{y(),b||O(!0),x({event_type:8607,object_id_str:e,view_type:5,view_parameter:R,aux_data:{suggested_section_name:v}})},text:w._('Not now', 'sectionSuggestionPinsModal.footer.cancelButton', 'Cancel creating a board section')})}),(0,f.jsx)(o.xu,{display:"inlineBlock",children:(0,f.jsx)(o.zx,{color:"red",onClick:Z,text:w._('Add section', 'sectionSuggestionPinsModal.footer.addSectionButton', 'Add pins and section')})})]}),heading:w._('Pick your Pins and you\'re all set!', 'sectionSuggestionPinsModal.modal.heading', 'Heading for modal to add suggested pins to your newly created section'),onDismiss:y,size:704,children:(0,f.jsxs)(o.xu,{ref:P,maxHeight:600,maxWidth:704,overflow:"auto",children:[(0,f.jsxs)(o.xu,{padding:4,paddingX:2,children:[(0,f.jsx)(o.xv,{size:"200",children:w._('Section name', 'sectionSuggestionPinsModal.modal.sectionNameTitle', 'Title for section name')}),(0,f.jsx)(o.xu,{paddingY:2,children:(0,f.jsx)(o.nv,{id:"SectionSuggestionPinsTitle",onChange:({value:e})=>{A(e)},placeholder:w._('Add a name for this group', 'sectionSuggestionPinsModal.modal.sectionNameTitle.placeholder', 'Placeholder for section name'),size:"lg",value:j})})]}),D&&I&&(0,f.jsx)(o.Rk,{columnWidth:152,gutterWidth:16,items:I,loadItems:k,renderItem:({data:e,itemIdx:t})=>(0,f.jsx)(m.Z,{handlePinSelectionChanged:L,index:t,isSelected:!S.includes(e.id),pin:e}),scrollContainer:()=>P.current}),(0,f.jsx)(o.$j,{accessibilityLabel:w._('Loading pins', 'sectionSuggestionPinsModal.modal.spinner', 'Loading indicator'),show:z})]})})}},826007:(e,t,r)=>{"use strict";r.d(t,{P:()=>u,i:()=>h});var i=r(883119),n=r(694379),o=r(898781),a=r(892819),s=r(349700),l=r(780280),d=r(785893);let c=({bold:e=!1,count:t,shortform:r=!1,size:o="200",text:a})=>(0,d.jsx)(i.xu,{children:(0,d.jsxs)(i.xv,{align:"center",color:"default",size:o,weight:e?"bold":"normal",children:[(0,d.jsx)(n.Z,{shortform:r,value:t})," ",a]})}),u=({bold:e,count:t,onClick:r,shortform:n,size:a})=>{let s=(0,o.ZP)();return(0,d.jsx)(i.xu,{children:(0,d.jsx)(i.iP,{onTap:r,children:(0,d.jsx)(c,{bold:e,count:t,shortform:n,size:a,text:s.ngettext('follower', 'followers', t, 'label for n follower(s)', 'label for n follower(s)')})})})},h=({count:e,size:t})=>{let r=(0,o.ZP)(),{locale:n}=(0,l.B)(),c=(0,a.Z)(),u=(0,s.nk)(r.ngettext('{{ count }} Pin', '{{ count }} Pins', e, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:c(n,e,{})});return(0,d.jsx)(i.xu,{children:(0,d.jsx)(i.xv,{color:"default",inline:!0,size:t,children:u})})}},320056:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,M:()=>l});var i=r(667294),n=r(425288),o=r(785893);let{Provider:a,useMaybeHook:s}=(0,n.Z)("CreateSectionTooltip");function l({children:e}){let[t,r]=(0,i.useState)(!1),n=(0,i.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:r}),[t]);return(0,o.jsx)(a,{value:n,children:e})}},85141:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(667294),n=r(883119),o=r(407043),a=r(636803),s=r(898781),l=r(977558),d=r(815299),c=r(604356),u=r(785893);function h({board:e,onArchiveClick:t,onCreatePincode:r,onEditBoardClick:h,onEditSectionClick:p,onMergeClick:_,onUnarchiveClick:m,showArchiveOnly:g=!1,showCreatePinCodeOption:f,surface:b}){let y=(0,s.ZP)(),v=(0,i.useRef)(null),{logContextEvent:x}=(0,o.v)(),[w,P]=(0,i.useState)(!1),[S,C]=(0,i.useState)("boardOptions"),j=()=>{P(!1),C("boardOptions")},A={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},E=()=>{P(e=>!e),C("boardOptions")},T=!!e.archived_by_me_at,I=["section"===b?function({handleClose:e,onEditClick:t,setMenuType:r},i,n){let o=[{dataTestId:"edit-section-button",text:i._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{t(),e()}},{text:i._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(n),r("boardShare")}}],a=i._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout');return{items:o,label:a}}({handleClose:j,onEditClick:p,setMenuType:C},y,x):function({handleClose:e,isArchived:t,onArchiveClick:r,onCreatePincode:i,onEditClick:n,onMergeClick:o,onUnarchiveClick:a,setMenuType:s,showCreatePinCodeOption:l,isAdOnlyPins:c},u,h,p){let _=p?[]:[{dataTestId:"editBoardButton",text:u._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{n(),e()}},{text:u._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(h),s("boardShare")}}];c||_.push({text:u._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:()=>{o(),e()}}),t?_.push({text:u._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:()=>{a(),e()}}):_.push({text:u._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:()=>{r(),e()}}),l&&!p&&_.push({text:u._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:()=>{i(),e()}});let m=u._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout');return{items:_,label:m}}({handleClose:j,isArchived:T,onArchiveClick:t,onCreatePincode:r,onEditClick:h,onMergeClick:_,onUnarchiveClick:m,setMenuType:C,showCreatePinCodeOption:f,isAdOnlyPins:e.is_ads_only},y,x,g)];return(0,u.jsxs)(n.xu,{position:"relative",zIndex:new n.Ry(l.fe-1),children:[(0,u.jsx)(n.xu,{ref:v,"data-test-id":"more-board-options",children:(0,u.jsx)(n.hU,{accessibilityLabel:y._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:E,selected:w,size:"sm"})}),(0,u.jsx)(a.Z,{anchors:{3001:v.current},onCompleteByAnchor:{3001:E},placementId:18}),w&&("boardOptions"===S?(0,u.jsx)(n.Lt,{anchor:v.current,disableMobileUI:!0,id:"board_options",onDismiss:j,children:I.map(({items:e,label:t})=>(0,u.jsx)(n.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:r,text:i})=>(0,u.jsx)(n.Lt.Item,{dataTestId:e,onSelect:r,option:{label:i,value:i},selected:t?{label:i,value:i}:null},i))},t))}):(0,u.jsx)(n.J2,{anchor:v.current,onDismiss:j,size:"flexible",children:(0,u.jsx)(c.Z,{component:13216,onCreatePincodeClick:r,onHide:j,sendType:"board",sharedObject:A,viewType:5})}))]})}},641388:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=({boardCollaboratorCount:e,collaborators:t})=>{let r=e?e+1:t.length,i=r>3,n=t.slice(0,i?2:3),o=i?r-n.length:0;return{displayedCollaborators:n,nonDisplayedCollaboratorCount:o}}},187279:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(883119),n=r(785893);function o({children:e}){return(0,n.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:e})}},563173:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i,n=r(702664);r(167912);var o=r(883119),a=r(407043),s=r(916117),l=r(898781),d=r(887831),c=r(958290),u=r(785893);let h=void 0!==i?i:i=r(513818);function p({pin:e}){return(0,u.jsx)(o.zd,{rounding:4,width:138,children:(0,u.jsx)(c.Z,{height:207,pin:e&&{imageUrl:e.imageSpec_474x?.url??"",dominantColor:e.dominantColor??"",description:e.description??""},width:138})})}function _({collection:e,storyKey:t,url:r}){let{logContextEvent:i}=(0,a.v)(),n=(0,l.ZP)(),{isHovering:c,hoverHandlers:_}=(0,d.Z)(),m=(0,s.Z)(h,t);if(!m)return null;let g=m.objects&&m.objects.filter(e=>"pin"===e.type)||[];return(0,u.jsx)("div",{className:"moreIdeasOnBoard",children:(0,u.jsx)(o.Tg,{fullWidth:!1,href:`${r}?ideas_referrer=${m.referringSource??""}`,onMouseEnter:_.onMouseOver,onMouseLeave:_.onMouseLeave,onTap:()=>i({event_type:101,element:10600,view_type:"boardsection"===e.type?164:5,object_id_str:e.id,view_parameter:3069}),rounding:4,children:(0,u.jsxs)(o.xu,{alignItems:"start",color:c?"secondary":"default",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[(0,u.jsx)(o.xu,{padding:2,children:(0,u.jsx)(o.X6,{lineClamp:1,size:"400",children:"boardsection"===e.type?n._('Find some ideas for this section:', 'Call-to-action text that upsells more ideas tab for an empty section', 'Call-to-action text that upsells more ideas tab for an empty section'):n._('Find some ideas for this board:', 'Call-to-action text that upsells more ideas tab for an empty board', 'Call-to-action text that upsells more ideas tab for an empty board')})}),(0,u.jsx)(o.xu,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:[...[,,,,,].keys()].map(e=>{let t=g[e],r=t&&t.description?t.description.trim():"";return(0,u.jsx)(o.xu,{"data-test-id":r?"pin-with-alt-text":"pin-missing-alt-text",children:(0,u.jsx)(p,{pin:t})},`${t&&t.entityId?t.entityId:e}`)})})]})})})}function m(e){let t=(0,n.useSelector)(t=>t.desktopStories[e.storyId]),r="board_ideas_preview_detailed"===t.story_type?t:void 0;return(0,u.jsx)(_,{...e,storyKey:void 0!==r?{type:"deprecated",data:r}:null})}},120973:(e,t,r)=>{"use strict";function i({boardDensity:e,component:t,viewType:r},i){let n=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:r}),o=4===r?3106:3069;i({event_type:101,component:t,element:n,...r?{view_type:r,view_parameter:o}:Object.freeze({})})}r.d(t,{Z:()=>i})},656061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(214494);function n({density:e,surface:t}){let r="board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e};i.Z.create("UserMetadataResource",r).callUpdate()}},958290:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(883119),n=r(898781),o=r(66699),a=r(785893);function s({pinCount:e,height:t,size:r}){let s=(0,n.ZP)(),l=(0,o.Z)(s._('+{{ pinCount }}', '+N count overlay on pin selections', '+N count overlay on pin selections'),{pinCount:e});return(0,a.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",height:t,justifyContent:"center",children:"sm"===r?(0,a.jsx)(i.xv,{color:"light",size:"200",weight:"bold",children:l}):(0,a.jsx)(i.X6,{color:"light",size:"500",children:l})})}function l({additionalPinCount:e,additionalPinCountSize:t="lg",pin:r,width:n,height:o,rounded:l}){return(0,a.jsx)(i.zd,{height:o,rounding:l?4:0,wash:!0,width:n,children:r&&(0,a.jsx)(i.Ee,{alt:r.description,color:r.dominantColor,fit:"cover",naturalHeight:o,naturalWidth:n,src:r.imageUrl,children:!!e&&(0,a.jsx)(s,{height:o,pinCount:e,size:t})})})}},978213:(e,t,r)=>{"use strict";r.d(t,{A3:()=>d,C1:()=>u,Cw:()=>m,Ev:()=>o,IK:()=>n,Jk:()=>l,Kx:()=>_,Oj:()=>a,PM:()=>g,VD:()=>h,aM:()=>p,bW:()=>s,cJ:()=>b,kz:()=>c,p8:()=>f});var i=r(883119);let n=1,o=1,a=2,s=new i.Ry(5e3),l=15,d=15,c=18,u=24,h=31,p=40,_=30,m=40,g=50,f=60,b=70},815299:(e,t,r)=>{"use strict";function i(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}r.d(t,{Z:()=>i})},507016:(e,t,r)=>{"use strict";r.d(t,{W:()=>c,Z:()=>u});var i=r(883119),n=r(27255),o=r(898781),a=r(486746),s=r(24886),l=r(488769),d=r(785893);function c(e,t=""){let r=e&&e.length>1?RegExp(e,"i"):"",i=e&&e.length>1?t.split(r).reduce((r,i,n)=>{if(r.length>0&&e&&e.length){let o=t.toLowerCase().indexOf(e.toLowerCase());return r.concat((0,d.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(o,o+e.length)},n),i)}return[i]},[]):t;return i}let u=function(e){let t=(0,o.ZP)(),{disabled:r,item:u,isSection:h,isSelectMode:p,isWithinSectionPicker:_,saveState:m,searchQuery:g,selected:f}=e,b=h?null:u,y=h?u:null,v=y&&y.title||b&&b.name||"",x="",w=!1,P="",S=0;b&&({image_cover_url:x,is_collaborative:w,privacy:P,section_count:S=0}=b);let C=c(g,v),j=P===n.Z.BoardPrivacy.SECRET,A=!r&&(f||!!m),E=!_&&"number"==typeof S&&S>0,T="number"==typeof S&&S>0?"boardWithSection":"boardWithoutSection",I=p?t._('Select', 'Board select button label', 'Board select button label'):t._('Save', 'Pin save button label', 'Pin save button label');return(0,d.jsxs)(i.xu,{alignItems:"center",color:A?"secondary":"default","data-test-id":T,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[b&&(0,d.jsx)(i.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:x?(0,d.jsx)(i.Ee,{alt:t._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:x}):(0,d.jsx)("span",{})}),y&&!!y.preview_pins?.length&&(0,d.jsx)(s.Z,{image_url:y.preview_pins[0].image_square_url??"",naturalHeight:y.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:y.preview_pins[0].image_square_size_pixels?.width??1}),(0,d.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(i.xv,{color:r?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:C}),(E||!A)&&(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[j&&(0,d.jsx)(l.Z,{type:"secret"}),w&&(0,d.jsx)(a.Z,{board:b,showCollaborativeIcon:w,useLegoLayout:!0}),E&&(0,d.jsx)(l.Z,{type:"sections"})]}),!E&&A&&!m&&(0,d.jsx)(i.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,d.jsx)(i.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:I})}),!E&&A&&"loading"===m&&(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,d.jsx)(i.$j,{accessibilityLabel:t._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},488769:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(883119),n=r(898781),o=r(785893);let a=function({type:e}){let t=(0,n.ZP)(),r={group:{accessibilityLabel:t._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:t._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:t._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}},a=r[e];return(0,o.jsx)(i.xu,{marginStart:1,children:(0,o.jsx)(i.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,o.jsx)(i.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:"12"}):(0,o.jsx)(i.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:16})})})}},538716:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(667294),n=r(883119),o=r(407043),a=r(898781),s=r(784590),l=r(785893);function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{isHovering:!1}),d(this,"onHover",()=>{this.setState({isHovering:!0})}),d(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){let{name:e,selected:t,image:r,inFlyoutExp:i}=this.props;return i?(0,l.jsxs)(n.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,l.jsx)(n.xu,{children:(0,l.jsx)(n.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&r?(0,l.jsx)(n.Ee,{alt:"",color:"",fit:"cover",naturalHeight:r.height??1,naturalWidth:r.width??1,src:r.url??""}):(0,l.jsx)(n.xu,{color:"secondary",height:40,width:40})})}),(0,l.jsx)(n.xu,{padding:2,children:(0,l.jsx)(n.X6,{size:"400",children:e})})]}):(0,l.jsxs)(n.xu,{alignItems:"center",color:t?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,l.jsx)(n.xu,{children:(0,l.jsx)(n.JO,{accessibilityLabel:"",color:t?"default":"subtle",icon:"add"})}),(0,l.jsx)(n.xu,{marginStart:3,children:(0,l.jsx)(n.xv,{color:t?"default":"subtle",weight:"bold",children:e})})]})}}let u=e=>(0,i.useMemo)(()=>e&&e.length?e.map(e=>e.title):[],[e]),h=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:r,image:d,minHeight:h,onBoardSelected:p})=>{let{logContextEvent:_}=(0,o.v)(),m=(0,a.ZP)(),[g,f]=(0,i.useState)(-1),{data:b=[],isLoaded:y}=(0,s.Z)({name:"ApiResource",options:{url:`/v3/pins/${String(r)}/board_title_suggestions/`,pin_id:r}}),v=u(b),x=e=>{p(v[e],!1),_({event_type:101,component:13025,element:23})},w=e=>{f(e)},P=()=>{f(-1)},S=(t,r)=>{let i=g===r;return(0,l.jsx)("li",{children:(0,l.jsx)(n.iP,{onMouseEnter:()=>w(r),onMouseLeave:P,onTap:()=>x(r),children:(0,l.jsx)(c,{image:d,inFlyoutExp:e,name:t,selected:i})})},r)};return y?v&&v.length?e?(0,l.jsx)(n.xu,{children:(0,l.jsx)("ul",{children:v.map(S)})}):t?(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(n.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,l.jsx)(n.xv,{children:m._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,l.jsx)("ul",{children:v.map(S)})]}):(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(n.xu,{marginTop:2,paddingX:5,children:(0,l.jsx)(n.xv,{children:m._('Suggested board names', ' - ', ' -- ')})}),(0,l.jsx)("ul",{children:v.map(S)})]}):null:(0,l.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:h||"",children:(0,l.jsx)(n.$j,{accessibilityLabel:m._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},411547:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(883119),n=r(898781),o=r(887831),a=r(785893);function s(e){let t=(0,n.ZP)(),{buttonLabel:r,hasHoverState:s,name:l,onClick:d}=e,{isHovering:c,hoverHandlers:u}=(0,o.Z)(),h=l||r||t._('Create board', ' - ', ' -- ');return(0,a.jsx)(i.iP,{onMouseEnter:u.onMouseOver,onMouseLeave:u.onMouseLeave,onTap:d,children:(0,a.jsxs)(i.xu,{alignItems:"center",color:s&&c?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,a.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,a.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),l?(0,a.jsx)(i.xu,{margin:1,children:(0,a.jsxs)(i.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,a.jsxs)(i.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",h," "]})]})})}},553751:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(667294),n=r(702664),o=r(883119),a=r(112690),s=r(898781),l=r(755742),d=r(19121),c=r(717615),u=r(231947),h=r(274495),p=r(678638),_=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.Component{constructor(e){super(e),m(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:r,dispatch:i,completeCreateSectionAction:n,pinImport:o,viewer:a,orbacActingAs:s,logContextEvent:l}=this.props,d=(0,u.lJ)(a,s);return this.setState({isSaving:!0}),i((0,p.vB)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:r&&r.id,name:this.state.inputName.trim(),pinImport:o},this.props.i18n,d,l)).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),m(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:r}=this.state;[l.Z.ENTER,l.Z.NUMPAD_ENTER].includes(e.which)&&!t&&r.trim()&&this.onCreateSection()}),m(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),m(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:r,inputRef:i}=this.state;i&&(!t.inputRef||r)&&i.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:r,inputName:i,isSaving:n}=this.state,a=!!i.trim()&&!r;return(0,_.jsxs)(o.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[e&&(0,_.jsx)(o.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,_.jsx)(o.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,_.jsxs)(o.xu,{padding:4,children:[(0,_.jsx)(o.xu,{marginBottom:2,children:(0,_.jsx)(o.__,{htmlFor:"sectionEditName",children:(0,_.jsx)(o.xv,{color:r?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,_.jsx)(o.xu,{children:(0,_.jsx)(o.xu,{ref:this.handleInputRef,children:(0,_.jsx)(o.nv,{errorMessage:r||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:i})})})]}),(0,_.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,_.jsx)(o.xu,{padding:4,children:(0,_.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,_.jsx)(h.Z,{disabled:!a||n,onClick:this.onCreateSection,submitting:n,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}let f=function(e){let t=(0,n.useDispatch)(),r=(0,s.ZP)(),i=(0,d.Z)(),o=(0,c.Z)();return(0,_.jsx)(g,{...e,dispatch:t,i18n:r,logContextEvent:(0,a.Z)(),orbacActingAs:o,viewer:i})}},920912:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,S:()=>n});let i=4e3,n={LOADING:"loading",SUCCESS:"success"}},604356:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(667294),n=r(883119),o=r(319915),a=r(898781),s=r(947599),l=r(785893);let d=(0,i.lazy)(()=>Promise.all([r.e(10966),r.e(49510),r.e(49426),r.e(61116)]).then(r.bind(r,535591)));function c(e){let t=(0,a.ZP)();return(0,l.jsx)(o.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,l.jsx)(s.Z,{fallback:(0,l.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,l.jsx)(n.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,l.jsx)(d,{...e})})})}},201155:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(883119),n=r(499128),o=r(898781),a=r(784590),s=r(50286),l=r(785893);function d({ideaPinImages:e}){let t=e.map((e,t)=>(0,l.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,l.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e?.url??""})},t));return(0,l.jsx)(i.kC,{justifyContent:"center",children:(0,l.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:r,href:c,imageUrl:u}){let h=(0,o.ZP)(),p=(0,s.HG)(),_=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:r}}),m=Array.isArray(t)?t.join(" "):t;if(0===(_.data||[]).length)return(0,l.jsx)(n.ZP,{duration:5e3,href:c,onHide:e,text:m,thumbnail:u?{image:(0,l.jsx)(i.Ee,{alt:h._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let g=(_.data||[]).slice(0,3).map(e=>e.images?.[p?"236x":"170x"]),f=(0,l.jsx)(d,{ideaPinImages:g});return(0,l.jsx)(n.ZP,{_dangerouslySetThumbnail:f,duration:5e3,href:c,onHide:e,text:m})}},116674:(e,t,r)=>{"use strict";r.d(t,{X:()=>c,f:()=>d});var i=r(667294),n=r(425288),o=r(623568);function a(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var s=r(785893);let{Provider:l,useHook:d}=(0,n.Z)("ReportData");function c({children:e}){let[t,r]=(0,i.useReducer)(a,null),n=(0,i.useCallback)(()=>r({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,i.useCallback)((e,t,i)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:i,nodeId:null}}),[]),c=(0,i.useCallback)((e,t,i)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation",nodeId:null}}),[]),u=(0,i.useCallback)(({id:e,viewParameter:t,viewType:i,nodeId:n})=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin",nodeId:n}}),[]),h=(0,i.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:i,firstVideoDuration:n,isProduct:a,viewParameter:s,viewType:l,isThirdPartyAd:d,nodeId:c})=>{let u=(0,o.jL)(t,i);r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:a,isPromoted:u,videoDuration:n,viewParameter:s,viewType:l,type:"pin",isThirdPartyAd:d,nodeId:c}})},[]),p=(0,i.useMemo)(()=>({reportData:t,dismiss:n,reportComment:d,reportConversation:c,reportImage:u,reportPin:h}),[t,n,d,c,u,h]);return(0,s.jsx)(l,{value:p,children:e})}},109892:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(702664),n=r(782677),o=r(214494),a=r(332611),s=r(886858),l=r(379725),d=r(414327);function c(){let e=(0,i.useDispatch)(),t=(0,i.useSelector)(e=>e.resources);return async function({boardCreateOptions:r,deprecatedSchemaForNormalization:i}){let c=await o.Z.create("BoardResource",r).callCreate(),u=c.resource_response.data,h=i?(0,n.Fv)(u,i):void 0;e((0,d.XM)("BoardResource",r,c,h)),e((0,a.fO)({event_type:20})),u.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let p=t.BoardsResource||{},_=t.BoardsFeedResource||{};return Object.keys(p).forEach(t=>{let r=(0,s.k)(t);r.username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(_).forEach(t=>{let r=(0,s.k)(t);r.username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},693967:(e,t)=>{var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)i.call(e,r)&&e[r]&&(t=o(t,r));return t}(r)))}return e}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)}()},45528:(e,t,r)=>{"use strict";r.d(t,{NO:()=>er,Yn:()=>Q,a4:()=>D,mw:()=>z});var i,n,o,a,s,l=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},d=function(e){if("loading"===document.readyState)return"loading";var t=l();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},c=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},u=function(e,t){var r="";try{for(;e&&9!==e.nodeType;){var i=e,n=i.id?"#"+i.id:c(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(r.length+n.length>(t||100)-1)return r||n;if(r=r?n+">"+r:n,i.id)break;e=i.parentNode}}catch(e){}return r},h=-1,p=function(){return h},_=function(e){addEventListener("pageshow",function(t){t.persisted&&(h=t.timeStamp,e(t))},!0)},m=function(){var e=l();return e&&e.activationStart||0},g=function(e,t){var r=l(),i="navigate";return p()>=0?i="back-forward-cache":r&&(document.prerendering||m()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},f=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},r||{})),i}}catch(e){}},b=function(e,t,r,i){var n,o;return function(a){var s;t.value>=0&&(a||i)&&((o=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=o,t.rating=(s=t.value)>r[1]?"poor":s>r[0]?"needs-improvement":"good",e(t))}},y=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},v=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},x=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},w=-1,P=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},S=function(e){"hidden"===document.visibilityState&&w>-1&&(w="visibilitychange"===e.type?e.timeStamp:0,j())},C=function(){addEventListener("visibilitychange",S,!0),addEventListener("prerenderingchange",S,!0)},j=function(){removeEventListener("visibilitychange",S,!0),removeEventListener("prerenderingchange",S,!0)},A=function(){return w<0&&(w=P(),C(),_(function(){setTimeout(function(){w=P(),C()},0)})),{get firstHiddenTime(){return w}}},E=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},T=[1800,3e3],I=function(e,t){t=t||{},E(function(){var r,i=A(),n=g("FCP"),o=f("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(n.value=Math.max(e.startTime-m(),0),n.entries.push(e),r(!0)))})});o&&(r=b(e,n,T,t.reportAllChanges),_(function(i){r=b(e,n=g("FCP"),T,t.reportAllChanges),y(function(){n.value=performance.now()-i.timeStamp,r(!0)})}))})},k=[.1,.25],z=function(e,t){var r,i;r=function(t){(function(e){if(e.entries.length){var t,r=e.entries.reduce(function(e,t){return e&&e.value>t.value?e:t});if(r&&r.sources&&r.sources.length){var i=(t=r.sources).find(function(e){return e.node&&1===e.node.nodeType})||t[0];if(i)return void(e.attribution={largestShiftTarget:u(i.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:i,largestShiftEntry:r,loadState:d(r.startTime)})}}e.attribution={}})(t),e(t)},i=(i=t)||{},I(x(function(){var e,t=g("CLS",0),n=0,o=[],a=function(r){r.forEach(function(e){if(!e.hadRecentInput){var t=o[0],r=o[o.length-1];n&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(n+=e.value,o.push(e)):(n=e.value,o=[e])}}),n>t.value&&(t.value=n,t.entries=o,e())},s=f("layout-shift",a);s&&(e=b(r,t,k,i.reportAllChanges),v(function(){a(s.takeRecords()),e(!0)}),_(function(){n=0,e=b(r,t=g("CLS",0),k,i.reportAllChanges),y(function(){return e()})}),setTimeout(e,0))}))},D=function(e,t){I(function(t){!function(e){if(e.entries.length){var t=l(),r=e.entries[e.entries.length-1];if(t){var i=t.activationStart||0,n=Math.max(0,t.responseStart-i);return void(e.attribution={timeToFirstByte:n,firstByteToFCP:e.value-n,loadState:d(e.entries[0].startTime),navigationEntry:t,fcpEntry:r})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:d(p())}}(t),e(t)},t)},R={passive:!0,capture:!0},B=new Date,O=function(e,t){i||(i=t,n=e,o=new Date,M(removeEventListener),Z())},Z=function(){if(n>=0&&n<o-B){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+n};a.forEach(function(t){t(e)}),a=[]}},L=function(e){if(e.cancelable){var t,r,i,n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){O(n,e),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,R),removeEventListener("pointercancel",r,R)},addEventListener("pointerup",t,R),addEventListener("pointercancel",r,R)):O(n,e)}},M=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,L,R)})},N=0,F=1/0,U=0,H=function(e){e.forEach(function(e){e.interactionId&&(F=Math.min(F,e.interactionId),N=(U=Math.max(U,e.interactionId))?(U-F)/7+1:0)})},$=function(){return s?N:performance.interactionCount||0},V=function(){"interactionCount"in performance||s||(s=f("event",H,{type:"event",buffered:!0,durationThreshold:0}))},W=[200,500],G=0,q=function(){return $()-G},K=[],Y={},X=function(e){var t=K[K.length-1],r=Y[e.interactionId];if(r||K.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};Y[i.id]=i,K.push(i)}K.sort(function(e,t){return t.latency-e.latency}),K.splice(10).forEach(function(e){delete Y[e.id]})}},J=function(e,t){t=t||{},E(function(){V();var r,i,n=g("INP"),o=function(e){e.forEach(function(e){e.interactionId&&X(e),"first-input"!==e.entryType||K.some(function(t){return t.entries.some(function(t){return e.duration===t.duration&&e.startTime===t.startTime})})||X(e)});var t,r=(t=Math.min(K.length-1,Math.floor(q()/50)),K[t]);r&&r.latency!==n.value&&(n.value=r.latency,n.entries=r.entries,i())},a=f("event",o,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});i=b(e,n,W,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),v(function(){o(a.takeRecords()),n.value<0&&q()>0&&(n.value=0,n.entries=[]),i(!0)}),_(function(){K=[],G=$(),i=b(e,n=g("INP"),W,t.reportAllChanges)}))})},Q=function(e,t){J(function(t){!function(e){if(e.entries.length){var t=e.entries.sort(function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)})[0],r=e.entries.find(function(e){return e.target});e.attribution={eventTarget:u(r&&r.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:d(t.startTime)}}else e.attribution={}}(t),e(t)},t)},ee=[2500,4e3],et={},er=function(e,t){var r,i;r=function(t){(function(e){if(e.entries.length){var t=l();if(t){var r=t.activationStart||0,i=e.entries[e.entries.length-1],n=i.url&&performance.getEntriesByType("resource").filter(function(e){return e.name===i.url})[0],o=Math.max(0,t.responseStart-r),a=Math.max(o,n?(n.requestStart||n.startTime)-r:0),s=Math.max(a,n?n.responseEnd-r:0),d=Math.max(s,i?i.startTime-r:0),c={element:u(i.element),timeToFirstByte:o,resourceLoadDelay:a-o,resourceLoadTime:s-a,elementRenderDelay:d-s,navigationEntry:t,lcpEntry:i};return i.url&&(c.url=i.url),n&&(c.lcpResourceEntry=n),void(e.attribution=c)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}})(t),e(t)},i=(i=t)||{},E(function(){var e,t=A(),n=g("LCP"),o=function(r){var i=r[r.length-1];i&&i.startTime<t.firstHiddenTime&&(n.value=Math.max(i.startTime-m(),0),n.entries=[i],e())},a=f("largest-contentful-paint",o);if(a){e=b(r,n,ee,i.reportAllChanges);var s=x(function(){et[n.id]||(o(a.takeRecords()),a.disconnect(),et[n.id]=!0,e(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return setTimeout(s,0)},!0)}),v(s),_(function(t){e=b(r,n=g("LCP"),ee,i.reportAllChanges),y(function(){n.value=performance.now()-t.timeStamp,et[n.id]=!0,e(!0)})})}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/BoardPage-BoardPageAuthDesktop-24abd4ebb2bf52b9.mjs.map